/**!
 *	9.2.0
 *	Generation date: 2024-03-08T13:38:08.991Z
 *	Client name: quantl
 *	Package Type: Core alacarte
 *	License type: trial
 *	Build descriptor: v9.1.0-86-gc0db61403
 */

/***********************************************************!
 * Copyright Â© 2023 S&P Global All rights reserved
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
o1YMc[386458]=(function(){var Y=2;for(;Y !== 9;){switch(Y){case 5:var T;try{var Q=2;for(;Q !== 6;){switch(Q){case 3:throw "";Q=9;break;case 4:Q=typeof svu$o === '\x75\x6e\x64\u0065\x66\u0069\u006e\u0065\u0064'?3:9;break;case 9:delete T['\u0073\x76\x75\x24\x6f'];var g=Object['\x70\x72\x6f\u0074\u006f\u0074\u0079\x70\u0065'];Q=7;break;case 5:T['\u0073\u0076\u0075\x24\x6f']=T;Q=4;break;case 2:Object['\u0064\u0065\x66\u0069\x6e\x65\x50\x72\x6f\x70\u0065\x72\u0074\x79'](Object['\x70\u0072\x6f\x74\u006f\x74\x79\u0070\x65'],'\u0071\x31\u006a\x70\u0078',{'\x67\x65\x74':function(){return this;},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});T=q1jpx;Q=5;break;case 7:delete g['\u0071\u0031\u006a\u0070\x78'];Q=6;break;}}}catch(N){T=window;}return T;break;case 1:return globalThis;break;case 2:Y=typeof globalThis === '\x6f\x62\x6a\x65\u0063\x74'?1:5;break;}}})();o1YMc.V_H3N=V_H3N;I0GUeP(o1YMc[386458]);o1YMc[318205]=(function(){var A1F=2;for(;A1F !== 5;){switch(A1F){case 2:var X_4={y28qFd9:(function(O5n){var n0y=2;for(;n0y !== 18;){switch(n0y){case 13:(m7A++,e3C++);n0y=8;break;case 9:var m7A=0,e3C=0;n0y=8;break;case 2:var U51=function(x6z){var p1D=2;for(;p1D !== 11;){switch(p1D){case 2:var b0j=T3kAT.a8PqCz;var S0P=y3JPRY.z6u3kO;var G99=[];p1D=4;break;case 12:return Z8J;break;case 4:var E9c=0;p1D=3;break;case 3:p1D=E9c < x6z.length?9:7;break;case 9:G99[E9c]=b0j(x6z[E9c] + 83);p1D=8;break;case 8:E9c++;p1D=3;break;case 13:p1D=!Z8J?6:12;break;case 7:var V2F,Z8J;p1D=6;break;case 6:V2F=G99.H1P3aJ(function(){var p50=2;for(;p50 !== 1;){switch(p50){case 2:return 0.5 - S0P();break;}}}).a3CJsM('');Z8J=o1YMc[V2F];p1D=13;break;}}};n0y=1;break;case 1:var i0a='',W__=W3vLk8(U51([-5,3,12,-11,-32])());var U4b=T3kAT.a8PqCz;var D7L=W__.v8rke.bind(W__);var y5c=O5n.v8rke.bind(O5n);n0y=9;break;case 14:i0a+=U4b(D7L(m7A) ^ y5c(e3C));n0y=13;break;case 8:n0y=m7A < W__.length?7:12;break;case 7:n0y=e3C === O5n.length?6:14;break;case 12:i0a=i0a.A9$an2(')');var f$W=0;var a4X=function(c0v){var D6V=2;for(;D6V !== 35;){switch(D6V){case 25:D6V=f$W === 7 && c0v === 39?24:22;break;case 13:D6V=f$W === 3 && c0v === 27?12:10;break;case 3:D6V=f$W === 1 && c0v === 33?9:7;break;case 21:return A2D(c0v);break;case 24:f$W+=1;D6V=23;break;case 17:f$W+=1;D6V=16;break;case 16:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-5,5).q_TUSX(0,3));D6V=4;break;case 7:D6V=f$W === 2 && c0v === 8?6:13;break;case 19:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-9,9).q_TUSX(0,7));D6V=4;break;case 10:D6V=f$W === 4 && c0v === 34?20:18;break;case 12:f$W+=1;D6V=11;break;case 4:return f$W;break;case 26:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-4,4).q_TUSX(0,3));D6V=4;break;case 27:f$W+=1;D6V=26;break;case 2:D6V=f$W === 0 && c0v === 51?1:3;break;case 15:D6V=f$W === 6 && c0v === 4?27:25;break;case 6:f$W+=1;D6V=14;break;case 1:f$W+=1;D6V=5;break;case 5:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-7,7).q_TUSX(0,6));D6V=4;break;case 14:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-9,9).q_TUSX(0,7));D6V=4;break;case 9:f$W+=1;D6V=8;break;case 20:f$W+=1;D6V=19;break;case 22:X_4.y28qFd9=A2D;D6V=21;break;case 8:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-7,7).q_TUSX(0,6));D6V=4;break;case 18:D6V=f$W === 5 && c0v === 54?17:15;break;case 11:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-2,2).q_TUSX(0,1));D6V=4;break;case 23:i0a.x2drPM.E6kn1z(i0a,i0a.q_TUSX(-9,9).q_TUSX(0,8));D6V=4;break;}}};var A2D=function(A6K){var F_K=2;for(;F_K !== 1;){switch(F_K){case 2:return i0a[A6K];break;}}};return a4X;break;case 6:e3C=0;n0y=14;break;}}})('6VP7WI')};return X_4;break;}}})();o1YMc.g$m=function(){return typeof o1YMc[318205].y28qFd9 === 'function'?o1YMc[318205].y28qFd9.apply(o1YMc[318205],arguments):o1YMc[318205].y28qFd9;};o1YMc.Q1R=function(){return typeof o1YMc[318205].y28qFd9 === 'function'?o1YMc[318205].y28qFd9.apply(o1YMc[318205],arguments):o1YMc[318205].y28qFd9;};var t6sRY_=2;for(;t6sRY_ !== 11;){switch(t6sRY_){case 8:t6sRY_=o1YMc.g$m(34) == 30?7:6;break;case 12:o1YMc.N8m=96;t6sRY_=11;break;case 5:t6sRY_=o1YMc.Q1R(8) == 3?4:3;break;case 1:o1YMc.c6A=16;t6sRY_=5;break;case 4:o1YMc.F1C=57;t6sRY_=3;break;case 2:t6sRY_=o1YMc.Q1R(51) === o1YMc.Q1R(33)?1:5;break;case 7:o1YMc.y$Q=24;t6sRY_=6;break;case 3:t6sRY_=o1YMc.Q1R(27) <= 33?9:8;break;case 9:o1YMc.w6f=27;t6sRY_=8;break;case 13:t6sRY_=o1YMc.Q1R(4) !== o1YMc.g$m(39)?12:11;break;case 14:o1YMc.h8k=47;t6sRY_=13;break;case 6:t6sRY_=o1YMc.g$m(54) === 18?14:13;break;}}o1YMc.y$U=function(){return typeof o1YMc[316394].G5MDmgI === 'function'?o1YMc[316394].G5MDmgI.apply(o1YMc[316394],arguments):o1YMc[316394].G5MDmgI;};function I0GUeP(Q0$){function k8C(V6X,O0X,S_e,l9k,D_Y){var h$k=2;for(;h$k !== 8;){switch(h$k){case 2:var P2I=[arguments];P2I[3]="defin";P2I[1]=false;P2I[2]="ePrope";P2I[4]="rty";h$k=9;break;case 9:try{var F9d=2;for(;F9d !== 13;){switch(F9d){case 9:P2I[5][P2I[0][4]]=P2I[5][P2I[0][2]];P2I[6].set=function(P2m){var t9i=2;for(;t9i !== 5;){switch(t9i){case 2:var D38=[arguments];P2I[5][P2I[0][2]]=D38[0][0];t9i=5;break;}}};P2I[6].get=function(){var Z2N=2;for(;Z2N !== 14;){switch(Z2N){case 2:var p0e=[arguments];p0e[1]="";p0e[1]="e";p0e[3]="";Z2N=3;break;case 3:p0e[3]="undefin";p0e[8]=p0e[3];p0e[8]+=p0e[1];p0e[8]+=p1L[46];Z2N=6;break;case 6:return typeof P2I[5][P2I[0][2]] == p0e[8]?undefined:P2I[5][P2I[0][2]];break;}}};P2I[6].enumerable=P2I[1];try{var Y8l=2;for(;Y8l !== 3;){switch(Y8l){case 4:P2I[0][0].Object[P2I[7]](P2I[5],P2I[0][4],P2I[6]);Y8l=3;break;case 2:P2I[7]=P2I[3];P2I[7]+=P2I[2];P2I[7]+=P2I[4];Y8l=4;break;}}}catch(o4J){}F9d=13;break;case 3:return;break;case 4:F9d=P2I[5].hasOwnProperty(P2I[0][4]) && P2I[5][P2I[0][4]] === P2I[5][P2I[0][2]]?3:9;break;case 2:P2I[6]={};P2I[8]=(1,P2I[0][1])(P2I[0][0]);P2I[5]=[P2I[8],P2I[8].prototype][P2I[0][3]];F9d=4;break;}}}catch(M1d){}h$k=8;break;}}}function s6i(D7a){var C7M=2;for(;C7M !== 5;){switch(C7M){case 2:var C53=[arguments];return C53[0][0];break;}}}function h8z(m5u){var L_8=2;for(;L_8 !== 5;){switch(L_8){case 2:var A15=[arguments];return A15[0][0].String;break;}}}var o7T=2;for(;o7T !== 182;){switch(o7T){case 47:p1L[84]="x2";p1L[20]="";p1L[20]="q_";p1L[36]="";p1L[68]="E6kn";p1L[36]="";o7T=62;break;case 13:p1L[9]="T3";p1L[5]="";p1L[5]="y";p1L[6]="";p1L[6]="u3kO";p1L[3]="";o7T=18;break;case 27:p1L[71]="3";p1L[83]="H1P";p1L[78]="";p1L[78]="sM";p1L[23]="aJ";p1L[55]="";p1L[55]="8";o7T=35;break;case 8:p1L[1]="qCz";p1L[4]="";p1L[4]="8P";p1L[2]="3JPR";o7T=13;break;case 36:p1L[46]="d";p1L[28]="z";p1L[45]="";p1L[45]="1";o7T=51;break;case 164:p1L[33]+=p1L[8];o7T=163;break;case 105:p1L[72]+=p1L[49];p1L[72]+=p1L[79];p1L[76]=p1L[27];p1L[76]+=p1L[36];o7T=132;break;case 94:p1L[85]+=p1L[56];p1L[85]+=p1L[65];p1L[37]=p1L[95];p1L[37]+=p1L[66];p1L[37]+=p1L[31];p1L[73]=p1L[67];o7T=117;break;case 153:P9o(Y02,"unshift",p1L[86],p1L[35]);o7T=189;break;case 35:p1L[17]="Y";p1L[44]="";p1L[90]="3CJ";p1L[44]="Lk";o7T=31;break;case 160:P9o(h8z,"fromCharCode",p1L[16],p1L[48]);o7T=159;break;case 163:var P9o=function(P28,d8E,R8Y,f2P){var b4Y=2;for(;b4Y !== 5;){switch(b4Y){case 2:var i1Y=[arguments];k8C(p1L[0][0],i1Y[0][0],i1Y[0][1],i1Y[0][2],i1Y[0][3]);b4Y=5;break;}}};o7T=162;break;case 31:p1L[61]="W3v";p1L[29]="";p1L[29]="";p1L[29]="n2";o7T=44;break;case 158:P9o(J$V,"random",p1L[16],p1L[43]);o7T=157;break;case 142:p1L[43]+=p1L[3];p1L[43]+=p1L[6];p1L[11]=p1L[5];p1L[11]+=p1L[2];o7T=138;break;case 187:P9o(W$k,"test",p1L[86],p1L[76]);o7T=186;break;case 162:P9o(h8z,"charCodeAt",p1L[86],p1L[33]);o7T=161;break;case 183:P9o(s6i,p1L[37],p1L[16],p1L[85]);o7T=182;break;case 121:p1L[52]+=p1L[89];p1L[52]+=p1L[29];p1L[58]=p1L[61];p1L[58]+=p1L[44];o7T=150;break;case 71:p1L[60]="__";p1L[80]="";p1L[80]="s";p1L[63]="";o7T=67;break;case 150:p1L[58]+=p1L[55];p1L[30]=p1L[13];p1L[30]+=p1L[90];p1L[30]+=p1L[78];o7T=146;break;case 51:p1L[96]="";p1L[96]="X";p1L[25]="";p1L[25]="TUS";o7T=47;break;case 58:p1L[79]="9";p1L[49]="";p1L[12]="iz";p1L[49]="iw";p1L[87]="";p1L[87]="H3j";o7T=75;break;case 155:P9o(s6i,"decodeURI",p1L[16],p1L[58]);o7T=154;break;case 188:P9o(Y02,"splice",p1L[86],p1L[41]);o7T=187;break;case 132:p1L[76]+=p1L[12];p1L[41]=p1L[20];p1L[41]+=p1L[25];p1L[41]+=p1L[96];o7T=128;break;case 62:p1L[36]="t0";p1L[27]="";p1L[27]="K0";p1L[79]="";o7T=58;break;case 40:p1L[42]="A";p1L[59]="";p1L[59]="rPM";p1L[28]="";o7T=36;break;case 75:p1L[60]="";p1L[60]="";p1L[51]="ract";p1L[15]="abst";o7T=71;break;case 84:p1L[88]="";p1L[88]="$";p1L[67]="l";p1L[31]="";o7T=80;break;case 169:p1L[10]=p1L[9];p1L[10]+=p1L[7];p1L[10]+=p1L[94];p1L[33]=p1L[92];p1L[33]+=p1L[55];o7T=164;break;case 138:p1L[11]+=p1L[17];p1L[48]=p1L[13];p1L[48]+=p1L[4];p1L[48]+=p1L[1];o7T=169;break;case 156:P9o(Y02,"join",p1L[86],p1L[30]);o7T=155;break;case 102:p1L[95]="_";p1L[56]="6zY";p1L[97]="";p1L[97]="u";o7T=98;break;case 18:p1L[3]="6";p1L[83]="";p1L[92]="v";p1L[94]="T";o7T=27;break;case 185:P9o(s6i,p1L[54],p1L[16],p1L[77]);o7T=184;break;case 128:p1L[34]=p1L[68];p1L[34]+=p1L[45];p1L[34]+=p1L[28];p1L[35]=p1L[84];p1L[35]+=p1L[46];p1L[35]+=p1L[59];p1L[52]=p1L[42];o7T=121;break;case 146:p1L[22]=p1L[83];p1L[22]+=p1L[71];p1L[22]+=p1L[23];p1L[43]=p1L[28];o7T=142;break;case 44:p1L[89]="";p1L[89]="9$a";p1L[42]="";p1L[13]="a";o7T=40;break;case 161:P9o(s6i,"String",p1L[16],p1L[10]);o7T=160;break;case 80:p1L[31]="ze";p1L[66]="";p1L[66]="_optimi";p1L[56]="";p1L[65]="m5";o7T=102;break;case 98:p1L[86]=3;p1L[86]=1;p1L[16]=0;p1L[85]=p1L[97];o7T=94;break;case 157:P9o(Y02,"sort",p1L[86],p1L[22]);o7T=156;break;case 67:p1L[26]="zL3";p1L[63]="N0";p1L[18]="";p1L[18]="";o7T=88;break;case 2:var p1L=[arguments];p1L[8]="";p1L[8]="rke";p1L[7]="";p1L[7]="kA";p1L[1]="";o7T=8;break;case 113:p1L[39]+=p1L[24];p1L[77]=p1L[63];p1L[77]+=p1L[80];p1L[77]+=p1L[26];o7T=109;break;case 117:p1L[73]+=p1L[88];p1L[73]+=p1L[40];p1L[39]=p1L[95];p1L[39]+=p1L[18];o7T=113;break;case 159:P9o(s6i,"Math",p1L[16],p1L[11]);o7T=158;break;case 88:p1L[24]="idual";p1L[18]="_res";p1L[40]="";p1L[40]="evjt";o7T=84;break;case 109:p1L[54]=p1L[60];p1L[54]+=p1L[15];p1L[54]+=p1L[51];p1L[72]=p1L[87];o7T=105;break;case 189:P9o(R_f,"apply",p1L[86],p1L[34]);o7T=188;break;case 154:P9o(h8z,"split",p1L[86],p1L[52]);o7T=153;break;case 184:P9o(s6i,p1L[39],p1L[16],p1L[73]);o7T=183;break;case 186:P9o(Y02,"push",p1L[86],p1L[72]);o7T=185;break;}}function R_f(l3u){var Y0$=2;for(;Y0$ !== 5;){switch(Y0$){case 2:var Z6t=[arguments];return Z6t[0][0].Function;break;}}}function W$k(h9G){var Q5g=2;for(;Q5g !== 5;){switch(Q5g){case 2:var f3g=[arguments];return f3g[0][0].RegExp;break;}}}function J$V(T5j){var y0H=2;for(;y0H !== 5;){switch(y0H){case 2:var R7Z=[arguments];return R7Z[0][0].Math;break;}}}function Y02(N92){var r0z=2;for(;r0z !== 5;){switch(r0z){case 2:var R4N=[arguments];return R4N[0][0].Array;break;}}}}o1YMc.b63=function(){return typeof o1YMc[431486].x_fCR27 === 'function'?o1YMc[431486].x_fCR27.apply(o1YMc[431486],arguments):o1YMc[431486].x_fCR27;};o1YMc[252022]=o1YMc[258103];o1YMc.m_N=function(){return typeof o1YMc[258103].k5cR7lN === 'function'?o1YMc[258103].k5cR7lN.apply(o1YMc[258103],arguments):o1YMc[258103].k5cR7lN;};o1YMc.u7W=function(){return typeof o1YMc[501777].w4ak4r6 === 'function'?o1YMc[501777].w4ak4r6.apply(o1YMc[501777],arguments):o1YMc[501777].w4ak4r6;};o1YMc[258103]=(function(){var h4C=2;for(;h4C !== 9;){switch(h4C){case 2:var X3q=[arguments];X3q[8]=undefined;X3q[2]={};X3q[2].k5cR7lN=function(){var U39=2;for(;U39 !== 90;){switch(U39){case 5:return 12;break;case 43:d1R[20]={};d1R[20].K7F=['g3k'];d1R[20].u9Q=function(){var l15=function(){return ('x y').slice(0,1);};var l7T=!(/\171/).K0t0iz(l15 + []);return l7T;};d1R[79]=d1R[20];U39=39;break;case 39:d1R[36]={};d1R[36].K7F=['g5S'];d1R[36].u9Q=function(){var s_T=false;var a26=[];try{for(var F_a in console)a26.H3jiw9(F_a);s_T=a26.length === 0;}catch(f4m){}var f0e=s_T;return f0e;};d1R[80]=d1R[36];d1R[5].H3jiw9(d1R[13]);d1R[5].H3jiw9(d1R[53]);d1R[5].H3jiw9(d1R[6]);U39=51;break;case 56:d1R[14]=d1R[5][d1R[22]];try{d1R[42]=d1R[14][d1R[33]]()?d1R[60]:d1R[39];}catch(q8W){d1R[42]=d1R[39];}U39=77;break;case 17:d1R[2].K7F=['g3k'];d1R[2].u9Q=function(){var Z0S=function(){return ('X').toLowerCase();};var R9o=(/\u0078/).K0t0iz(Z0S + []);return R9o;};d1R[4]=d1R[2];U39=27;break;case 68:U39=71?68:67;break;case 25:d1R[92].u9Q=function(){var i4d=typeof N0szL3 === 'function';return i4d;};d1R[53]=d1R[92];U39=23;break;case 31:d1R[13]=d1R[12];d1R[43]={};d1R[43].K7F=['g3k'];d1R[43].u9Q=function(){var w6m=function(){return ('aaa').includes('a');};var k31=(/\u0074\u0072\x75\u0065/).K0t0iz(w6m + []);return k31;};d1R[88]=d1R[43];U39=43;break;case 35:d1R[54]=d1R[68];d1R[12]={};d1R[12].K7F=['g5S'];d1R[12].u9Q=function(){var p7Q=typeof l$evjt === 'function';return p7Q;};U39=31;break;case 2:var d1R=[arguments];U39=1;break;case 71:d1R[75]++;U39=76;break;case 58:d1R[22]=0;U39=57;break;case 77:d1R[75]=0;U39=76;break;case 69:U39=(function(Y3l){var m6l=2;for(;m6l !== 22;){switch(m6l){case 23:return M4E[5];break;case 7:m6l=M4E[4] < M4E[0][0].length?6:18;break;case 8:M4E[4]=0;m6l=7;break;case 19:M4E[4]++;m6l=7;break;case 16:m6l=M4E[4] < M4E[2].length?15:23;break;case 12:M4E[2].H3jiw9(M4E[8][d1R[69]]);m6l=11;break;case 15:M4E[9]=M4E[2][M4E[4]];M4E[3]=M4E[7][M4E[9]].h / M4E[7][M4E[9]].t;m6l=26;break;case 4:M4E[7]={};M4E[2]=[];M4E[4]=0;m6l=8;break;case 11:M4E[7][M4E[8][d1R[69]]].t+=true;m6l=10;break;case 20:M4E[7][M4E[8][d1R[69]]].h+=true;m6l=19;break;case 14:m6l=typeof M4E[7][M4E[8][d1R[69]]] === 'undefined'?13:11;break;case 5:return;break;case 17:M4E[4]=0;m6l=16;break;case 25:M4E[5]=true;m6l=24;break;case 13:M4E[7][M4E[8][d1R[69]]]=(function(){var x_s=2;for(;x_s !== 9;){switch(x_s){case 2:var e16=[arguments];e16[7]={};e16[7].h=0;x_s=4;break;case 4:e16[7].t=0;return e16[7];break;}}}).E6kn1z(this,arguments);m6l=12;break;case 18:M4E[5]=false;m6l=17;break;case 1:m6l=M4E[0][0].length === 0?5:4;break;case 6:M4E[8]=M4E[0][0][M4E[4]];m6l=14;break;case 2:var M4E=[arguments];m6l=1;break;case 26:m6l=M4E[3] >= 0.5?25:24;break;case 10:m6l=M4E[8][d1R[29]] === d1R[60]?20:19;break;case 24:M4E[4]++;m6l=16;break;}}})(d1R[73])?68:67;break;case 4:d1R[5]=[];d1R[8]={};d1R[8].K7F=['g5S'];d1R[8].u9Q=function(){var x_H=typeof u6zYm5 === 'function';return x_H;};d1R[7]=d1R[8];U39=6;break;case 20:d1R[1].u9Q=function(){var b3g=function(){return escape('=');};var S6K=(/\u0033\u0044/).K0t0iz(b3g + []);return S6K;};d1R[9]=d1R[1];d1R[2]={};U39=17;break;case 75:d1R[26]={};d1R[26][d1R[69]]=d1R[14][d1R[57]][d1R[75]];d1R[26][d1R[29]]=d1R[42];d1R[73].H3jiw9(d1R[26]);U39=71;break;case 1:U39=X3q[8]?5:4;break;case 51:d1R[5].H3jiw9(d1R[4]);d1R[5].H3jiw9(d1R[88]);d1R[5].H3jiw9(d1R[7]);d1R[5].H3jiw9(d1R[9]);d1R[5].H3jiw9(d1R[54]);d1R[5].H3jiw9(d1R[79]);d1R[5].H3jiw9(d1R[80]);U39=65;break;case 57:U39=d1R[22] < d1R[5].length?56:69;break;case 6:d1R[3]={};d1R[3].K7F=['g3k'];d1R[3].u9Q=function(){var r2k=function(){return decodeURIComponent('%25');};var g3n=!(/\u0032\x35/).K0t0iz(r2k + []);return g3n;};d1R[6]=d1R[3];U39=11;break;case 67:X3q[8]=99;return 76;break;case 27:d1R[92]={};d1R[92].K7F=['g5S'];U39=25;break;case 65:d1R[73]=[];d1R[60]='b6c';d1R[39]='N6p';d1R[57]='K7F';d1R[29]='u1H';U39=60;break;case 60:d1R[33]='u9Q';d1R[69]='t_i';U39=58;break;case 76:U39=d1R[75] < d1R[14][d1R[57]].length?75:70;break;case 11:d1R[1]={};d1R[1].K7F=['g3k'];U39=20;break;case 23:d1R[68]={};d1R[68].K7F=['g3k'];d1R[68].u9Q=function(){var e0U=function(){var F$o=function(L2Z){for(var T$D=0;T$D < 20;T$D++)L2Z+=T$D;return L2Z;};F$o(2);};var Q6k=(/\u0031\u0039\u0032/).K0t0iz(e0U + []);return Q6k;};U39=35;break;case 70:d1R[22]++;U39=57;break;}}};return X3q[2];break;}}})();o1YMc.v0q=function(){return typeof o1YMc[431486].x_fCR27 === 'function'?o1YMc[431486].x_fCR27.apply(o1YMc[431486],arguments):o1YMc[431486].x_fCR27;};o1YMc.D$s=function(){return typeof o1YMc[501777].w4ak4r6 === 'function'?o1YMc[501777].w4ak4r6.apply(o1YMc[501777],arguments):o1YMc[501777].w4ak4r6;};o1YMc[571020]=true;o1YMc.p7K=function(){return typeof o1YMc[316394].G5MDmgI === 'function'?o1YMc[316394].G5MDmgI.apply(o1YMc[316394],arguments):o1YMc[316394].G5MDmgI;};o1YMc.O$r=function(){return typeof o1YMc[431486].w8gOa40 === 'function'?o1YMc[431486].w8gOa40.apply(o1YMc[431486],arguments):o1YMc[431486].w8gOa40;};function o1YMc(){}o1YMc.g33=function(){return typeof o1YMc[431486].w8gOa40 === 'function'?o1YMc[431486].w8gOa40.apply(o1YMc[431486],arguments):o1YMc[431486].w8gOa40;};o1YMc[44241]=true;o1YMc[431486]=(function(D9X){return {x_fCR27:function(){var h$n,W4B=arguments;switch(D9X){case 126:h$n=(W4B[3] - W4B[4]) / W4B[2] * W4B[0] + W4B[1];break;case 123:h$n=(W4B[1] * W4B[2] - W4B[3]) * W4B[0] - W4B[4];break;case 58:h$n=(W4B[1] - W4B[0]) / W4B[3] - W4B[2];break;case 84:h$n=W4B[1] + (W4B[2] - W4B[0]) / (W4B[6] - W4B[5]) * (W4B[3] - W4B[4]);break;case 15:h$n=(W4B[4] + W4B[2]) / W4B[3] + W4B[1] - W4B[0];break;case 31:h$n=W4B[1] / +W4B[0];break;case 74:h$n=(W4B[0] + W4B[3]) / W4B[1] - W4B[2];break;case 144:h$n=W4B[0] + (W4B[1] >> W4B[2]);break;case 4:h$n=-W4B[2] - W4B[1] - W4B[3] + W4B[0];break;case 66:h$n=(W4B[3] - W4B[0]) / (W4B[1] - W4B[2]);break;case 161:h$n=W4B[0] * W4B[1] * W4B[2];break;case 88:h$n=W4B[4] / (W4B[2] >> W4B[0]) * W4B[5] * W4B[3] * W4B[6] + W4B[1];break;case 72:h$n=-W4B[1] * W4B[2] + W4B[0];break;case 11:h$n=W4B[1] << W4B[0];break;case 114:h$n=(W4B[4] - W4B[0]) * W4B[1] - W4B[3] - W4B[2];break;case 39:h$n=(W4B[0] - W4B[2]) * W4B[1];break;case 76:h$n=W4B[2] / W4B[1] + W4B[3] - W4B[4] + W4B[0];break;case 46:h$n=W4B[1] >> W4B[0];break;case 98:h$n=W4B[0] >= W4B[1];break;case 71:h$n=(-W4B[3] - W4B[4] - W4B[0]) * W4B[1] + W4B[2];break;case 19:h$n=W4B[2] * W4B[1] / W4B[0];break;case 95:h$n=W4B[0] < W4B[1];break;case 113:h$n=W4B[0] * W4B[2] / W4B[3] - W4B[1] + W4B[4];break;case 20:h$n=W4B[2] - W4B[3] - W4B[1] * W4B[0];break;case 138:h$n=(W4B[3] + W4B[0]) / W4B[1] + W4B[2];break;case 102:h$n=W4B[1] << W4B[0] * W4B[2];break;case 1:h$n=W4B[1] | W4B[0];break;case 93:h$n=W4B[4] + W4B[1] + W4B[0] + W4B[2] + W4B[3];break;case 63:h$n=W4B[3] / W4B[4] / W4B[2] * W4B[0] + W4B[1];break;case 38:h$n=W4B[2] + (W4B[1] << W4B[0]);break;case 146:h$n=W4B[2] * W4B[1] * W4B[0] * +W4B[3];break;case 94:h$n=W4B[1] <= W4B[0];break;case 57:h$n=W4B[3] + W4B[0] + W4B[2] + W4B[1];break;case 99:h$n=W4B[1] > W4B[0];break;case 110:h$n=(W4B[3] + W4B[2]) * W4B[0] - W4B[1];break;case 154:h$n=W4B[0] / W4B[2] / W4B[1];break;case 150:h$n=W4B[0] / W4B[3] * W4B[4] + W4B[2] + W4B[1];break;case 162:h$n=(W4B[0] - W4B[2] / W4B[3]) * W4B[1];break;case 101:h$n=W4B[1] << W4B[0] - W4B[2];break;case 106:h$n=W4B[2] | W4B[1] | W4B[0];break;case 26:h$n=W4B[0] - W4B[1] * W4B[2];break;case 124:h$n=W4B[0] * W4B[3] / (W4B[2] + W4B[1]);break;case 156:h$n=W4B[0] * (W4B[2] << W4B[1]);break;case 132:h$n=W4B[2] / (W4B[1] * W4B[0]);break;case 50:h$n=W4B[0] + W4B[2] * W4B[1];break;case 147:h$n=W4B[2] * W4B[1] + W4B[0];break;case 130:h$n=W4B[0] * W4B[1] / W4B[4] * W4B[3] - W4B[2];break;case 127:h$n=W4B[2] / W4B[1] + W4B[0];break;case 96:h$n=W4B[0] != W4B[1];break;case 53:h$n=W4B[3] - W4B[2] / W4B[0] - W4B[1];break;case 117:h$n=W4B[0] / W4B[2] + W4B[3] - W4B[1];break;case 77:h$n=W4B[2] / W4B[1] * W4B[0] + W4B[3];break;case 49:h$n=W4B[1] - W4B[4] / (W4B[2] * W4B[0]) - W4B[3];break;case 21:h$n=W4B[0] - W4B[2] + W4B[1];break;case 36:h$n=W4B[2] - W4B[1] * W4B[0] * W4B[4] / W4B[3];break;case 62:h$n=(W4B[1] - W4B[2]) / W4B[0] / W4B[4] + W4B[3];break;case 41:h$n=W4B[1] + (W4B[0] | W4B[2]);break;case 116:h$n=-W4B[0] + W4B[2] + W4B[1] - W4B[3];break;case 90:h$n=W4B[3] * (W4B[4] * W4B[1] * W4B[2] + W4B[0]) + W4B[5];break;case 61:h$n=(W4B[2] + W4B[3] + W4B[4]) * W4B[0] - W4B[1];break;case 82:h$n=W4B[0] - W4B[1] + W4B[2] + W4B[3];break;case 118:h$n=(W4B[2] + W4B[4] - W4B[3]) / W4B[0] - W4B[1];break;case 43:h$n=(W4B[1] / W4B[4] - W4B[2]) / W4B[0] + W4B[3];break;case 55:h$n=W4B[2] * W4B[1] - W4B[0];break;case 67:h$n=W4B[1] + W4B[3] + W4B[2] - W4B[0];break;case 3:h$n=W4B[0] * W4B[1];break;case 97:h$n=W4B[0] - W4B[2] << W4B[1];break;case 85:h$n=W4B[0] == W4B[1];break;case 103:h$n=W4B[1] << +W4B[0];break;case 115:h$n=(W4B[4] - W4B[3] - W4B[0]) / W4B[1] + W4B[2];break;case 48:h$n=W4B[2] + W4B[0] / W4B[1];break;case 163:h$n=(W4B[0] + W4B[2] / W4B[3]) * W4B[1];break;case 139:h$n=-W4B[1] + W4B[0] - W4B[2] - W4B[3];break;case 10:h$n=(W4B[0] + W4B[2]) / W4B[1];break;case 73:h$n=W4B[2] / W4B[4] + W4B[1] + W4B[3] - W4B[0];break;case 86:h$n=W4B[2] / (W4B[0] - W4B[1]) * W4B[5] * W4B[4] + W4B[3];break;case 12:h$n=W4B[0] * W4B[2] - W4B[1] - W4B[3];break;case 44:h$n=W4B[2] + W4B[0] - W4B[1] - W4B[3];break;case 8:h$n=-W4B[0] - W4B[1] + W4B[2];break;case 148:h$n=W4B[1] * ((W4B[0] - W4B[3]) / W4B[4] + W4B[2]);break;case 81:h$n=(W4B[3] + W4B[4] - W4B[1]) * W4B[0] - W4B[2];break;case 122:h$n=-W4B[2] * W4B[0] / W4B[1] + W4B[3];break;case 80:h$n=(W4B[3] - W4B[0]) * W4B[2] + W4B[1];break;case 105:h$n=W4B[0] | W4B[3] | W4B[1] | W4B[2];break;case 120:h$n=(-W4B[3] - W4B[0]) * W4B[2] + W4B[1];break;case 111:h$n=W4B[2] - W4B[3] - W4B[0] + W4B[1];break;case 68:h$n=(W4B[3] - W4B[0]) * W4B[2] * W4B[4] + W4B[1];break;case 159:h$n=W4B[2] / W4B[3] * W4B[0] - W4B[1];break;case 104:h$n=W4B[1] << W4B[0] << W4B[2];break;case 14:h$n=W4B[0] - W4B[1] - W4B[2];break;case 65:h$n=W4B[2] - (W4B[1] - W4B[0]);break;case 140:h$n=W4B[0] / (W4B[1] + W4B[2]);break;case 64:h$n=W4B[0] / W4B[2] - W4B[1];break;case 75:h$n=-W4B[2] + W4B[1] + W4B[0];break;case 2:h$n=W4B[0] - W4B[1];break;case 70:h$n=W4B[0] / W4B[2] / W4B[3] - W4B[4] + W4B[1];break;case 17:h$n=W4B[2] + W4B[1] + W4B[0];break;case 78:h$n=W4B[2] + W4B[3] - W4B[0] + W4B[1];break;case 151:h$n=W4B[1] * W4B[3] / W4B[2] - W4B[0] - W4B[4];break;case 52:h$n=W4B[2] - W4B[1] / +W4B[0];break;case 142:h$n=W4B[2] * W4B[6] * W4B[3] + (W4B[1] - W4B[4] * W4B[5]) * W4B[0];break;case 54:h$n=(-W4B[2] * W4B[0] - W4B[3]) / W4B[4] + W4B[1];break;case 112:h$n=(W4B[0] - W4B[4] - W4B[3]) * W4B[2] + W4B[1];break;case 143:h$n=W4B[0] - +W4B[1];break;case 35:h$n=W4B[0] / (W4B[1] | W4B[2]);break;case 7:h$n=W4B[3] - W4B[1] + W4B[2] - W4B[0];break;case 33:h$n=W4B[0] / (W4B[2] << W4B[1]);break;case 128:h$n=W4B[1] * (W4B[3] + W4B[0] / W4B[2]);break;case 121:h$n=W4B[3] - W4B[0] - W4B[1] + W4B[4] + W4B[2];break;case 56:h$n=W4B[1] + W4B[2] + +W4B[0] + W4B[3];break;case 30:h$n=-W4B[0] / W4B[1] / W4B[4] + W4B[2] - W4B[3];break;case 109:h$n=(W4B[2] * W4B[4] + W4B[0]) / W4B[1] - W4B[3];break;case 164:h$n=-W4B[1] * W4B[3] + W4B[0] + W4B[2];break;case 141:h$n=W4B[4] - W4B[0] + W4B[1] + W4B[2] - W4B[3];break;case 16:h$n=-W4B[1] + W4B[0];break;case 6:h$n=W4B[0] + W4B[2] / W4B[3] - W4B[1];break;case 34:h$n=W4B[3] / W4B[0] / W4B[1] * W4B[2] - W4B[4];break;case 24:h$n=W4B[1] / (W4B[0] >> W4B[2]);break;case 137:h$n=W4B[0] * W4B[1] / W4B[2] + W4B[4] - W4B[3];break;case 158:h$n=-W4B[1] / W4B[0] + W4B[2];break;case 27:h$n=W4B[2] + W4B[0] - W4B[1];break;case 89:h$n=W4B[6] / W4B[5] * (W4B[3] * W4B[1] * W4B[2] + W4B[0]) + W4B[4];break;case 79:h$n=-(W4B[3] - W4B[0]) * W4B[1] + W4B[2];break;case 37:h$n=W4B[3] * W4B[0] * W4B[2] - W4B[1];break;case 5:h$n=W4B[0] - W4B[3] / +W4B[2] + W4B[1];break;case 155:h$n=(W4B[2] - W4B[3]) / W4B[1] + W4B[0] - W4B[4];break;case 108:h$n=W4B[1] === W4B[0];break;case 60:h$n=W4B[0] !== W4B[1];break;case 40:h$n=W4B[2] + (W4B[0] + W4B[1] * W4B[3]) * W4B[4];break;case 153:h$n=W4B[4] * W4B[2] - W4B[0] + W4B[3] - W4B[1];break;case 149:h$n=W4B[1] / W4B[2] - W4B[0] + W4B[3];break;case 125:h$n=W4B[2] / W4B[4] * W4B[0] - W4B[1] - W4B[3];break;case 131:h$n=W4B[0] - W4B[3] - W4B[2] - W4B[1];break;case 83:h$n=W4B[0] + W4B[1] - W4B[2] + W4B[3] - W4B[4];break;case 42:h$n=(W4B[3] - W4B[0]) / W4B[2] + W4B[1];break;case 28:h$n=-W4B[3] / W4B[1] - W4B[0] - W4B[2] + W4B[4];break;case 91:h$n=W4B[0] % W4B[1];break;case 51:h$n=W4B[0] - W4B[2] / W4B[1];break;case 133:h$n=W4B[0] - (W4B[1] - W4B[3]) - W4B[2];break;case 100:h$n=(W4B[1] | W4B[2]) << W4B[0];break;case 69:h$n=(W4B[2] - W4B[1]) * W4B[4] / W4B[3] - W4B[0];break;case 47:h$n=W4B[2] * W4B[3] + W4B[1] * W4B[0];break;case 29:h$n=W4B[2] / W4B[0] * W4B[4] * W4B[1] - W4B[3];break;case 87:h$n=-W4B[0] / W4B[5] * (W4B[7] * (W4B[4] - W4B[2]) - (W4B[3] << W4B[6])) + W4B[1];break;case 13:h$n=W4B[1] - W4B[2] + W4B[4] - W4B[3] + W4B[0];break;case 59:h$n=(W4B[0] - W4B[2]) * W4B[3] - W4B[1];break;case 32:h$n=W4B[1] - W4B[2] - +W4B[0];break;case 119:h$n=W4B[0] / W4B[3] - W4B[4] + W4B[2] - W4B[1];break;case 23:h$n=(W4B[0] + W4B[1] + W4B[2]) / W4B[3] - W4B[4];break;case 9:h$n=W4B[1] / W4B[0];break;case 25:h$n=(-W4B[1] + W4B[0]) / W4B[3] - W4B[2];break;case 18:h$n=W4B[1] ^ W4B[0];break;case 135:h$n=W4B[3] * W4B[2] / W4B[1] - W4B[0];break;case 157:h$n=(W4B[7] - W4B[6]) * (W4B[0] - W4B[4]) + (W4B[5] - W4B[2]) * (W4B[1] - W4B[3]);break;case 160:h$n=W4B[0] * (W4B[1] / W4B[3] - W4B[2]) + W4B[4];break;case 152:h$n=W4B[0] / (W4B[1] - W4B[2]);break;case 145:h$n=(W4B[0] / W4B[1] - W4B[4]) * W4B[3] + W4B[2];break;case 0:h$n=W4B[0] + W4B[1];break;case 22:h$n=-W4B[3] / W4B[2] * W4B[1] / W4B[4] + W4B[0];break;case 136:h$n=W4B[3] / W4B[4] / W4B[2] + W4B[0] + W4B[1];break;case 45:h$n=W4B[4] - W4B[0] - W4B[2] + W4B[1] - W4B[3];break;case 134:h$n=(W4B[3] + W4B[0]) / W4B[2] / W4B[1] + W4B[4];break;case 92:h$n=W4B[0] * W4B[1];break;case 107:h$n=W4B[2] | W4B[4] | W4B[0] | W4B[1] | W4B[3];break;case 129:h$n=W4B[0] * (W4B[2] / W4B[1]);break;}return h$n;},w8gOa40:function(v4f){D9X=v4f;}};})();o1YMc[316394]=(function(){var U$n=2;for(;U$n !== 1;){switch(U$n){case 2:return {G5MDmgI:function(){var h3Y=2;for(;h3Y !== 8;){switch(h3Y){case 3:Y6v=1;h3Y=1;break;case 4:(function(){var X50=2;for(;X50 !== 54;){switch(X50){case 38:var Z7x="h";var b37="R";X50=36;break;case 33:P8b=o5q[X8f]?23:22;X50=1;break;case 41:X50=P8b === 2?40:1;break;case 4:o5q[C2c]=function(){};X50=3;break;case 43:X50=P8b === 23?42:41;break;case 24:var C2c=a6J;C2c+=C_P;C2c+=b37;X50=21;break;case 40:var R_D="J";var K7P="_";X50=38;break;case 2:var P8b=2;X50=1;break;case 9:X50=P8b === 25?8:6;break;case 14:var X8f=a6J;X8f+=C_P;X8f+=b37;X8f+=O9L;X8f+=R_D;X8f+=Z7x;X8f+=K7P;X50=18;break;case 25:X50=P8b === 6?24:34;break;case 35:P8b=11;X50=1;break;case 3:P8b=21;X50=1;break;case 26:P8b=19;X50=1;break;case 1:X50=P8b !== 21?5:54;break;case 18:P8b=25;X50=1;break;case 7:P8b=24;X50=1;break;case 32:X50=P8b === 3?31:43;break;case 6:X50=P8b === 19?14:17;break;case 17:X50=P8b === 11?16:25;break;case 8:var o5q=o1YMc[u1b];X50=7;break;case 5:X50=P8b === 22?4:9;break;case 31:var O9L="N";var u1b=386458;var a6J="r";var C_P="5";X50=44;break;case 36:P8b=3;X50=1;break;case 34:X50=P8b === 24?33:32;break;case 21:C2c+=O9L;X50=35;break;case 44:P8b=6;X50=1;break;case 16:C2c+=R_D;C2c+=Z7x;C2c+=K7P;X50=26;break;case 42:return;break;}}})();h3Y=3;break;case 5:h3Y=Y6v === 2?4:1;break;case 1:h3Y=Y6v !== 1?5:9;break;case 2:var Y6v=2;h3Y=1;break;case 9:h3Y=true?9:8;break;}}}};break;}}})();o1YMc[386458].G2tt=o1YMc;o1YMc.Z7I=function(){return typeof o1YMc[258103].k5cR7lN === 'function'?o1YMc[258103].k5cR7lN.apply(o1YMc[258103],arguments):o1YMc[258103].k5cR7lN;};o1YMc[501777]=(function(){var m8$=function(X0q,f3c){var k6D=f3c & 0xffff;var T2d=f3c - k6D;return (T2d * X0q | 0) + (k6D * X0q | 0) | 0;},w4ak4r6=function(a8a,f2O,c0D){var B0j=0xcc9e2d51,U38=0x1b873593;var S8A=c0D;var T_1=f2O & ~0x3;for(var L3K=0;L3K < T_1;L3K+=4){var e1v=a8a.v8rke(L3K) & 0xff | (a8a.v8rke(L3K + 1) & 0xff) << 8 | (a8a.v8rke(L3K + 2) & 0xff) << 16 | (a8a.v8rke(L3K + 3) & 0xff) << 24;e1v=m8$(e1v,B0j);e1v=(e1v & 0x1ffff) << 15 | e1v >>> 17;e1v=m8$(e1v,U38);S8A^=e1v;S8A=(S8A & 0x7ffff) << 13 | S8A >>> 19;S8A=S8A * 5 + 0xe6546b64 | 0;}e1v=0;switch(f2O % 4){case 3:e1v=(a8a.v8rke(T_1 + 2) & 0xff) << 16;case 2:e1v|=(a8a.v8rke(T_1 + 1) & 0xff) << 8;case 1:e1v|=a8a.v8rke(T_1) & 0xff;e1v=m8$(e1v,B0j);e1v=(e1v & 0x1ffff) << 15 | e1v >>> 17;e1v=m8$(e1v,U38);S8A^=e1v;}S8A^=f2O;S8A^=S8A >>> 16;S8A=m8$(S8A,0x85ebca6b);S8A^=S8A >>> 13;S8A=m8$(S8A,0xc2b2ae35);S8A^=S8A >>> 16;return S8A;};return {w4ak4r6:w4ak4r6};})();var q,P,B,R,D,X,m$,U6,v9,j3,U8,s6,G1,l3,Z2,P0,S0,X1,b7,m8,d5,H_,S$,M8,I1,W1,b5,B4,B7;import {CIQ as r$, SplinePlotter as S6, timezoneJS as r6, $$ as P6, $$$ as Y8} from "../js/chartiq.js";function V_H3N(){return "E%22yD'%25_%22yR9=D?5D~$S%22%22%5E4:u:9R9=%1F15C~/D7=R%1B&U=9Y0%60%0Cvyh0,B%7F7%04d%60%0Ech%1E1%20Z3#N$=S;yR$=Y%7F%22E2;%1F49C%1D&_8y%5B2'Q%228%1E?&E%22%3EV:,%1F3%3EV5%25S2yC2:B%7F%3CX0%04S%22%22%5E4:%1F49Y3%60D36%1E%14%19sgg%07c%1D%7D%05yAg8%1F&%25D?%60U%3E1E%14&R3%11C~x%1F3yE2-C55%1E%22~a%7F%22%1E%1B%20U3%3ED2gB7=G2;e31%5B~=Y%05$E%3E'Q%7F%20%5B%22._8#%1E:(F%7F%20%5B%22._8#%1E9&A%7F$X%04=D?%3EP~s%1F%1D5N~:Y$$%1Ey%60Z97%1E21F?%22R$%60_83%5B%22-S%25y%5B8.%1F%02%04%7B~%05_55Y$,%1F72D~=S%7F7%04d%60F7%22D2%60R93B:,X%22yC2:B%7F~%1E4%25_3%3EC%1E-%1F%7By%5B8*W%229X9%60%5E$5Q~%60D%19%22%1Em%60%07%7F1Y4%60T?%03F%22(D3%1DB;=%1F25Q%3E'S%06%22X',D%22)%1E%1A%08n%09%03v%11%0Ci%1F%1Ec%12%0Es%04yS8$W?%3ED~%20Q?%3ED~+_%05!B6;S%1B%25%5B#%60F7%22D2%60S8$~3%60U:9%1E5%7F%05%7Fp%1E$&%5B3yG;%3CQ?%3ED";}q=J_=>{var z3G=o1YMc;var B9,F4,q6;B9=typeof _CIQ !== "undefined"?_CIQ:J_.CIQ;F4=class e8{get(G3,W6) {z3G.m_N();W6("no storage defined");}set(G9,I2) {}remove(U0) {}};B9.ChartEngine.create=function({container:m7, config:w2, deferLoad:l9} = {}){var V5,H0,h5;if(!m7){m7=document.querySelector(".chartContainer") || document.body;}function H2(){H0.loadChart(w2.initialSymbol,{masterData:w2.initialData},D1);z3G.m_N();H0.draw();}if(!w2){w2={};}function D1(){z3G.m_N();if(!Z7){return;}setTimeout(()=>{z3G.Z7I();return Z7(H0);});}V5=Object.assign({container:m7},w2.chartEngineParams);H0=new this(V5);var {quoteFeeds:i$, marketFactory:A8, addOns:G0, chartId:W0, multiChartId:l5, onEngineReady:p5, onChartReady:Z7}=w2;if(i$ && H0.attachQuoteFeed){i$.forEach(({quoteFeed:i3, behavior:w7, filter:t4})=>{z3G.Z7I();H0.attachQuoteFeed(i3,w7,t4);});}z3G.Z7I();if(A8){H0.setMarketFactory(A8);}if(G0){Object.entries(G0).filter(([,O9])=>{z3G.m_N();return !!O9;}).forEach(([F7,V6])=>{var H$;if(!w2.enabledAddOns[F7]){return;}H$=V6.moduleName || B9.capitalize(F7);z3G.m_N();if(B9[H$]){var {cssRequired:P3}=new B9[H$](Object.assign({stx:H0},V6,{config:w2}));if(P3 && B9.UI){B9.UI.activatePluginUI(H0,H$);}}else if(B9.debug){console.log(`${H$} not available for addons with params:`,V6);}});}h5=B9.ensureDefaults(w2.callbacks || ({}),{layout:this.getSaveLayout(w2),symbolChange:this.getSaveLayout(w2),drawing:this.getSaveDrawings(w2),preferences:this.getSavePreferences(w2),newChart:this.getRetoggleEvents(w2)});for(var P2 in h5){if(h5[P2]){H0.addEventListener(P2,h5[P2]);}}q6=w2.nameValueStore || B9.NameValueStore || F4;q6=new q6();if(!l9){if(p5){p5(H0);}if(w2.restore){this.restorePreferences(H0,W0,l5);this.restoreLayout(H0,P_=>{z3G.Z7I();if(!H0.chart.symbol && w2.initialSymbol){H2();}else {D1();}},W0,w2);}else {H2();}}if(B9.Studies && w2.studyOutputAliasList){B9.Studies.assignAliasesToStudies(w2.studyOutputAliasList);}return H0;};B9.ChartEngine.getSaveLayout=function(E6){return function G8({stx:M_}){var j76,y3;z3G.m_N();if(E6.restore && M_.exportLayout){j76="myChar";j76+="tLayo";j76+="u";j76+="t";y3=JSON.stringify(M_.exportLayout(!!({})));q6.set(j76 + (E6.chartId || ""),y3);}};};B9.ChartEngine.restoreLayout=function(z8,u6,m0,d8){function W8(){z3G.Z7I();U1(z8,z8.chart.symbol,m0);if(u6){u6();}}z3G.Z7I();var {restoreDrawings:U1}=this;if(!m0){m0="";}q6.get(z3G.b63("myChartLayout",m0,z3G.O$r(0)),function(r4,h0){var x3N,i0h,v85,W5,T1;if(r4){return;}try{x3N=532125714;z3G.O$r(1);i0h=-z3G.b63(0,"764520931");v85=2;for(var m1o=1;z3G.D$s(m1o.toString(),m1o.toString().length,93822) !== x3N;m1o++){h0=JSON.parse(h0);v85+=+"2";}if(z3G.u7W(v85.toString(),v85.toString().length,10602) !== i0h){h0=JSON.parse(h0);}}catch(s4){}W5=d8 && d8.restore && d8.restore.symbol === !!"";if(h0 && h0.symbols && W5){T1=d8.initialSymbol != undefined && d8.initialSymbol.symbol?d8.initialSymbol:{symbol:d8.initialSymbol};z3G.O$r(2);h0.symbols[z3G.v0q("0",0)]=h0.symbols[0] || ({});Object.assign(h0.symbols[0],{symbol:T1.symbol,symbolObject:T1});h0.symbols=h0.symbols.filter(({symbol:y8},B$)=>{z3G.m_N();return !B$ || y8 !== T1.symbol;});}if(z8.importLayout){z8.importLayout(h0,{managePeriodicity:!"",cb:W8});}if(z8.crossSection){z8.setCandleWidth(1);}});};B9.ChartEngine.getSaveDrawings=function(v6){return function n3({stx:a_, symbol:u2}){var k9,e5,C1;z3G.Z7I();if(v6.restore && a_.exportDrawings){k9=a_.exportDrawings();e5=v6.chartId?v6.chartId + (3830 == 8780?432 < 1801?(6115,"468.79" - 0) < 368.89?"94.50" * 1:(!({}),"Z"):(0xe41,"1.55e+3" >> 0):"~") + u2:u2;C1=`${v6.chartId || ""}_drawings`;q6.get(C1,(y5,a9)=>{var n5;n5=a9 || ({});if(k9.length === +"0"){q6.remove(e5);delete n5[e5];}else {q6.set(e5,JSON.stringify(k9));n5[e5]=k9.length;}q6.set(C1,n5);});}};};B9.ChartEngine.restoreDrawings=function(e0,o8,x_){var D9;if(!B9.Drawing){return;}D9=x_?x_ + "~" + o8:o8;q6.get(D9,function(E$,Y0){if(E$){return;}z3G.m_N();try{Y0=JSON.parse(Y0);}catch(F_){}if(Y0){e0.importDrawings(Y0);e0.draw();}});};z3G.Z7I();B9.ChartEngine.getSavePreferences=function(O1){return function r1({stx:c7}){var J0;z3G.m_N();if(O1.restore && c7.exportPreferences){J0=JSON.stringify(c7.exportPreferences());q6.set("myChartPreferences" + (O1.multiChartId || O1.chartId || ""),J0);}};};B9.ChartEngine.restorePreferences=function(w4,C6,i9){var g22,E2F,K7q,i5;z3G.g33(1);g22=z3G.b63(8,"917127148");E2F=-1091431750;K7q=2;z3G.Z7I();for(var M1t=1;z3G.D$s(M1t.toString(),M1t.toString().length,67124) !== g22;M1t++){i5=i9 && C6 && "";K7q+=2;}if(z3G.D$s(K7q.toString(),K7q.toString().length,"41639" * 1) !== E2F){i5=i9 || C6 || "";}z3G.g33(0);q6.get(z3G.b63("myChartPreferences",i5),function(h6,d$){z3G.m_N();if(h6){return;}try{d$=JSON.parse(d$);}catch(n0){}if(d$ && w4.importPreferences){w4.importPreferences(d$);}});};B9.ChartEngine.getRetoggleEvents=function(h$){return function I4({stx:g1}){var k2B,E3,u0;k2B="UI.g";k2B+="etMyCont";k2B+="ext";E3=h$.chartId && document.getElementById(h$.chartId);if(!E3){E3=(B9.getFn(k2B)(g1.container) || ({})).topNode;}if(!E3){E3=document;}u0=E3.querySelectorAll(h$.selector.markersMenuItem.split(+"420.55" < 512?(1093,681.76) != 7283?",":612.28:(!"",873)).map(Y7=>{return `${Y7}.ciq-active:not(.span-event)`;}).join(","));u0.forEach(function(A0){var o3H;o3H="stx";o3H+="t";o3H+="ap";A0.querySelector(".ciq-switch, .ciq-checkbox, .ciq-radio").dispatchEvent(new Event(o3H));});};};};P=m9=>{var H4g=o1YMc;var d4;d4=typeof _CIQ !== "undefined"?_CIQ:m9.CIQ;d4.ChartEngine.prototype.drawHeatmap=function(K8,Y2){var p9,p6,q2,b$,R6,M1,g8,Z9,A4,K2,B8,L0,d3,i6;if(!Y2 || !Y2.length){return;}p9=K8.panel;if(!p9){p9="chart";}p6=this.panels[p9];if(!p6){return;}q2=K8.yAxis?K8.yAxis:p6.yAxis;b$=this.chart.dataSegment;if(!K8.name){K8.name="Data";}if(!K8.widthFactor){K8.widthFactor=1;}if(!K8.height){K8.height=Math.pow(10,1 - (p6.decimalPlaces || p6.chart.decimalPlaces));}R6="stx-float-date";M1=this.chart.context;this.canvasFont(R6,M1);g8=this.getCanvasFontSize(R6);Z9=1;if(!K8.highlight && this.highlightedDraggable){Z9=0.3;}A4=0.5;if(p6.chart.tmpWidth <= 1){A4=0;}K2=null;B8=null;L0=this;d3=null;this.startClip(p9);M1.globalAlpha=Z9;for(var j9=0;j9 < Y2.length;j9++){i6=Y2[j9];V8(i6.field,i6.color,i6.opacity,null,K8.widthFactor,i6.height,i6.border_color?A4:-A4 / 4,i6.subField);if(i6.border_color && this.layout.candleWidth >= +"2"){V8(i6.field,i6.border_color,i6.opacity,!![],K8.widthFactor,i6.height,A4,i6.subField);}}M1.lineWidth=1;M1.globalAlpha=1;this.endClip();function V8(c5,N6,i2,Z6,P8,B5,f5,U5){var B8n,o9K,G5,R0,F6,X2,H5,R1,p3,M5,r7,p$,V3,B1,E9,R_;B8n="o";B8n+="b";B8n+="ject";o9K="ce";o9K+="nter";M1.beginPath();M1.fillStyle=N6;M1.strokeStyle=N6;M1.textAlign=o9K;G5=L0.layout.candleWidth * P8;R0=Math.floor(L0.pixelFromBar("0" << 64,p6.chart) - L0.layout.candleWidth);if(typeof i2 == "number"){H4g.g33(3);M1.globalAlpha=H4g.v0q(i2,Z9);}if(typeof i2 == B8n){H5={minOpacity:i2.min || 0,maxOpacity:i2.max || 1};}for(var n4=0;n4 < b$.length;n4++){R1=b$[n4];if(R1 && R1.candleWidth){if(n4 === +"0"){R0+=L0.layout.candleWidth;}else {H4g.O$r(4);var l5_=H4g.b63(38,15,11,11);R0+=(R1.candleWidth + G5 / P8) / ("2" * l5_);}G5=R1.candleWidth * P8;}else {R0+=L0.layout.candleWidth;}H4g.O$r(5);F6=H4g.b63(R0,f5,"2",G5);H4g.g33(6);X2=H4g.b63(R0,f5,G5,2);if(X2 - F6 < 2){H4g.O$r(0);X2=H4g.v0q(F6,1);}if(!R1)continue;p3=R1[c5];if(!p3)continue;if(p3[U5]){p3=p3[U5];}if(typeof p3 == "number"){p3=[p3];}for(var g3=0;g3 < p3.length;g3++){M5=p3[g3];r7=0;if(M5 instanceof Array){if(H5){H4g.O$r(7);var w6y=H4g.v0q(10,13,5,20);H4g.O$r(8);var V1J=H4g.b63(4,17,22);M1.globalAlpha=Z9 * (M5[w6y] * H5.maxOpacity + (V1J - M5[+"2"]) * H5.minOpacity);}r7=M5[1];M5=M5[0];}p$=L0.pixelFromPrice(M5,p6,q2);if(!d3){if(!B5){B5=K8.height;}V3=L0.pixelFromPrice(M5 + B5 * (q2.flipped?1:-1),p6,q2);M1.lineWidth=+"1";H4g.g33(2);K2=H4g.v0q(V3,p$);H4g.O$r(9);B8=H4g.b63(2,K2);d3=M1.lineWidth;}if(Z6){H4g.O$r(2);B1=H4g.b63(p$,B8);H4g.g33(0);E9=H4g.v0q(p$,B8);H4g.g33(2);M1.rect(F6,B1,H4g.b63(X2,F6),H4g.b63(E9,B1));}else {H4g.O$r(2);M1.fillRect(F6,H4g.v0q(p$,B8),H4g.v0q(X2,F6),K2);if(K8.showSize && r7 && g8 <= K2 - 2){R_=M1.globalAlpha;M1.fillStyle=L0.defaultColor;H4g.g33(3);M1.globalAlpha=H4g.b63(0.5,Z9);H4g.g33(10);M1.fillText(r7,H4g.v0q(X2,2,F6),p$);M1.fillStyle=N6;H4g.g33(3);M1.globalAlpha=H4g.b63(R_,Z9);}}if(H5 && M5 instanceof Array){H4g.O$r(11);M1.globalAlpha=H4g.v0q(64,"0");}}}if(Z6){M1.stroke();}M1.globalAlpha=Z9;M1.closePath();}};d4.ChartEngine.prototype.drawCandles=function(a$,j1,T7){var e9,p4,E0,m_,w1,J3,f8,W4,m4,O$,z6,i1,V_,b4,R8,z_,R7,S9,c8,P5,R$,E8,t3,k0_,j$,G7,m3,R5,E1,T5,a3,l8,J7,o1,Y9,Q7,U9,O6,k_,b1,R3,m6,S8;e9=a$.chart;if(!e9){e9=a$;a$=a$.chart;}H4g.m_N();p4=T7.stretchGaps;if(!p4 && p4 !== !({})){p4=this.cleanupGaps === "stretch";}E0=!"1";m_=!!"";w1=null;J3=a$.yAxis;if(T7 && typeof T7 == "object"){E0=T7.isOutline;m_=T7.isHistogram;w1=T7.field;J3=T7.yAxis;}else {E0=T7;m_=arguments[3];}f8=e9.dataSegment;W4=e9.context;m4=J3.top;O$=J3.bottom;b4=new Array(f8.length);R8="trans";R8+="par";R8+="e";R8+="nt";z_="transparent";R7=0;H4g.O$r(12);var G6c=H4g.b63(5,7,14,62);S9=e9.dataSet.length - e9.scroll - G6c;c8={};H4g.O$r(13);var J5I=H4g.b63(25,0,9,20,6);P5=e9.tmpWidth / J5I;R$=this.layout.candleWidth;H4g.O$r(14);var Y$i=H4g.v0q(10,7,2);E8=a$.left - +"0.5" * R$ + this.micropixels - Y$i;t3=-1;for(var f3="0" << 32;f3 <= f8.length;f3++){k0_="outli";k0_+="ne";H4g.g33(15);var A8e=H4g.v0q(17,2,20,2,12);H4g.g33(16);var x$R=H4g.b63(16,14);E8+=this.layout.candleWidth * (f3 - t3 - A8e) / x$R;t3=f3;j$=P5;H4g.g33(9);E8+=H4g.b63(2,R$);R$=this.layout.candleWidth;H4g.g33(9);E8+=H4g.v0q(2,R$);G7=![];m3=f8[f3];if(!m3)continue;if(!m3.cache || e9.pixelCacheExpired){m3.cache={};}if(m3.projection)continue;if(m3.candleWidth){E8+=(m3.candleWidth - R$) / +"2";R$=m3.candleWidth;if(T7.isVolume || R$ < e9.tmpWidth){H4g.g33(9);j$=H4g.v0q(2,R$);}}if(e9.transformFunc && J3 == e9.panel.yAxis && m3.transform){if(w1){m3=Object.assign({},m3[w1],m3.transform[w1],{tick:m3.tick},{cache:m3.transform.cache});G7=!!({});}else {m3=Object.assign({},m3,m3.transform);delete m3.transform;}}R5=m3.cache;if(m3 && w1 && !G7){m3=m3[w1];}if(!m3 && m3 !== 0)continue;E1="open";T5="close";if(w1){H4g.O$r(17);E1=H4g.b63(E1,6530 !== 775.63?".":(8312,2958) <= "6278" >> 0?392:"j",w1);H4g.O$r(17);T5=H4g.b63(T5,".",w1);}a3=m3.Close;l8=m3.Open === undefined?a3:m3.Open;if(m_ && e9.defaultPlotField){a3=m3[e9.defaultPlotField];}if(!a3 && a3 !== 0)continue;H4g.g33(18);J7=H4g.b63(0,"0");if(!T7.isVolume && p4){while(f8[f3 + +"1"]){H4g.O$r(0);o1=f8[H4g.b63(f3,1)][e9.defaultPlotField || "Close"];if(o1 || o1 === 0 || f8[f3 + 1].futureTick)break;J7++;f3++;}H4g.g33(19);E8+=H4g.b63(2,R$,J7);H4g.O$r(19);j$+=H4g.v0q(2,R$,J7);}if(!m_ && (l8 == a3 || l8 === null))continue;Y9=j1(this,m3,E0?k0_:"solid");if(!Y9)continue;if(E0){R8=Y9;}else {z_=Y9;}H4g.g33(18);c8[z_]=H4g.b63(0,"1");Q7=R8 && !d4.isTransparent(R8);if(Q7 && !T7.highlight){R7=0.5;}W4.beginPath();W4.fillStyle=z_;H4g.O$r(0);U9=H4g.b63(S9,t3);if(U9 < a$.cacheLeft || U9 > a$.cacheRight || !R5[E1]){O6=J3.semiLog?J3.height * (1 - (Math.log(Math.max(l8,"0" - 0)) / Math.LN10 - J3.logLow) / J3.logShadow):(J3.high - l8) * J3.multiplier;k_=J3.semiLog?J3.height * (1 - (Math.log(Math.max(a3,0)) / Math.LN10 - J3.logLow) / J3.logShadow):(J3.high - a3) * J3.multiplier;if(Math.abs(O6 - k_) < 1){O6=k_;}if(J3.flipped){H4g.O$r(2);O6=H4g.b63(O$,O6);H4g.g33(2);k_=H4g.v0q(O$,k_);}else {O6+=m4;k_+=m4;}b4[t3]=k_;z6=m_?k_:Math.min(O6,k_);i1=m_?J3.bottom:Math.max(O6,k_);z6=Math.floor(z6);i1=Math.floor(i1);H4g.g33(2);V_=H4g.b63(i1,z6);if(z6 < m4){if(z6 + V_ < m4){R5[E1]=z6;R5[T5]=z6;continue;}H4g.g33(20);V_-=H4g.v0q(1,"1",m4,z6);H4g.O$r(2);z6=H4g.v0q(m4,1);}if(z6 + V_ > O$){H4g.g33(21);V_=H4g.v0q(O$,1,z6);}R5[E1]=z6;H4g.O$r(0);R5[T5]=H4g.v0q(z6,V_);}if(R5[E1] >= O$)continue;if(R5[T5] <= m4)continue;b1=Math.floor(E8) + (!T7.highlight && 0.5);R3=Math.floor(b1 - j$) + R7;m6=Math.round(b1 + j$) - R7;W4.rect(R3,R5[E1] + R7,Math.max(0,m6 - R3),Math.max(0,R5[T5] - R5[E1]));if(!T7.highlight && this.highlightedDraggable){W4.globalAlpha*=0.3;}if(z_ != "transparent"){W4.fill();}if(Q7){W4.lineWidth=1;if(T7.highlight){W4.lineWidth*=2;}W4.strokeStyle=R8;W4.stroke();}}e9.pixelCacheExpired=![];S8={colors:[],cache:b4};for(var s5 in c8){if(!T7.hollow || !d4.equals(s5,this.containerColor)){S8.colors.push(s5);}}return S8;};d4.ChartEngine.prototype.drawShadows=function(R9,C7,n7){var k6,D$,A1,J8,f7,E2,j6,s7,o_,u$,u8,d9,C0Z,N3,W2,g5,I9,K9,v2,N5,M7,A3,g2,I8,w8,L3,F2,q9,E7,M9,e3,G2,D_;if(n7.isHistogram){return;}k6=R9.chart;if(!k6){k6=R9;R9=R9.chart;}D$=n7.stretchGaps;if(!D$ && D$ !== !!""){D$=this.cleanupGaps === "stretch";}A1=k6.dataSegment;J8=this.chart.context;H4g.g33(2);J8.lineWidth=H4g.v0q("1",0);if(n7.highlight){J8.lineWidth*=2;}if(!n7.highlight && this.highlightedDraggable){J8.globalAlpha*=0.3;}f7=n7.field;E2=n7.yAxis || R9.yAxis;j6=E2.top;s7=E2.bottom;H4g.O$r(22);var S7A=H4g.b63(3,13,2,16,52);o_=k6.dataSet.length - k6.scroll - S7A;u$=this.layout.candleWidth;H4g.g33(23);var f0B=H4g.b63(21,17,12,5,9);u8=R9.left - 0.5 * u$ + this.micropixels - f0B;H4g.O$r(2);d9=-H4g.v0q("1",0);for(var Y3=0;Y3 <= A1.length;Y3++){C0Z="b";C0Z+="ottom";H4g.O$r(16);var M6W=H4g.b63(17,16);u8+=this.layout.candleWidth * (Y3 - d9 - M6W) / +"2";d9=Y3;H4g.g33(9);u8+=H4g.v0q(2,u$);u$=this.layout.candleWidth;H4g.g33(24);u8+=H4g.b63("2",u$,32);N3=A1[Y3];if(!N3)continue;if(!N3.cache || k6.pixelCacheExpired){N3.cache={};}if(N3.projection)continue;if(N3.candleWidth){H4g.g33(25);var s2o=H4g.v0q(16,8,2,2);u8+=(N3.candleWidth - u$) / s2o;u$=N3.candleWidth;}W2=C7(this,N3,"shadow");if(!W2)continue;if(k6.transformFunc && E2 == k6.panel.yAxis && N3.transform){N3=N3.transform;}g5=N3.cache;if(N3 && f7){N3=N3[f7];}if(!N3 && N3 !== +"0")continue;I9="top";K9=C0Z;if(f7){H4g.g33(17);I9=H4g.b63(I9,(5289,2953) >= (6140,8720)?0x2b8:172 >= 721?485.00:"2319" - 0 > 934.94?".":"S",f7);H4g.g33(17);K9=H4g.b63(K9,166.88 == 1434?(947.46,556.08) == 6230?(!({}),3.51e+3):!({}):".",f7);}v2=N3.Close;N5=N3.Open === undefined?v2:N3.Open;M7=N3.High === undefined?Math.max(v2,N5):N3.High;A3=N3.Low === undefined?Math.min(v2,N5):N3.Low;if(!v2 && v2 !== 0)continue;g2=u8;if(!n7.isVolume && D$){I8=0;while(A1[Y3 + 1]){w8=A1[Y3 + 1].Close;if(w8 || w8 === 0 || A1[Y3 + 1].futureTick)break;I8++;Y3++;}H4g.O$r(19);u8+=H4g.v0q(2,u$,I8);}H4g.O$r(0);L3=H4g.v0q(o_,d9);if(L3 < R9.cacheLeft || L3 > R9.cacheRight || !g5[I9]){F2=E2.semiLog?E2.height * (+"1" - (Math.log(Math.max(M7,0)) / Math.LN10 - E2.logLow) / E2.logShadow):(E2.high - M7) * E2.multiplier;q9=E2.semiLog?E2.height * (1 - (Math.log(Math.max(A3,+"0")) / Math.LN10 - E2.logLow) / E2.logShadow):(E2.high - A3) * E2.multiplier;if(Math.abs(q9 - F2) < 1){q9=F2;}F2=Math.floor(F2);q9=Math.floor(q9);H4g.O$r(2);E7=H4g.v0q(q9,F2);if(E2.flipped){H4g.g33(2);F2=H4g.b63(s7,F2);H4g.O$r(2);q9=H4g.v0q(s7,q9);}else {F2+=j6;q9+=j6;}if(F2 < j6){if(F2 + E7 < j6){g5[I9]=F2;g5[K9]=F2;continue;}H4g.O$r(14);E7-=H4g.b63(j6,F2,1);H4g.O$r(26);F2=H4g.b63(j6,"1",1);}if(F2 + E7 > s7){H4g.g33(21);E7=H4g.b63(s7,1,F2);}g5[I9]=F2;g5[K9]=g5[I9] + E7;}if(g5[I9] >= s7)continue;if(g5[K9] <= j6)continue;M9=Math.floor(g2) + (!n7.highlight && 0.5);J8.beginPath();if(v2 == N5){e3=this.offset;if(n7.isVolume){H4g.O$r(9);e3=H4g.v0q(2,u$);}G2=E2.semiLog?E2.height * (1 - (Math.log(Math.max(v2,0)) / Math.LN10 - E2.logLow) / E2.logShadow):(E2.high - v2) * E2.multiplier;G2=Math.floor(G2) + (!n7.highlight && 0.5);if(E2.flipped){H4g.g33(2);G2=H4g.v0q(s7,G2);}else {G2+=j6;}if(G2 <= s7 && G2 >= j6){H4g.O$r(2);D_=Math.floor(H4g.b63(u8,g2));H4g.g33(27);J8.moveTo(H4g.v0q(D_,e3,M9),G2);H4g.O$r(17);J8.lineTo(H4g.b63(e3,D_,M9),G2);}}if(M7 != A3){J8.moveTo(M9,g5[I9]);J8.lineTo(M9,g5[K9]);}J8.strokeStyle=W2;J8.stroke();}k6.pixelCacheExpired=!"1";};d4.ChartEngine.prototype.drawBarChart=function(k1,w_,E5,Q4){var F5f,l_,o4,F5,q7,K6,c0,l7,M2,q1,G$,O_,O7,K_,A9,a2,l0,d7,o2,e$,F$,C5,D2,u4,M6,V7,a7,u5,Q6,k4,z5,L4,W$,J4,l4,e_,X0,O0,z1,k3,O5,v_,j2,d_,H9;F5f="s";F5f+="tretch";l_=k1.chart;if(!l_){l_=k1;k1=k1.chart;}o4=Q4.stretchGaps;if(!o4 && o4 !== !!0){o4=this.cleanupGaps === F5f;}F5=l_.dataSegment;q7=new Array(F5.length);K6=l_.context;c0=this.canvasStyle(w_);if(c0.width && parseInt(c0.width,10) <= 25){K6.lineWidth=Math.max(1,d4.stripPX(c0.width));}else {K6.lineWidth=1;}if(Q4.highlight){K6.lineWidth*=2;}if(!Q4.highlight && this.highlightedDraggable){K6.globalAlpha*=+"0.3";}l7=Q4.field;M2=Q4.yAxis || k1.yAxis;q1=M2.top;G$=M2.bottom;H4g.O$r(28);var R1_=H4g.v0q(7,1,11,3,22);O7=l_.dataSet.length - l_.scroll - R1_;K_={};H4g.O$r(2);var p$9=H4g.b63(14,12);A9=l_.tmpWidth / p$9;H4g.g33(16);var O4u=H4g.v0q(10,8);a2=K6.lineWidth / O4u;l0=this.layout.candleWidth;H4g.g33(29);var L5o=H4g.b63(1,6,7,461,11);d7=k1.left - 0.5 * l0 + this.micropixels - L5o;o2=-1;for(var d2=0;d2 <= F5.length;d2++){H4g.g33(2);var J1I=H4g.b63(20,19);H4g.g33(30);var k$o=H4g.v0q(6,3,8,4,1);d7+=this.layout.candleWidth * (d2 - o2 - J1I) / k$o;o2=d2;e$=A9;H4g.g33(31);d7+=H4g.b63("2",l0);l0=this.layout.candleWidth;H4g.g33(9);d7+=H4g.b63(2,l0);F$=F5[d2];if(!F$)continue;if(!F$.cache || l_.pixelCacheExpired){F$.cache={};}if(F$.projection)continue;if(F$.candleWidth){H4g.O$r(16);var I7Y=H4g.v0q(13,11);d7+=(F$.candleWidth - l0) / I7Y;l0=F$.candleWidth;}C5=E5(this,F$);if(!C5)continue;K_[C5]=1;K6.strokeStyle=C5;K6.beginPath();if(l_.transformFunc && M2 == l_.panel.yAxis && F$.transform){F$=F$.transform;}D2=F$.cache;if(F$ && l7){F$=F$[l7];}if(!F$ && F$ !== 0)continue;u4="top";M6="bottom";V7="open";a7="close";if(l7){H4g.g33(17);u4=H4g.b63(u4,(6888,2391) === "3220" - 0?"n":".",l7);H4g.g33(17);M6=H4g.b63(M6,3070 > 962?".":!!({}),l7);H4g.g33(17);V7=H4g.v0q(V7,".",l7);H4g.g33(17);a7=H4g.b63(a7,".",l7);}u5=F$.Close;Q6=F$.Open === undefined?u5:F$.Open;k4=F$.High === undefined?Math.max(u5,Q6):F$.High;z5=F$.Low === undefined?Math.min(u5,Q6):F$.Low;if(!u5 && u5 !== 0)continue;L4=d7;if(!Q4.isVolume && o4){W$=+"0";while(F5[d2 + 1]){J4=F5[d2 + 1].Close;if(J4 || J4 === 0 || F5[d2 + ("1" - 0)].futureTick)break;W$++;d2++;}H4g.g33(19);d7+=H4g.v0q(2,l0,W$);H4g.O$r(19);e$+=H4g.v0q(2,l0,W$);}H4g.O$r(0);l4=H4g.b63(O7,o2);if(l4 < k1.cacheLeft || l4 > k1.cacheRight || !D2[u4]){e_=this.pixelFromTransformedValue(k4,k1,M2);X0=this.pixelFromTransformedValue(z5,k1,M2);e_=Math.floor(e_);X0=Math.floor(X0);H4g.g33(2);O_=H4g.b63(X0,e_);D2[V7]=M2.semiLog?M2.height * (1 - (Math.log(Math.max(Q6,0)) / Math.LN10 - M2.logLow) / M2.logShadow):(M2.high - Q6) * M2.multiplier;D2[a7]=M2.semiLog?M2.height * (1 - (Math.log(Math.max(u5,0)) / Math.LN10 - M2.logLow) / M2.logShadow):(M2.high - u5) * M2.multiplier;if(Math.abs(D2[a7] - D2[V7]) < 1){D2[a7]=D2[V7];}D2[V7]=Math.floor(D2[V7]);D2[a7]=Math.floor(D2[a7]);if(M2.flipped){D2[V7]=M2.bottom - D2[V7];D2[a7]=M2.bottom - D2[a7];}else {D2[V7]+=M2.top;D2[a7]+=M2.top;}q7[o2]=D2[a7];if(e_ < q1){if(e_ + O_ < q1){D2[u4]=e_;D2[M6]=e_;continue;}H4g.O$r(32);O_-=H4g.v0q("1",q1,e_);H4g.O$r(2);e_=H4g.v0q(q1,1);}if(e_ + O_ > G$){H4g.O$r(21);O_=H4g.v0q(G$,1,e_);}D2[u4]=e_;H4g.g33(0);D2[M6]=H4g.v0q(e_,O_);}O0=!Q4.highlight && 0.5;z1=Math.floor(L4) + O0;k3=D2[V7] + O0;O5=D2[a7] + O0;v_=D2[u4] + O0;j2=D2[M6] + O0;if(v_ < G$ && j2 > q1 && F$.High != F$.Low){H4g.O$r(2);K6.moveTo(z1,H4g.v0q(v_,a2));H4g.g33(0);K6.lineTo(z1,H4g.b63(j2,a2));}H4g.g33(2);d_=Math.floor(H4g.b63(d7,L4));if(Q4.type != "hlc" && k3 > q1 && k3 < G$){K6.moveTo(z1,k3);H4g.g33(27);K6.lineTo(H4g.b63(d_,e$,z1),k3);}if(O5 > q1 && O5 < G$){K6.moveTo(z1,O5);H4g.O$r(17);K6.lineTo(H4g.v0q(e$,d_,z1),O5);}K6.stroke();}K6.lineWidth=1;l_.pixelCacheExpired=!({});H9={colors:[],cache:q7};for(var A5 in K_){if(!d4.equals(A5,this.containerColor)){H9.colors.push(A5);}}return H9;};d4.ChartEngine.prototype.drawWaveChart=function(s8,N$){var g9,a4,v4,V1,h1,J6,c9,N9,l2,b0,x$,R4,O8,g6,Z_,n9,s9,J5,L_,P1,T2,Q2,s$,e7,j8,Q5,I6,b_;g9=s8.chart;a4=N$.stretchGaps;if(!a4 && a4 !== !({})){a4=this.cleanupGaps === "stretch";}v4=g9.dataSegment;V1=new Array(v4.length);h1=g9.context;if(!N$){N$={};}J6=N$.yAxis || s8.yAxis;this.startClip(s8.name);h1.beginPath();c9=!"1";N9=!1;l2=s8.yAxis.top;function z3(p7){return O8.pixelFromTransformedValue(p7,s8,J6);}b0=s8.yAxis.bottom;x$=this.layout.candleWidth;R4=s8.left + Math.floor(-0.5 * this.layout.candleWidth + this.micropixels);O8=this;g6=-1;for(var X4=0;X4 <= v4.length;X4++){H4g.O$r(2);var Q$u=H4g.v0q(20,19);H4g.O$r(27);var K7f=H4g.v0q(13,11,0);R4+=this.layout.candleWidth * (X4 - g6 - Q$u) / K7f;g6=X4;H4g.O$r(33);R4+=H4g.b63(x$,32,"2");x$=this.layout.candleWidth;H4g.O$r(9);R4+=H4g.b63(2,x$);Z_=v4[X4];if(!Z_)continue;if(Z_.projection)break;if(Z_.candleWidth){H4g.O$r(34);var A5m=H4g.b63(1,1,12,1,10);R4+=(Z_.candleWidth - x$) / A5m;x$=Z_.candleWidth;}if(g9.transformFunc && J6 == g9.panel.yAxis && Z_.transform){Z_=Z_.transform;}if(Z_ && N$.field){Z_=Z_[N$.field];}if(!Z_ && Z_ !== +"0")continue;n9=Z_.Close;s9=Z_.Open === undefined?n9:Z_.Open;J5=Z_.High === undefined?Math.max(n9,s9):Z_.High;L_=Z_.Low === undefined?Math.min(n9,s9):Z_.Low;if(!n9 && n9 !== 0)continue;if(a4){while(v4[X4 + +"1"]){P1=v4[X4 + 1].Close;if(P1 || P1 === 0 || v4[X4 + 1].futureTick)break;H4g.O$r(35);R4+=H4g.v0q(x$,"2",0);X4++;}}H4g.O$r(21);T2=H4g.b63(X4,1,g6);H4g.O$r(36);Q2=H4g.v0q(3,T2,R4,8,x$);s$=z3(s9);if(s$ < l2){s$=l2;if(N9){h1.moveTo(Q2,s$);continue;}N9=!![];}else if(s$ > b0){s$=b0;if(N9){h1.moveTo(Q2,s$);continue;}N9=!0;}else {N9=!"1";}if(!c9){c9=!!({});H4g.g33(37);var d3f=H4g.b63(15,1364,13,7);e7=g9.dataSet.length - g9.scroll - d3f;if(e7 < +"0"){h1.moveTo(Q2,s$);}else if(e7 >= 0){j8=g9.dataSet[e7];if(j8.transform){j8=j8.transform;}Q5=j8.Close;Q5=z3(Q5);Q5=Math.min(Math.max(Q5,l2),b0);h1.moveTo(s8.left + (X4 - 1) * this.layout.candleWidth + this.micropixels,Q5);h1.lineTo(Q2,s$);}h1.moveTo(Q2,s$);}else {h1.lineTo(Q2,s$);}H4g.g33(19);Q2+=H4g.b63(4,x$,T2);if(s9 < n9){s$=z3(L_);if(s$ < l2){s$=l2;}if(s$ > b0){s$=b0;}h1.lineTo(Q2,s$);H4g.g33(19);Q2+=H4g.b63(4,x$,T2);s$=z3(J5);if(s$ < l2){s$=l2;}if(s$ > b0){s$=b0;}h1.lineTo(Q2,s$);}else {s$=z3(J5);if(s$ < l2){s$=l2;}if(s$ > b0){s$=b0;}h1.lineTo(Q2,s$);H4g.g33(19);Q2+=H4g.v0q(4,x$,T2);s$=z3(L_);if(s$ < l2){s$=l2;}if(s$ > b0){s$=b0;}h1.lineTo(Q2,s$);}H4g.g33(19);Q2+=H4g.b63(4,x$,T2);s$=z3(n9);V1[X4]=s$;if(s$ < l2){s$=l2;}if(s$ > b0){s$=b0;}h1.lineTo(Q2,s$);}I6=this.canvasStyle("stx_line_chart");if(I6.width && parseInt(I6.width,10) <= 25){h1.lineWidth=Math.max(1,d4.stripPX(I6.width));}else {h1.lineWidth=1;}if(N$.highlight){h1.lineWidth*=2;}this.canvasColor("stx_line_chart");if(N$.color){h1.strokeStyle=N$.color;}if(!N$.highlight && this.highlightedDraggable){h1.globalAlpha*=+"0.3";}h1.stroke();h1.closePath();b_={colors:[h1.strokeStyle],cache:V1};this.endClip();h1.lineWidth=1;return b_;};H4g.Z7I();d4.ChartEngine.prototype.drawHistogram=function(Q$,Z0){var S7,F3,K1,O4,P$,t9,J2,A7,i4,y_,Z5,I0,y7,F8,J$,N4,K3,J6l,N_,O3,U2,U7,b2,j_,g7,y4,K0,L6,V4o,w5,z0,v5,T8,V$,Y0O;if(!Z0 || !Z0.length){return;}S7=Q$.panel;if(!S7){S7="chart";}F3=this.panels[S7];if(!F3){return;}K1=Q$.stretchGaps;if(!K1 && K1 !== !!0){K1=this.cleanupGaps === "stretch";}O4=Q$.yAxis?Q$.yAxis:F3.yAxis;P$=Q$.type;t9=this.chart.dataSegment;J2=!({});A7=1;i4=+"1";for(Z5=0;Z5 < Z0.length;Z5++){J2|=Z0[Z5].border_color_up && !d4.isTransparent(Z0[Z5].border_color_up);J2|=Z0[Z5].border_color_down && !d4.isTransparent(Z0[Z5].border_color_down);A7=Z0[Z5].opacity_up;i4=Z0[Z5].opacity_down;if(!Q$.highlight && this.highlightedDraggable){A7*=0.3;H4g.g33(2);i4*=H4g.v0q("0.3",0);}}if(Q$.borders === !({})){J2=!({});}if(!Q$.name){Q$.name="Data";}I0=O4.multiplier;if(!Q$.heightPercentage){Q$.heightPercentage=0.7;}if(!Q$.widthFactor){Q$.widthFactor=0.8;}y7=0;H4g.g33(3);F8=H4g.b63("0",1);for(var C4=0;C4 < this.chart.maxTicks;C4++){J$=t9[C4];if(!J$)continue;H4g.g33(18);N4=H4g.v0q(0,"0");for(Z5=0;Z5 < Z0.length;Z5++){y_=Z0[Z5].subField || this.chart.defaultPlotField || "Close";K3=d4.Studies.getQuoteFieldValue(J$,Z0[Z5].field,y_);if(!K3 && this.cleanupGaps === "stretch"){K3=this.valueFromInterpolation(C4,Z0[Z5].field,y_,F3,O4,!![]);}if(K3 || K3 === 0){if(typeof K3 == "object" && K3[y_]){K3=K3[y_];}if(P$ == "stacked"){N4+=K3;}else {N4=K3;}if(N4 > y7){y7=N4;}if(N4 < F8){F8=N4;}}}}if(y7 === 0 && F8 === 0){J6l=" Not A";J6l+="vai";J6l+="l";J6l+="able";this.displayErrorAsWatermark(S7,this.translateIf(Q$.name + J6l));return;}O3=!!"";if(!Q$.bindToYAxis){if(O4.flipped){N_=Math.floor(O4.top) - 0.5;U2=Math.floor(O4.bottom) - 0.5;}else {N_=Math.floor(O4.bottom) + 0.5;U2=Math.floor(O4.top) + 0.5;}I0=Math.abs(N_ - U2) * Q$.heightPercentage / (y7 - F8);}else {if(O4.baseline){F8=O4.baseline.value;O3=!"";}N_=Math.floor(this.pixelFromPrice(F8,F3,O4)) + (O4.flipped?-0.5:+"0.5");}this.startClip(S7);U7=this.layout.candleWidth <= 1 || !J2?+"0":0.5;b2=this.chart.context;if(O4.flipped){H4g.g33(3);b2.translate(H4g.b63("0",1),2 * O4.top);b2.scale(1,-1);}j_=Math.max(0,(1 - Q$.widthFactor) * this.layout.candleWidth / 2);g7=new Array(t9.length);y4=[];K0=this;L6=1;for(Z5=0;Z5 < Z0.length;Z5++){V4o="clu";V4o+="ste";V4o+="re";V4o+="d";w5=Z0[Z5];L6=this.layout.candleWidth * Q$.widthFactor;if(j_){if(this.layout.candleWidth - L6 <= 2){J2=!({});}}z0=+"0";if(P$ == V4o){z0=Z5;L6/=Z0.length;}y_=w5.subField || this.chart.defaultPlotField || "Close";if(typeof w5.color_function == "function"){T8={};for(var w9=0;w9 < t9.length;w9++){if(t9[w9]){Y0O="bor";Y0O+="der";Y0O+="_op";Y0O+="acity";v5=w5.color_function(t9[w9]);if(typeof v5 == "string"){v5={fill_color:v5,border_color:v5};}if(!v5.hasOwnProperty(Y0O)){v5.border_opacity=v5.opacity;}V$=v5.fill_color + "," + v5.border_color;if((V$ in T8)){T8[V$].positions.push(w9);}else {v5.positions=[w9];T8[V$]=v5;}}}for(V$ in T8){v5=T8[V$];B2(w5.field,y_,v5.fill_color,v5.opacity,null,null,z0,L6,v5.positions);B2(w5.field,y_,v5.border_color,v5.border_opacity,!0,null,z0,L6,v5.positions);}}else {B2(w5.field,y_,w5.fill_color_up,A7,null,!"",z0,L6);B2(w5.field,y_,w5.fill_color_down,i4,null,null,z0,L6);if(this.layout.candleWidth >= +"2" && J2){B2(w5.field,y_,w5.border_color_up,A7,!"",!![],z0,L6);B2(w5.field,y_,w5.border_color_down,i4,!!({}),null,z0,L6);}}if(P$ == "stacked"){y4=d4.shallowClone(g7);}}b2.globalAlpha=1;function B2(l$,k$,K5,h9,V4,T_,h4,N8,G4){var c6,Q_,k4H,P4F,E5N,z7,x4D,O5Z,h3v,f0,H4,c4,F0,k2,u9,W3,K4,w6,T6,y9,f2,x8,v$,w$;if(!h9){h9=1;}b2.globalAlpha=h9;b2.beginPath();H4g.O$r(0);c6=H4g.v0q(N_,0.5);Q_=Math.floor(K0.pixelFromBar(+"0",F3.chart) - K0.layout.candleWidth / 2);k4H=-1087081460;P4F=-1315345118;E5N=+"2";for(var T6L=1;H4g.D$s(T6L.toString(),T6L.toString().length,84345) !== k4H;T6L++){z7=Q_;E5N+=2;}if(H4g.u7W(E5N.toString(),E5N.toString().length,27118) !== P4F){z7=Q_;}for(var x9=0;x9 < t9.length;x9++){x4D="c";x4D+="l";x4D+="ustered";O5Z="o";O5Z+="b";O5Z+="j";O5Z+="ect";h3v="cl";h3v+="ustered";f0=0;H4=y4[x9] || N_;if(x9 === +"0"){c6=H4;}c4=t9[x9];F0=d4.Studies.getQuoteFieldValue(c4,l$,k$);if(F0 === null){c6=H4;z7+=K0.layout.candleWidth;continue;}if(K1 && P$ !== h3v){while(t9[x9 + 1]){H4g.g33(38);k2=t9[H4g.b63(64,"1",x9)][l$];if(k2 || k2 === "0" * 1 || t9[x9 + 1].futureTick)break;if(k2 && (k2.Close || k2.Close === 0))break;f0++;x9++;}H4=y4[x9] || N_;}H4g.g33(39);u9=H4g.b63(F0,I0,F8);W3=K0.layout.candleWidth;if(c4.candleWidth){W3=c4.candleWidth;if(x9 === +"0"){Q_=z7=Math.floor(K0.pixelFromBar(0,F3.chart) - c4.candleWidth / 2);}}if(isNaN(u9)){c6=H4;z7+=W3;continue;}K4=Math.floor(H4 - u9) + 0.5;if(K4 > H4 && !O3){K4=H4;}w6=(typeof c4[l$] == "object"?c4[l$]:c4).Close;T6=(typeof c4[l$] == O5Z?c4[l$]:c4).iqPrevClose;if(G4 && G4.indexOf(x9) == -1 || !G4 && (T_ && w6 < T6 || !T_ && w6 >= T6)){c6=K4;z7+=W3 + K0.layout.candleWidth * f0;continue;}y9=W3 / K0.layout.candleWidth;H4g.g33(40);f2=Math.round(H4g.v0q(j_,h4,z7,N8,y9));H4g.O$r(0);x8=H4g.b63(f2,V4?0:U7);v$=f2 + Math.round(N8 * y9) - (V4?+"0":U7);if(v$ - x8 < 2){H4g.O$r(41);v$=H4g.v0q("1",x8,0);}w$=V4?"0" * 1:0.5;if(x8 % 1 == w$){x8+=0.5;}if(v$ % 1 == w$){v$+=0.5;}H4g.O$r(3);v$+=H4g.v0q(N8,f0);b2.moveTo(v$,H4);if(N_ != H4 && V4 && !j_ && y4[x9 + 1]){b2.moveTo(v$,Math.max(K4,Math.min(H4,y4[x9 + 1])));}b2.lineTo(v$,K4);b2.lineTo(x8,K4);if(V4 && h4){if(g7[x9] > K4 || x9 === 0){b2.lineTo(x8,Math.min(H4,g7[x9]));}}else if(V4 && !j_ && P$ == "clustered"){if(x9 > 0 && g7[x9 - 1] && g7[x9 - 1] > K4){b2.lineTo(x8,Math.min(H4,g7[x9 - 1]));}}else if(V4 && !j_){if(c6 > K4 || x9 === +"0"){b2.lineTo(x8,Math.min(H4,c6));}}else {b2.lineTo(x8,H4);}c6=K4;z7+=W3 + K0.layout.candleWidth * f0;if(P$ != x4D || V4){g7[x9]=K4;}for(var f$=0;f$ < f0;f$++){H4g.O$r(2);g7[H4g.b63(x9,f$)]=g7[x9];}}if(V4){b2.strokeStyle=!K5 || K5 == "auto"?K0.defaultColor:K5;b2.stroke();}else {b2.fillStyle=!K5 || K5 == "auto"?K0.defaultColor:K5;b2.fill();}b2.closePath();}this.endClip();};d4.ChartEngine.prototype.scatter=function(w3,W_){var Q5B,D7,P4,r8,Y_,Z$,K$,D5,n_,f4,D0,S5,c3,n04,f6,M0,L1,a5,T3,L5;Q5B="Clo";Q5B+="s";Q5B+="e";D7=w3.chart;P4=D7.dataSegment;r8=new Array(P4.length);Y_=this.chart.context;this.canvasColor("stx_scatter_chart");if(!W_){W_={};}Z$=W_.field || D7.defaultPlotField;K$=W_.yAxis || w3.yAxis;D5=W_.subField || D7.defaultPlotField || Q5B;this.startClip(w3.name);Y_.beginPath();Y_.lineWidth=W_.lineWidth || 4;if(W_.highlight){Y_.lineWidth*=2;}if(!W_.highlight && this.highlightedDraggable){Y_.globalAlpha*=0.3;}if(W_.color){Y_.strokeStyle=W_.color;}n_=K$.top;f4=K$.bottom;D0=this.layout.candleWidth;H4g.g33(2);var R06=H4g.v0q(10,9);S5=w3.left - "0.5" * R06 * D0 + this.micropixels - +"1";H4g.m_N();var {tickFilter:X9}=W_;for(var k7="0" << 64;k7 <= P4.length;k7++){H4g.O$r(9);S5+=H4g.b63(2,D0);D0=this.layout.candleWidth;H4g.g33(9);S5+=H4g.v0q(2,D0);c3=P4[k7];if(!c3)continue;if(c3.candleWidth){H4g.O$r(14);var n7o=H4g.b63(10,6,2);S5+=(c3.candleWidth - D0) / n7o;D0=c3.candleWidth;}if(X9){if(X9.length === 0)break;if(!X9.has(c3.tick))continue;X9.delete(c3.tick);}if(!c3.projection){n04="S";n04+="catte";n04+="r";if(D7.transformFunc && K$ == D7.panel.yAxis && c3.transform){c3=c3.transform;}f6=c3[Z$];if(f6 && f6[D5] !== undefined){f6=f6[D5];}if(!(f6 instanceof Array)){f6=[f6];}if((n04 in c3)){f6=c3.Scatter;}for(var e6=0;e6 < f6.length;e6++){if(!f6[e6] && f6[e6] !== +"0")continue;M0=f6[e6];L1=0;if(f6[e6] instanceof Array){M0=f6[e6][0];L1=f6[e6][2];}a5=K$.semiLog?K$.height * (1 - (Math.log(Math.max(M0,0)) / Math.LN10 - K$.logLow) / K$.logShadow):(K$.high - M0) * K$.multiplier;if(K$.flipped){H4g.O$r(2);a5=H4g.b63(f4,a5);}else {a5+=n_;}if(a5 < n_)continue;if(a5 > f4)continue;H4g.g33(18);T3=H4g.v0q(0,"2");if(L1){H4g.g33(3);T3=H4g.v0q(D0,L1);}H4g.O$r(2);Y_.moveTo(H4g.b63(S5,T3),a5);H4g.g33(0);Y_.lineTo(H4g.v0q(S5,T3),a5);r8[k7]=a5;}}}Y_.stroke();Y_.closePath();L5={colors:[Y_.strokeStyle],cache:r8};this.endClip();Y_.lineWidth=1;return L5;};};B=G6=>{var l5Z,k0A,M0m,v3d,u4j,h8J,f7N,R$G,A6m,W80,M_6,m67,Z8y,n4h,t8_,a6,b8;l5Z="col";l5Z+="or";k0A="li";k0A+="ne";k0A+="W";k0A+="idth";M0m="co";M0m+="lor";v3d="c";v3d+="o";v3d+="l";v3d+="or";u4j="a";u4j+="ut";u4j+="o";h8J="au";h8J+="to";f7N="aut";f7N+="o";R$G="au";R$G+="to";A6m="s";A6m+="olid";W80="a";W80+="u";W80+="t";W80+="o";M_6="so";M_6+="lid";m67="so";m67+="l";m67+="id";Z8y="a";Z8y+="u";Z8y+="t";Z8y+="o";n4h="#";n4h+="7DA6F";n4h+="5";t8_="soli";t8_+="d";a6=typeof _CIQ !== "undefined"?_CIQ:G6.CIQ;b8=typeof _timezoneJS !== "undefined"?_timezoneJS:G6.timezoneJS;a6.ChartEngine.drawingTools={};a6.ChartEngine.currentVectorParameters={vectorType:null,pattern:t8_,lineWidth:1,fillColor:n4h,currentColor:"auto",axisLabel:!![],showCallout:!({}),alwaysMagnetize:!({}),spanPanels:![],fibonacci:{trend:{color:Z8y,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},fibs:[{level:-0.786,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-0.618,color:"auto",parameters:{pattern:m67,opacity:0.25,lineWidth:+"1"},display:!!1},{level:-+"0.5",color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-0.382,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"},display:!!({})},{level:-0.236,color:"auto",parameters:{pattern:M_6,opacity:+"0.25",lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!!({})},{level:0.236,color:W80,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:0.382,color:"auto",parameters:{pattern:"solid",opacity:"0.25" * 1,lineWidth:1},display:!![]},{level:0.5,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" * 1},display:!0},{level:0.618,color:"auto",parameters:{pattern:A6m,opacity:0.25,lineWidth:1},display:!!({})},{level:0.786,color:R$G,parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}},{level:1,color:f7N,parameters:{pattern:"solid",lineWidth:"1" * 1},display:!!({})},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:1.382,color:h8J,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:"2.618" * 1,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}}],extendLeft:!({}),printLevels:!"",printValues:!"1",timezone:{color:u4j,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}},measurementline:{calloutOnHover:![],displayGroups:{bars:!!"1",delta:!"",annpercent:!({}),totreturn:!"1",volume:!({}),studies:!!""}}};a6.ChartEngine.registerDrawingTool=function(i8,U3){o1YMc.Z7I();a6.ChartEngine.drawingTools[i8]=U3;};a6.ChartEngine.completeDrawing=function(Q1){var q5q=o1YMc;q5q.m_N();var B0,V6e,j2d,z0D;if(!Q1 || !Q1.activeDrawing){return;}B0=Q1.activeDrawing;if(!Q1.keepDrawingToolSelected){if(Q1.drawingContainer && Q1.drawingContainer.tool){q5q.O$r(18);V6e=-q5q.b63(0,"703254428");q5q.g33(3);j2d=-q5q.b63("111706460",1);z0D=2;for(var g3u=1;q5q.D$s(g3u.toString(),g3u.toString().length,45610) !== V6e;g3u++){Q1.drawingContainer.tool({node:+"1"},"");z0D+=2;}if(q5q.D$s(z0D.toString(),z0D.toString().length,41406) !== j2d){Q1.drawingContainer.tool({node:1},"");}Q1.drawingContainer.tool({node:null},"notool");}else {Q1.changeVectorType("");}}Q1.dispatch("drawingComplete",{stx:Q1,drawing:B0});};a6.ChartEngine.prototype.keepDrawingToolSelected=![];a6.ChartEngine.prototype.setDrawingContainer=function(z$){this.drawingContainer=z$;};a6.ChartEngine.prototype.exportDrawings=function(){var I3;I3=[];for(var D4=0;D4 < this.drawingObjects.length;D4++){I3.push(this.drawingObjects[D4].serialize());}return I3;};a6.ChartEngine.prototype.abortDrawings=function(C8){var S3;if(C8 !== !"1"){C8=!"";}for(var I$=this.drawingObjects.length - ("1" ^ 0);I$ >= 0;I$--){S3=this.drawingObjects[I$];S3.abort(!!({}));if(C8 || !S3.permanent){this.drawingObjects.splice(I$,1);}}};a6.ChartEngine.prototype.importDrawings=function(J9){var a0,B3,Y1;if(!a6.Drawing){return;}for(var T9=0;T9 < J9.length;T9++){a0=J9[T9];if(a0.name == "fibonacci"){a0.name="retracement";}B3=a6.ChartEngine.drawingTools[a0.name];if(!B3){if(a6.Drawing[a0.name]){B3=a6.Drawing[a0.name];a6.ChartEngine.registerDrawingTool(a0.name,B3);}}if(B3){Y1=new B3();Y1.reconstruct(this,a0);this.drawingObjects.push(Y1);}}};a6.ChartEngine.prototype.clearDrawings=function(e1,k8){var L2,j4;if(k8 !== !!0){k8=!!({});}L2=this.exportDrawings();this.abortDrawings(k8);if(e1){this.undoStamps=[];}else {this.undoStamp(L2,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!!({});a6.clearCanvas(this.chart.tempCanvas,this);this.draw();j4=this.controls.mSticky;if(j4){j4.style.display="none";j4.querySelector(".mStickyInterior").innerHTML="";}};a6.ChartEngine.prototype.createDrawing=function(y6,b6){var A_,E4;if(!a6.Drawing){return;}A_=new a6.Drawing[y6]();A_.reconstruct(this,b6);E4=new a6.Drawing[y6]();E4.stx=this;E4.copyConfig();for(var t6 in E4){A_[t6]=A_[t6] || E4[t6];}this.drawingObjects.push(A_);this.draw();return A_;};a6.ChartEngine.prototype.removeDrawing=function(L8){var T8s;for(var K7=0;K7 < this.drawingObjects.length;K7++){if(this.drawingObjects[K7] == L8){T8s="vect";T8s+="or";this.drawingObjects.splice(K7,1);this.changeOccurred(T8s);this.draw();return;}}};a6.ChartEngine.prototype.undo=function(){var r5W;if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){r5W="stx_c";r5W+="rossha";r5W+="ir";this.editingAnnotation=![];this.activeDrawing.abort();this.activeDrawing.hidden=!!"";this.drawingSnapshot=null;this.activateDrawing(null);a6.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing",r5W);a6.ChartEngine.drawingLine=![];this.cancelTouchSingleClick=!"";}this.runAppend("undo",arguments);};a6.ChartEngine.prototype.undoStamp=function(F9,Y$){this.undoStamps.push(F9);o1YMc.Z7I();this.dispatch("undoStamp",{before:F9,after:Y$,stx:this});};a6.ChartEngine.prototype.undoLast=function(){if(this.activeDrawing){this.undo();}else {if(this.undoStamps.length){this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred("vector");this.draw();}}};a6.ChartEngine.prototype.addDrawing=function(V2){var s2;o1YMc.Z7I();s2=this.exportDrawings();this.drawingObjects.push(V2);this.undoStamp(s2,this.exportDrawings());};a6.ChartEngine.prototype.repositionDrawing=function(U_,Z4){var o9,P9,W9;if(this.currentPanel.name != U_.panelName && !U_.spanPanels){return;}o9=this.panels[U_.panelName];P9=this.adjustIfNecessary(o9,this.crosshairTick,U_.valueFromPixel(this.backOutY(a6.ChartEngine.crosshairY),o9,this.getYAxisByField(o9,U_.field)));W9=this.chart.tempCanvas;a6.clearCanvas(W9,this);this.startClip(o9.name);if(Z4){this.drawingSnapshot=this.exportDrawings();if(U_.spanPanels){U_.originPanelName=U_.panelName;Object.values(this.panels).forEach(t$=>{U_.panelName=t$.name;U_.render(W9.context);});U_.panelName=U_.originPanelName;}else {U_.render(W9.context);}}else {U_.reposition(W9.context,U_.repositioner,this.crosshairTick,P9);if(this.drawingSnapshot){this.undoStamp(a6.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(this.editingDrawing){this.editingDrawing.render(W9.context);}this.endClip();if(U_.measure){U_.measure();}};a6.ChartEngine.prototype.activateRepositioning=function(M$){var R4v,z8D,q8;R4v="n";R4v+="o";R4v+="n";R4v+="e";z8D="bl";z8D+="o";z8D+="c";z8D+="k";q8=this.repositioningDrawing=M$;if(M$){this.draw();this.repositionDrawing(M$,!!1);}this.chart.tempCanvas.style.display=M$?z8D:R4v;};a6.ChartEngine.prototype.activateDrawing=function(e2,H7){var n6;if(!H7){H7=this.currentPanel;}this.drawingSnapshot=null;if(!e2){this.activeDrawing=null;this.chart.tempCanvas.style.display="none";t7(this);return !1;}n6=a6.ChartEngine.drawingTools[e2];if(!n6){if(a6.Drawing[e2]){n6=a6.Drawing[e2];a6.ChartEngine.registerDrawingTool(e2,n6);}}function t7(g$){var M3;if(!H7 || !g$.layout.studies){return;}M3=g$.layout.studies[H7.name];o1YMc.m_N();if(M3 && !M3.overlay){delete g$.overlays[M3.name];}}if(n6){this.activeDrawing=new n6();this.activeDrawing.construct(this,H7);if(!this.charts[H7.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;t7(this);return ![];}}}this.chart.tempCanvas.style.display="block";if(this.controls.drawOk){this.controls.drawOk.style.display="none";}t7(this);return !"";};a6.ChartEngine.prototype.drawingClick=function(X6,b3,g4){var C0,q$,z2,f_,o5,l1,k6a,n74,k2u;if(!a6.Drawing){return;}if(!X6){return;}if(this.openDialog){return;}o1YMc.m_N();if(this.editingDrawing){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,X6)){return;}}if(this.activeDrawing){if(this.userPointerDown && !this.activeDrawing.dragToDraw){if(!a6.ChartEngine.drawingLine){this.activateDrawing(null);}return;}else if(!this.activeDrawing.p0){C0=this.highlightedDataSetField;if(this.magnetizedPrice !== null && (X6 !== this.chart.panel || ["Open","High","Low","Close"].indexOf(this.magneticHold) < 0)){C0=a6.getObjectChainRoot(this.magneticHold);}if(!C0 && X6 != this.chart.panel){for(var D8 in this.chart.seriesRenderers){q$=this.chart.seriesRenderers[D8];if(q$.params.panel == X6.name){C0=q$.seriesParams[0].field;break;}}for(var g0 in this.layout.studies){z2=this.layout.studies[g0];if(z2.panel == X6.name){C0=Object.keys(z2.outputMap)[0];break;}}}this.activeDrawing.field=C0;}else if(this.activeDrawing.moving){b3=this.crosshairX - this.left;g4=this.crosshairY - this.top;}f_=this.tickFromPixel(b3,X6.chart);o5=this.panels[this.activeDrawing.panelName];if(this.magnetizedPrice || this.magnetizedPrice === 0){l1=this.adjustIfNecessary(o5,f_,this.magnetizedPrice);}else {l1=this.adjustIfNecessary(o5,f_,this.activeDrawing.valueFromPixel(g4,o5,this.getYAxisByField(o5,this.activeDrawing.field)));}if(this.activeDrawing.click(this.chart.tempCanvas.context,f_,l1)){if(this.activeDrawing){k6a="st";k6a+="x_crossha";k6a+="ir";n74="s";n74+="tx_crosshair";n74+="_dra";n74+="wing";a6.ChartEngine.drawingLine=!"1";a6.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);a6.ChartEngine.completeDrawing(this);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred("vector");this.controls.crossX.classList.replace(n74,k6a);this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");}}else {k2u="st";k2u+="x_cr";k2u+="os";k2u+="shair_drawing";this.changeOccurred("drawing");a6.ChartEngine.drawingLine=!![];this.controls.crossX.classList.replace("stx_crosshair",k2u);this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing");}return !!"1";}return !1;};a6.ChartEngine.prototype.rightClickDrawing=function(S4,c_,l6){var a8,N2;if(this.runPrepend("rightClickDrawing",arguments)){return;}o1YMc.Z7I();if(S4.permanent){return;}if(this.callbackListeners.drawingEdit.length){this.dispatch("drawingEdit",{stx:this,drawing:S4,forceEdit:c_,forceText:l6});}else {a8=S4.abort();if(!a8){N2=this.exportDrawings();this.removeDrawing(S4);this.undoStamp(N2,this.exportDrawings());}this.changeOccurred("vector");}this.runAppend("rightClickDrawing",arguments);};a6.ChartEngine.prototype.magnetize=function(){var p1l=o1YMc;var m0z,q_O,g6g,X7s,X3,V0,N1,r5,B_,r_,q5,h_,p2,G_,X8,s_,B6,j5,d6,n$,h7,g_,s1,H8,C9;m0z="b";m0z+="lock";q_O="Clo";q_O+="se";g6g="L";g6g+="ow";X7s="callo";X7s+="ut";X3=this;this.magnetizedPrice=null;if(!this.preferences.magnet && !this.currentVectorParameters.alwaysMagnetize){return;}if(this.runPrepend("magnetize",arguments)){return;}if(this.repositioningDrawing || this.editingDrawing){return;}V0=this.currentVectorParameters.vectorType;if(!V0 || V0 == "projection" || V0 == "freeform"){return;}p1l.Z7I();if((V0 == "annotation" || V0 == X7s) && a6.ChartEngine.drawingLine){return;}N1=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel;r5=N1.chart;B_=this.crosshairTick;if(B_ > r5.dataSet.length){return;}r_=r5.dataSet[B_];if(!r_){return;}h_=this.getRenderedItems();p2=["Open","High",g6g,q_O];if(this.activeDrawing && this.activeDrawing.penDown){if(this.magneticHold){if(p2.indexOf(this.magneticHold) != -1 && h_.indexOf("High") != -1){h_=p2;}else {h_=[this.magneticHold];}}else {return;}}else {this.magneticHold=null;}G_=1000000000;X8=parseFloat(this.preferences.magnet);if(V0 == "measurementline"){X8=!1;}s_=function(){var a1,X7;B6=X3.getYAxisByField(N1,h_[h8]) || N1.yAxis;j5=r5.transformFunc && B6 === r5.yAxis;if(j5 && r_.transform){r_=r_.transform;}p1l.Z7I();d6=r_[h_[h8]];n$=a6.existsInObjectChain(r_,h_[h8]);if(n$){d6=n$.obj[n$.member];}if(d6 || d6 === 0){h7=X3.pixelFromTransformedValue(d6,N1,B6);if(Math.abs(X3.cy - h7) < G_){G_=Math.abs(X3.cy - h7);if(X8 && X8 <= G_){return 1;}X3.magnetizedPrice=d6;if(j5){a1=r5.untransformFunc;X7=a6.getObjectChainRoot(h_[h8]);if(a1 && r5.series[X7]){r5.untransformFunc=(C2,z4,x7,o0)=>{return a1(C2,z4,x7,o0,X7);};}X3.magnetizedPrice=X3.valueFromPixel(h7,N1);r5.untransformFunc=a1;}q5=h7;X3.magneticHold=h_[h8];}}};for(var h8=0;h8 < h_.length;h8++){if(s_())continue;}g_=this.pixelFromTick(B_,r5);s1=q5;a6.clearCanvas(r5.tempCanvas,this);H8=r5.tempCanvas.context;H8.beginPath();p1l.O$r(1);H8.lineWidth=p1l.v0q(1,"1");p1l.g33(14);var P4Y=p1l.v0q(96,16,72);p1l.g33(42);var J11=p1l.b63(10,5,1,8);C9=Math.max(this.layout.candleWidth,"12" | P4Y) / J11;H8.arc(g_,s1,Math.min(C9,8),0,("2" - 0) * Math.PI,!!0);H8.fillStyle="#398dff";H8.strokeStyle="#398dff";H8.fill();H8.stroke();H8.closePath();r5.tempCanvas.style.display=m0z;if(this.anyHighlighted){this.container.classList.remove("stx-draggable");}if(this.activeDrawing){this.startClip(N1.name);this.activeDrawing.move(H8,this.crosshairTick,this.activeDrawing.valueFromPixel(s1,N1,this.getYAxisByField(N1,this.activeDrawing.field)));this.endClip();}this.runAppend("magnetize",arguments);};a6.ChartEngine.prototype.changeVectorType=function(U$){var k8h=o1YMc;k8h.m_N();var U4,L7,s0;this.currentVectorParameters.vectorType=U$;this.currentVectorParameters.alwaysMagnetize=!!0;if(a6.Drawing){a6.Drawing.initializeSettings(this,U$);}if(a6.ChartEngine.drawingLine){this.undo();}U4=this.uiContext && this.uiContext.topNode.multiChartContainer?this.uiContext.topNode.closest("cq-context-wrapper.active"):!0;if(!this.container.classList.contains("stx-crosshair-cursor-on") && U$ && U4){var {chart:C_, left:h3, top:L$}=this;k8h.O$r(43);var C$1=k8h.v0q(1,30,17,9,3);L7=C_.width / C$1 + h3 + C_.left;k8h.g33(44);var v_P=k8h.v0q(15,7,0,6);s0=C_.height / v_P + L$ + C_.top;this.mousemoveinner(L7,s0);}this.doDisplayCrosshairs();};a6.ChartEngine.prototype.changeVectorParameter=function(q_,A2){var Y8L,c_h,H3,z0F,k6Z;Y8L="und";Y8L+="efined";c_h="fon";c_h+="tSiz";c_h+="e";if(q_ == "axisLabel"){A2=A2.toString() === "true" || Number(A2);}else if(q_ == "lineWidth"){A2=Number(A2);}else if(q_ == c_h){o1YMc.O$r(45);var Z7l=o1YMc.v0q(2,3,10,10,29);A2=parseInt(A2,Z7l) + "px";}H3=this.currentVectorParameters;if(typeof H3[q_] !== Y8L){H3[q_]=A2;return !0;}else if(q_.substr(0,4) == "font"){z0F="un";z0F+="defi";z0F+="n";z0F+="ed";k6Z="fam";k6Z+="ily";q_=q_.substr(4).toLowerCase();if(q_ == k6Z && A2.toLowerCase() == "default"){A2=null;}H3=H3.annotation.font;if(typeof H3[q_] !== z0F){H3[q_]=A2;return !!({});}}o1YMc.Z7I();return !({});};a6.ChartEngine.prototype.drawVectors=function(){var D3,k0,H1,X5,t8y,S1,b9,o7;if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!!({});if(!this.chart.hideDrawings && !this.highlightedDraggable){D3={};for(H1="0" * 1;H1 < this.drawingObjects.length;H1++){X5=this.drawingObjects[H1];if(X5.hidden)continue;if(this.repositioningDrawing === X5 && !this.editingDrawing)continue;k0=X5.panelName;if(!this.panels[X5.panelName] || this.panels[X5.panelName].hidden)continue;for(var o$ in this.panels){if(!D3[o$]){D3[o$]=[];}if(X5.spanPanels || o$ == k0){X5.originPanelName=X5.panelName;D3[o$].push(X5);}}}if(this.editingDrawing){t8y="bl";t8y+="o";t8y+="c";t8y+="k";S1=this.chart.tempCanvas;a6.clearCanvas(S1,this);S1.style.display=t8y;}for(k0 in D3){this.startClip(k0);b9=D3[k0];for(H1=0;H1 < b9.length;H1++){o7=b9[H1] === this.editingDrawing?this.chart.tempCanvas.context:this.chart.context;if(b9[H1].spanPanels){b9[H1].panelName=k0;b9[H1].render(o7);b9[H1].panelName=b9[H1].originPanelName;}else {b9[H1].render(o7);}}this.endClip();}}this.runAppend("drawVectors",arguments);};a6.ChartEngine.prototype.adjustDrawings=function(){var c1;o1YMc.m_N();for(var Z1=0;Z1 < this.drawingObjects.length;Z1++){c1=this.drawingObjects[Z1];if(this.panels[c1.panelName]){c1.adjust();}}};a6.Drawing=a6.Drawing || (function(){this.chartsOnly=![];this.penDown=![];});a6.Drawing.getDrawingParameters=function(Q9,S_){var O2,O1C,M7B,U_P,i7,F1,Y5;try{O1C=877786270;M7B=2032955908;U_P=2;for(var c86=1;o1YMc.u7W(c86.toString(),c86.toString().length,60478) !== O1C;c86++){O2=new a6.Drawing[S_]();U_P+=2;}if(o1YMc.D$s(U_P.toString(),U_P.toString().length,52974) !== M7B){O2=new a6.Drawing[S_]();}}catch(I7){}if(!O2){return null;}o1YMc.Z7I();O2.stx=Q9;O2.copyConfig(!!1);i7={};F1=O2.configs;for(var m5=0;m5 < F1.length;m5++){i7[F1[m5]]=O2[F1[m5]];}Y5=Q9.canvasStyle("stx_annotation");if(Y5 && i7.font){i7.font.size=Y5.fontSize;i7.font.family=Y5.fontFamily;i7.font.style=Y5.fontStyle;i7.font.weight=Y5.fontWeight;}return i7;};a6.Drawing.saveConfig=function(Y6,x4){var v7,z9;if(!x4){return;}v7=Y6.preferences;if(!v7.drawings){v7.drawings={};}v7.drawings[x4]={};z9=new a6.Drawing[x4]();z9.stx=Y6;a6.Drawing.copyConfig(z9);z9.configs.forEach(function(i_){o1YMc.Z7I();v7.drawings[x4][i_]=z9[i_];});Y6.changeOccurred("preferences");};a6.Drawing.restoreDefaultConfig=function(L9,x6,Q8){var h0f;h0f="pref";h0f+="e";o1YMc.Z7I();h0f+="re";h0f+="nces";if(Q8){L9.preferences.drawings=null;}else {L9.preferences.drawings[x6]=null;}L9.changeOccurred(h0f);L9.currentVectorParameters=a6.clone(a6.ChartEngine.currentVectorParameters);L9.currentVectorParameters.vectorType=x6;};a6.Drawing.initializeSettings=function(X_,u7){var k5,r0;k5=a6.Drawing[u7];if(k5){r0=new k5();if(r0.initializeSettings){r0.initializeSettings(X_);}}};a6.Drawing.updateSource=function(q3,E_,A6,r9){var N0,v3;if(!E_){return;}N0=!({});for(var I_ in q3.drawingObjects){v3=q3.drawingObjects[I_];if(!v3.field)continue;if(A6){if(v3.field == E_){v3.field=A6;N0=!"";}else if(v3.field.indexOf(E_) > -1 && v3.field.indexOf(E_ + "-") == -1){v3.field=v3.field.replace(E_,A6);N0=!![];}}else {if(v3.field.split("-->")[0] == E_ || v3.panelName == E_){v3.panelName=r9;N0=!![];}}}if(N0){q3.changeOccurred("vector");}};a6.Drawing.prototype.copyConfig=function(x3){a6.Drawing.copyConfig(this,x3);};a6.Drawing.copyConfig=function(Q0,u_){var X$,V9,H6,N7,h3f,T0,K9B,y_P,f2l;X$=Q0.stx.currentVectorParameters;V9=Q0.configs;o1YMc.Z7I();for(H6=0;H6 < V9.length;H6++){h3f="pa";h3f+="rame";h3f+="ters";N7=V9[H6];if(N7 == "color"){Q0.color=X$.currentColor;}else if(N7 == h3f){Q0.parameters=a6.clone(X$.fibonacci);}else if(N7 == "font"){Q0.font=a6.clone(X$.annotation.font);}else {Q0[N7]=X$[N7];}}if(!u_){return;}T0=Q0.stx.preferences;if(T0 && T0.drawings){a6.extend(Q0,T0.drawings[X$.vectorType]);for(H6=0;H6 < V9.length;H6++){K9B="f";K9B+="ont";y_P="p";y_P+="arameter";y_P+="s";f2l="col";f2l+="or";N7=V9[H6];if(N7 == f2l){X$.currentColor=Q0.color;}else if(N7 == y_P){X$.fibonacci=a6.clone(Q0.parameters);}else if(N7 == K9B){X$.annotation.font=a6.clone(Q0.font);}else {X$[N7]=Q0[N7];}}}};a6.Drawing.prototype.dragToDraw=!1;a6.Drawing.prototype.permanent=![];a6.Drawing.prototype.chartsOnly=!!"";a6.Drawing.prototype.abort=function(u3){};a6.Drawing.prototype.measure=function(){};a6.Drawing.prototype.construct=function(n8,t5){this.stx=n8;o1YMc.m_N();this.panelName=t5.name;};a6.Drawing.prototype.isAllowed=function(C$,o3){return !![];};a6.Drawing.prototype.render=function(M4){console.warn("must implement render function!");};a6.Drawing.prototype.click=function(x5,T4,Z3){console.warn("must implement click function!");};a6.Drawing.prototype.move=function(q4,W7,t_){var o3c;o3c="must implement move ";o3c+="func";o3c+="tio";o3c+="n!";o1YMc.Z7I();console.warn(o3c);};a6.Drawing.prototype.reposition=function(A$,t8,R2,J1){};a6.Drawing.prototype.intersected=function(j7,I5,P7){console.warn("must implement intersected function!");};a6.Drawing.prototype.reconstruct=function(Y4,p_){o1YMc.Z7I();console.warn("must implement reconstruct function!");};a6.Drawing.prototype.serialize=function(){o1YMc.m_N();console.warn("must implement serialize function!");};a6.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!");};a6.Drawing.prototype.highlight=function(u1){if(u1 && !this.highlighted){this.highlighted=u1;}else if(!u1 && this.highlighted){this.highlighted=u1;}o1YMc.Z7I();return this.highlighted;};a6.Drawing.prototype.littleCircleRadius=function(){o1YMc.m_N();var D6;D6=6;return D6;};a6.Drawing.prototype.littleCircle=function(j0,T$,p8,o6){var y$,f9;if(this.permanent){return;}y$=this.stx.defaultColor;f9=a6.chooseForegroundColor(y$);j0.beginPath();o1YMc.O$r(1);j0.lineWidth=o1YMc.v0q(0,"1");j0.arc(T$,p8,this.littleCircleRadius(),0,2 * Math.PI,!!"");if(o6){j0.fillStyle=y$;}else {j0.fillStyle=f9;}j0.strokeStyle=y$;j0.setLineDash([]);j0.fill();o1YMc.m_N();j0.stroke();j0.closePath();};a6.Drawing.prototype.rotator=function(C3,Z8,Q3,w0){var t7T=o1YMc;var c2,c$,f1;if(this.permanent){return;}c2=this.littleCircleRadius();c$=this.stx.defaultColor;C3.beginPath();C3.lineWidth=2;if(!w0){C3.globalAlpha=0.5;}t7T.g33(0);f1=t7T.v0q(4,c2);C3.arc(Z8,Q3,f1,0,("3" | 3) * Math.PI / 2,!!0);t7T.O$r(17);C3.moveTo(t7T.b63(f1,2,Z8),t7T.v0q(Q3,2,t7T.O$r(0)));t7T.g33(0);C3.lineTo(t7T.b63(Z8,f1),Q3);t7T.g33(21);C3.lineTo(t7T.v0q(Z8,f1,2),t7T.v0q(Q3,2,t7T.O$r(0)));t7T.g33(2);C3.moveTo(t7T.v0q(Z8,2),t7T.v0q(2,f1,Q3,t7T.g33(27)));t7T.O$r(2);C3.lineTo(Z8,t7T.b63(Q3,f1));t7T.g33(2);C3.lineTo(t7T.v0q(Z8,2),t7T.b63(Q3,2,f1,t7T.O$r(14)));C3.strokeStyle=c$;C3.stroke();C3.closePath();C3.globalAlpha=1;};a6.Drawing.prototype.mover=function(S2,l94,t8g,E2i){var j60=o1YMc;var f_J,G5J,j3u,m1;if(this.permanent){return;}f_J=this.littleCircleRadius();G5J=this.stx.defaultColor;j3u=5;j60.O$r(0);m1=j60.v0q(f_J,1);S2.save();S2.lineWidth=2;S2.strokeStyle=G5J;S2.translate(l94,t8g);if(!E2i){S2.globalAlpha=0.5;}for(var C8T=+"0";C8T < 4;C8T++){S2.rotate(Math.PI / 2);S2.beginPath();S2.moveTo(+"0",m1);j60.g33(0);S2.lineTo(0,j60.v0q(m1,j3u));j60.g33(27);S2.moveTo(-2,j60.b63(j3u,2,m1));j60.g33(0);S2.lineTo(0,j60.b63(m1,j3u));j60.O$r(27);S2.lineTo(2,j60.b63(j3u,2,m1));S2.closePath();S2.stroke();}S2.globalAlpha=+"1";S2.restore();};a6.Drawing.prototype.resizer=function(K8t,h4X,J41,C72){var X1Y=o1YMc;var r$r,I8g,o9w,o8_;if(this.permanent){return;}r$r=this.littleCircleRadius();X1Y.m_N();I8g=this.stx.defaultColor;X1Y.O$r(16);var v_N=X1Y.b63(19,14);X1Y.g33(12);var y59=X1Y.v0q(22,5,2,37);o9w=v_N * Math.sqrt(y59);X1Y.O$r(0);o8_=X1Y.v0q(r$r,1);K8t.save();K8t.lineWidth=2;K8t.strokeStyle=I8g;K8t.translate(h4X,J41);K8t.rotate(-(h4X * J41) / Math.abs(h4X * J41) * Math.PI / +"4");if(!C72){X1Y.O$r(3);K8t.globalAlpha=X1Y.b63("0.5",1);}for(var s$v=0;s$v < 2;s$v++){K8t.rotate(Math.PI);K8t.beginPath();K8t.moveTo(0,o8_);X1Y.g33(0);K8t.lineTo(+"0",X1Y.v0q(o8_,o9w));X1Y.O$r(27);K8t.moveTo(-2,X1Y.v0q(o9w,2,o8_));X1Y.g33(46);K8t.lineTo(X1Y.b63(64,"0"),X1Y.b63(o8_,o9w,X1Y.g33(0)));X1Y.O$r(27);K8t.lineTo(2,X1Y.b63(o9w,2,o8_));K8t.closePath();K8t.stroke();}K8t.globalAlpha=1;K8t.restore();};a6.Drawing.prototype.pointIntersection=function(q09,d2Y,b06,q1r){var L4Y,X6M;L4Y=this.stx;X6M=L4Y.panels[this.panelName];if(!X6M){return !({});}if(this.field && !q1r){d2Y=this.pixelFromValue(X6M,q09,d2Y,L4Y.getYAxisByField(X6M,this.field));q09=L4Y.pixelFromTick(q09,X6M.chart);q1r=!!"1";}if(q1r){if(q09 >= b06.cx0 && q09 <= b06.cx1 && d2Y >= b06.cy0 && d2Y <= b06.cy1){return !!({});}}else {if(q09 >= b06.x0 && q09 <= b06.x1 && d2Y >= Math.min(b06.y0,b06.y1) && d2Y <= Math.max(b06.y0,b06.y1)){return !![];}}return !1;};a6.Drawing.prototype.setPoint=function(h9f,y4r,e_m,E1q){var T6n=o1YMc;var T2H,l$w,I1o,N__,P1c,P8W,h0z,F8u,N$i,i9S;T2H="nu";T2H+="mb";T2H+="e";T2H+="r";var {stx:z88}=this;var {maxTicks:u63 = 100, dataSet:S8W = []}=E1q || z88.chart || ({});l$w=-u63;I1o=S8W.length - +"1" + u63;N__=null;P1c=null;if(typeof y4r == T2H){N__=y4r;}else if(y4r.length >= +"8"){P1c=y4r;}else {N__=Number(y4r);}if(e_m || e_m === 0){T6n.O$r(0);this[T6n.b63("v",h9f)]=e_m;}if(N__ !== null){N__=Math.max(N__,l$w);N__=Math.min(N__,I1o);P8W=z88.dateFromTick(N__,E1q,!!({}));T6n.O$r(0);this[T6n.v0q("tzo",h9f)]=P8W.getTimezoneOffset();T6n.O$r(0);this[T6n.v0q("d",h9f)]=a6.yyyymmddhhmmssmmm(P8W);T6n.O$r(0);this[T6n.v0q((8784,+"981.84") >= (91,1309)?459 < (1612,7227)?(8635,4620) > 7080?!({}):(!({}),"959.72" * 1):(0xc88,608.09):"p",h9f)]=[N__,e_m];}else if(P1c !== null){h0z="f";h0z+="ree";h0z+="form";F8u=a6.strToDateTime(P1c);if(!this["tzo" + h9f] && this["tzo" + h9f] !== 0){T6n.g33(0);this[T6n.b63("tzo",h9f)]=F8u.getTimezoneOffset();}T6n.g33(0);this[T6n.b63("d",h9f)]=P1c;N$i=this["tzo" + h9f] - F8u.getTimezoneOffset();F8u.setMinutes(F8u.getMinutes() + N$i);i9S=!!"";if(this.name != h0z && !a6.ChartEngine.isDailyInterval(z88.layout.interval) && !F8u.getHours() && !F8u.getMinutes() && !F8u.getSeconds() && !F8u.getMilliseconds()){i9S=!!"1";}T6n.O$r(0);this[T6n.v0q(6791 >= 8730?0x2169:"p",h9f)]=[z88.tickFromDate(a6.yyyymmddhhmmssmmm(F8u),E1q,null,i9S),e_m];}};a6.Drawing.prototype.getLineColor=function(I$W,h7s){var F2w=o1YMc;var r46,Q$j,C6T,L9U,z_E,s3W,c8W,R7x,D$6,A0O,y7C,d_A,f5K,U3H;r46="aut";r46+="o";if(!I$W){I$W=this.color;}Q$j=this.stx;C6T=I$W;F2w.Z7I();if(!h7s && this.highlighted && this.stx.editingDrawing !== this){C6T=Q$j.getCanvasColor("stx_highlight_vector");}else if(C6T == "auto"){C6T=Q$j.defaultColor;if(this.field){for(L9U in Q$j.layout.studies){z_E=Q$j.layout.studies[L9U];s3W=z_E.outputs[z_E.outputMap[this.field]];if(s3W){C6T=s3W.color || s3W;break;}}for(L9U in Q$j.chart.seriesRenderers){R7x=Q$j.chart.seriesRenderers[L9U];for(var x_n=0;x_n < R7x.seriesParams.length;x_n++){D$6="--";D$6+=">";A0O=R7x.seriesParams[x_n];y7C=A0O.field;if(!y7C && !R7x.highLowBars){y7C=this.defaultPlotField || "Close";}if(A0O.symbol && A0O.subField){y7C+="-->" + A0O.subField;}if(this.field == y7C){C6T=A0O.color;break;}if(A0O.field && A0O.field == this.field.split(D$6)[+"0"]){c8W=A0O.color;}}}d_A=-+"997266240";f5K=-1889928239;U3H=2;for(var V75=+"1";F2w.D$s(V75.toString(),V75.toString().length,12525) !== d_A;V75++){if(c8W){C6T=c8W;}F2w.g33(3);U3H+=F2w.v0q("2",1);}if(F2w.D$s(U3H.toString(),U3H.toString().length,31266) !== f5K){if(c8W){C6T=c8W;}}}}if(C6T == r46){C6T=Q$j.defaultColor;}return C6T;};a6.Drawing.prototype.valueFromPixel=function(N9o,I0n,j6W){var r0y,c2u,I0h;r0y=I0n.chart.untransformFunc;c2u=this.field;if(r0y && I0n.chart.series[c2u]){I0n.chart.untransformFunc=(N9T,M7p,V9G,e2z)=>{return r0y(N9T,M7p,V9G,e2z,c2u);};}I0h=this.stx.valueFromPixel(N9o,I0n,j6W);I0n.chart.untransformFunc=r0y;return I0h;};a6.Drawing.prototype.pixelFromValue=function(J5F,y_N,o1j,c1Q){var S0c,W9D,I4d;S0c=J5F.chart.transformFunc;W9D=this.field;if(S0c && J5F.chart.series[W9D]){J5F.chart.transformFunc=(w8k,H_E,I_a,j5W)=>{return S0c(w8k,H_E,I_a,j5W,W9D);};}I4d=this.stx.pixelFromValueAdjusted(J5F,y_N,o1j,c1Q);J5F.chart.transformFunc=S0c;return I4d;};a6.Drawing.prototype.boxToPixels=function(A2I,e7_,h1l,C$x){var f$T,d4G,h2d,e6A;f$T=A2I.panels[e7_];d4G=f$T.chart.transformFunc;h2d=this.field;if(d4G && f$T.chart.series[h2d]){f$T.chart.transformFunc=(S7p,s2g,P_t,Z_l)=>{return d4G(S7p,s2g,P_t,Z_l,h2d);};}e6A=a6.convertBoxToPixels(A2I,e7_,h1l,C$x);f$T.chart.transformFunc=d4G;return e6A;};a6.Drawing.BaseTwoPoint=function(){this.p0=null;this.p1=null;this.color="";};a6.inheritsFrom(a6.Drawing.BaseTwoPoint,a6.Drawing);a6.Drawing.BaseTwoPoint.prototype.configs=[];a6.Drawing.BaseTwoPoint.prototype.lineIntersection=function(W7x,O6z,y_a,C_C,V9Z,j0P,h9k){var H6v,Q6Y;if(!V9Z){V9Z=this.p0;}if(!j0P){j0P=this.p1;}H6v=this.stx;if(!(V9Z && j0P)){return !!"";}if(y_a.cx0 === undefined){return !1;}Q6Y={x0:V9Z["0" - 0],x1:j0P[0],y0:V9Z[+"1"],y1:j0P["1" - 0]};if(!h9k){Q6Y=this.boxToPixels(H6v,this.panelName,Q6Y,H6v.getYAxisByField(H6v.panels[this.panelName],this.field));}return a6.boxIntersects(y_a.cx0,y_a.cy0,y_a.cx1,y_a.cy1,Q6Y.x0,Q6Y.y0,Q6Y.x1,Q6Y.y1,C_C);};a6.Drawing.BaseTwoPoint.prototype.boxIntersection=function(G2g,w0$,a4o){var P42,A9H;if(!this.p0 || !this.p1){return ![];}var {x0:N8b, x1:A$_, y0:P7h, y1:V66, cy0:s8_, cy1:b6l}=a4o;if(N8b > Math.max(this.p0[0],this.p1["0" << 32]) || A$_ < Math.min(this.p0[0],this.p1[0])){return ![];}var {field:p0q, panelName:J4B, stx:m_Q}=this;if(p0q){P42=m_Q.panels[J4B];A9H=m_Q.getYAxisByField(P42,p0q);P7h=this.valueFromPixel(s8_,P42,A9H);V66=this.valueFromPixel(b6l,P42,A9H);}o1YMc.m_N();if(V66 > Math.max(this.p0[1],this.p1["1" | 0]) || P7h < Math.min(this.p0[1],this.p1[1])){return ![];}return !!"1";};a6.Drawing.BaseTwoPoint.prototype.accidentalClick=function(v72,L3C){var B7z=o1YMc;var T6R,Z9m,w4o,o3r,U3t,N$y,r$_,h_S,F3h,h27;T6R=this.stx;Z9m=T6R.panels[this.panelName];w4o=T6R.pixelFromTick(this.p0[0],Z9m.chart);o3r=T6R.pixelFromTick(v72,Z9m.chart);U3t=T6R.getYAxisByField(Z9m,this.field);N$y=this.pixelFromValue(Z9m,this.p0[0],this.p0[1],U3t);r$_=this.pixelFromValue(Z9m,v72,L3C,U3t);B7z.O$r(2);h_S=Math.abs(B7z.b63(o3r,w4o));B7z.O$r(2);F3h=Math.abs(B7z.b63(r$_,N$y));B7z.g33(47);h27=Math.sqrt(B7z.v0q(F3h,F3h,h_S,h_S));if(h27 < 10){this.penDown=!!"";T6R.undo();return !!"1";}};a6.Drawing.BaseTwoPoint.prototype.click=function(Z1Z,o9r,R6F){var Z1x,p6O;this.copyConfig();Z1x=this.stx;p6O=Z1x.panels[this.panelName];if(!this.penDown){this.setPoint(0,o9r,R6F,p6O.chart);this.penDown=!!({});return ![];}if(this.accidentalClick(o9r,R6F)){return !![];}o1YMc.m_N();this.setPoint(1,o9r,R6F,p6O.chart);this.penDown=![];return !![];};a6.Drawing.BaseTwoPoint.prototype.adjust=function(){o1YMc.m_N();var s_n;s_n=this.stx.panels[this.panelName];if(!s_n){return;}this.setPoint(0,this.d0,this.v0,s_n.chart);this.setPoint(1,this.d1,this.v1,s_n.chart);};a6.Drawing.BaseTwoPoint.prototype.move=function(Y81,z3X,Q3Q){if(!this.penDown){this.moving=![];return;}this.moving=!!({});this.copyConfig();o1YMc.Z7I();this.p1=[z3X,Q3Q];this.render(Y81);};a6.Drawing.BaseTwoPoint.prototype.measure=function(){var N4h,S0D,Y$6,U4j,Y7a,Q0K,G_7;N4h=-526814578;S0D=-305770489;Y$6=2;for(var E2J=1;o1YMc.D$s(E2J.toString(),E2J.toString().length,"55667" * 1) !== N4h;E2J++){U4j=this.stx;Y$6+=2;}if(o1YMc.u7W(Y$6.toString(),Y$6.toString().length,31944) !== S0D){U4j=this.stx;}if(this.p0 && this.p1){U4j.setMeasure(this.p0[1],this.p1[1],this.p0[+"0"],this.p1[0],!0,this.name);Y7a=U4j.controls.mSticky;Q0K=Y7a && Y7a.querySelector(".mStickyInterior");if(Q0K){G_7=[];G_7.push(U4j.translateIf(a6.capitalize(this.name)));if(this.getYValue){G_7.push(U4j.translateIf(this.field || U4j.defaultPlotField || "Close"));}G_7.push(Q0K.innerHTML);Q0K.innerHTML=G_7.join("<br>");}}};a6.Drawing.BaseTwoPoint.prototype.reposition=function(x48,G0$,x2j,Y0c){var M2P,M99,N89;if(!G0$){return;}o1YMc.m_N();M2P=this.stx.panels[this.panelName];M99=G0$.tick - x2j;N89=G0$.value - Y0c;if(G0$.action == "move"){this.setPoint(0,G0$.p0[0] - M99,G0$.p0[1] - N89,M2P.chart);this.setPoint(1,G0$.p1[0] - M99,G0$.p1[1] - N89,M2P.chart);this.render(x48);}else if(G0$.action == "drag"){this[G0$.point]=[x2j,Y0c];this.setPoint(0,this.p0[0],this.p0[1],M2P.chart);this.setPoint(1,this.p1[0],this.p1["1" << 64],M2P.chart);this.render(x48);}};a6.Drawing.BaseTwoPoint.prototype.drawDropZone=function(y6c,Z7Y,o2k,h5W,Y6j){var i6d,D2r,C3o,u78,s49,S$d,E8T,f7v;i6d="#00";i6d+="8";i6d+="0";i6d+="00";D2r=this.stx.panels[this.panelName];if(!D2r){return;}C3o=this.stx;u78=D2r.left;s49=D2r.width;if(h5W || h5W === 0){u78=C3o.pixelFromTick(h5W,D2r.chart);}if(Y6j || Y6j === 0){s49=C3o.pixelFromTick(Y6j,D2r.chart);}S$d=C3o.getYAxisByField(D2r,this.field);E8T=this.pixelFromValue(D2r,h5W,Z7Y,S$d);f7v=this.pixelFromValue(D2r,Y6j,o2k,S$d);y6c.fillStyle=i6d;y6c.globalAlpha=0.2;o1YMc.O$r(2);y6c.fillRect(u78,E8T,o1YMc.v0q(s49,u78),o1YMc.v0q(f7v,E8T));y6c.globalAlpha=1;};a6.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(w$0,e6C){var V2r;var {stx:P8t, panelName:k1c, field:D9a}=this;V2r=P8t.panels[k1c];o1YMc.m_N();return this.valueFromPixel(P8t.pixelFromValueAdjusted(P8t.currentPanel,w$0,e6C),V2r,P8t.getYAxisByField(V2r,D9a));};a6.Drawing.annotation=function(){this.name="annotation";this.arr=[];o1YMc.m_N();this.w=0;this.h=0;this.padding=5;this.text="";this.ta=null;this.border=!"";this.fontSize=0;this.font={};this.defaultWidth=25;this.whitespace=30;this.fontModifier=3;};a6.inheritsFrom(a6.Drawing.annotation,a6.Drawing.BaseTwoPoint);a6.Drawing.annotation.prototype.getFontString=function(){var j2m,F81,N2c;j2m="1";o1YMc.Z7I();j2m+="2";j2m+="px";this.fontDef={style:null,weight:null,size:j2m,family:null};F81=this.stx.canvasStyle("stx_annotation");if(F81){if(F81.fontStyle){this.fontDef.style=F81.fontStyle;}if(F81.fontWeight){this.fontDef.weight=F81.fontWeight;}if(F81.fontSize){this.fontDef.size=F81.fontSize;}if(F81.fontFamily){this.fontDef.family=F81.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";N2c=!!1;for(var y9U in this.fontDef){if(this.fontDef[y9U]){if(!N2c){this.fontString+=" ";}else {N2c=!"1";}this.fontString+=this.fontDef[y9U];}}};a6.Drawing.annotation.prototype.configs=[v3d,"font"];a6.Drawing.annotation.prototype.measure=function(){};a6.Drawing.annotation.prototype.render=function(u1j){var k1s=o1YMc;var c03,E_7,j4h,l3o,P0n,h$s,J6G,R4G,T4g,T4l,M0r,L_d,y8R,j2O,s51,A5a,X0$;if(this.ta){return;}c03=this.stx;E_7=c03.panels[this.panelName];j4h=c03.getYAxisByField(E_7,this.field);if(!E_7 || this.field && !j4h){return;}l3o=c03.pixelFromTick(this.p0[0],E_7.chart);P0n=this.pixelFromValue(E_7,this.p0[0],this.p0[+"1"],j4h);u1j.font=this.fontString;u1j.textBaseline="middle";h$s=l3o;J6G=P0n;R4G=this.w;T4g=this.h;T4l=this.getLineColor();if(this.stem){if(this.stem.d){M0r=c03.pixelFromTick(this.stem.t);y8R=this.pixelFromValue(E_7,this.stem.t,this.stem.v,j4h);k1s.O$r(48);L_d=k1s.b63(R4G,2,h$s);k1s.g33(48);j2O=k1s.v0q(T4g,2,J6G);}else if(this.stem.x){M0r=h$s;y8R=J6G;h$s+=this.stem.x;J6G+=this.stem.y;k1s.O$r(48);L_d=k1s.v0q(R4G,2,h$s);k1s.g33(48);j2O=k1s.b63(T4g,2,J6G);}u1j.beginPath();if(this.borderColor){u1j.strokeStyle=this.borderColor;}else {u1j.strokeStyle=T4l;}u1j.moveTo(M0r,y8R);u1j.lineTo(L_d,j2O);u1j.stroke();}s51=u1j.lineWidth;if(this.highlighted){c03.canvasColor("stx_annotation_highlight_bg",u1j);k1s.g33(2);u1j.fillRect(k1s.v0q(h$s,s51),k1s.v0q(1,J6G,"2",s51,T4g,k1s.g33(49)),k1s.v0q(R4G,s51,2,k1s.g33(50)),k1s.b63(T4g,s51,2,k1s.O$r(50)));}else {if(this.fillColor){u1j.fillStyle=this.getLineColor(this.fillColor,!!"1");k1s.g33(51);u1j.fillRect(h$s,k1s.b63(J6G,2,T4g),R4G,T4g);}else if(this.stem){u1j.fillStyle=c03.containerColor;k1s.g33(52);u1j.fillRect(h$s,k1s.v0q("2",T4g,J6G),R4G,T4g);}}if(this.borderColor){A5a="stx_hi";A5a+="ghlight_vector";u1j.beginPath();u1j.strokeStyle=this.highlighted?c03.getCanvasColor(A5a):this.borderColor;k1s.g33(2);u1j.rect(k1s.v0q(h$s,s51),k1s.v0q(2,s51,T4g,J6G,k1s.g33(53)),k1s.v0q(R4G,s51,2,k1s.g33(50)),k1s.b63(T4g,s51,2,k1s.g33(50)));u1j.stroke();}if(this.highlighted){X0$="stx_annotat";X0$+="ion";X0$+="_hig";X0$+="hlight";c03.canvasColor(X0$,u1j);}else {u1j.fillStyle=T4l;}k1s.O$r(54);var x2h=k1s.b63(12,68,15,18,3);J6G+=this.padding / x2h;if(!this.ta){for(var s9I=0;s9I < this.arr.length;s9I++){u1j.fillText(this.arr[s9I],h$s + this.padding,J6G - T4g / 2 + this.fontSize / 2);k1s.g33(55);var e6V=k1s.b63(448,15,30);J6G+=this.fontSize + e6V;}}u1j.textBaseline="alphabetic";};a6.Drawing.annotation.prototype.onChange=function(M9k){};a6.Drawing.annotation.prototype.edit=function(O6k,r7O){var r3J=o1YMc;var C9E,B$M,Z7r,P04,Y3h,g0_,M4U,N8L,z3F,t4g,u3D,A8t,c4f,O9x,m95,c_I,F9Z,o7v,d6E,i8n,C$k,M$V,f4c,B9V,v32;C9E="p";C9E+="x";B$M="p";function D3c(h$j){r3J.m_N();return function(G5W){h$j.stx.undo();};}B$M+="x";function d_d(B7K){r3J.Z7I();return function(o1P){if(B7K.manageTouchAndMouse && a6.ChartEngine.drawingLine){B7K.mouseup(o1P);}};}Z7r="a";function a7x(c3X){return function(r8N){var Z3g,f7W,U1m,J6S,s4b,C3W,D29,o0Z,q5T,G1r,b4d,o2N,g$O,Q0B;if(r8N){Z3g=r8N.keyCode;switch(Z3g){case "27" ^ 0:c3X.stx.undo();return;}}f7W=c3X.stx;U1m=c3X.ta;J6S=U1m.value.split(649.46 !== 9800?"\n":(!!"1",2.06e+3));s4b=0;f7W.chart.context.font=c3X.fontString;c3X.fontSize=a6.stripPX(c3X.fontDef.size);for(var p$Z=0;p$Z < J6S.length;p$Z++){C3W=f7W.chart.context.measureText(J6S[p$Z]).width;if(C3W > s4b){s4b=C3W;}}r3J.g33(15);var f3y=r3J.b63(33,20,14,1,0);D29=(J6S.length + f3y) * (c3X.fontSize + c3X.fontModifier);if(a6.touchDevice){r3J.g33(1);D29+=r3J.b63(1,"5");}s4b=Math.max(s4b,c3X.defaultWidth * 2);U1m.style.width=s4b + c3X.whitespace + "px";r3J.O$r(0);U1m.style.height=r3J.b63(D29,"px");o0Z=parseInt(a6.stripPX(U1m.style.top),10);r3J.O$r(2);q5T=Math.max(r3J.b63("0",0),a6.stripPX(U1m.style.left));s4b=U1m.clientWidth;D29=U1m.clientHeight;U1m.focus();if(c3X.border === ![]){U1m.style.border="none";}r3J.Z7I();if(q5T + s4b + 100 < c3X.stx.chart.canvasWidth){G1r="inl";G1r+="i";G1r+="ne-block";r3J.O$r(0);Y3h.style.top=r3J.v0q(o0Z,"px");r3J.O$r(0);g0_.style.top=r3J.v0q(o0Z,"px");r3J.O$r(56);Y3h.style.left=r3J.b63("10",q5T,s4b,"px");Y3h.style.display="inline-block";r3J.O$r(2);var l7L=r3J.v0q(60,55);g0_.style.left=q5T + s4b + Y3h.clientWidth + l7L + "px";g0_.style.display=G1r;}else if(o0Z + D29 + 30 < c3X.stx.chart.canvasHeight){b4d="p";b4d+="x";r3J.O$r(57);Y3h.style.top=r3J.b63(D29,"px",10,o0Z);r3J.O$r(57);g0_.style.top=r3J.v0q(D29,"px",10,o0Z);r3J.g33(0);Y3h.style.left=r3J.v0q(q5T,"px");Y3h.style.display="inline-block";r3J.g33(2);var Z_5=r3J.b63(75,70);g0_.style.left=q5T + Y3h.clientWidth - Z_5 + b4d;g0_.style.display="inline-block";}else {o2N="inlin";o2N+="e-block";g$O="p";g$O+="x";Q0B="in";Q0B+="lin";Q0B+="e-block";r3J.O$r(21);Y3h.style.top=r3J.b63(o0Z,"px",35);r3J.O$r(21);g0_.style.top=r3J.v0q(o0Z,"px",35);r3J.O$r(0);Y3h.style.left=r3J.v0q(q5T,"px");Y3h.style.display=Q0B;r3J.g33(34);var i$$=r3J.b63(1,3,15,3,10);g0_.style.left=q5T + Y3h.clientWidth - i$$ + g$O;g0_.style.display=o2N;}};}Z7r+="nnot";Z7r+="a";Z7r+="tion";P04=this.stx.panels[this.panelName];if(!P04){return;}Y3h=this.stx.controls.annotationSave;g0_=this.stx.controls.annotationCancel;if(!Y3h || !g0_){return;}M4U=this.stx;N8L=this.ta;M4U.editingAnnotation=!!({});M4U.undisplayCrosshairs();if(!M4U.openDialog){M4U.openDialog=[];}if(!M4U.openDialog.includes("annotation")){M4U.openDialog.push(Z7r);}if(!N8L){z3F="En";z3F+="ter Tex";z3F+="t";t4g="placeh";t4g+="older";u3D="s";u3D+="tx_annotation";A8t="TEX";A8t+="T";A8t+="AREA";N8L=this.ta=document.createElement(A8t);N8L.className=u3D;N8L.onkeyup=a7x(this);N8L.onmouseup=d_d(M4U);N8L.setAttribute("wrap","hard");if(a6.isIOS7or8){N8L.setAttribute(t4g,z3F);}M4U.chart.container.appendChild(N8L);N8L.style.position="absolute";N8L.style.paddingLeft=this.padding + "px";N8L.value=this.text;if(a6.touchDevice){N8L.ontouchstart=function(l69){r3J.Z7I();l69.stopPropagation();};}}c4f=this;N8L.oninput=function(f87){var m4T;m4T="his";m4T+="to";m4T+="ryRedo";f87.target.value=M4U.emojify(f87.target.value);if(f87.inputType != "historyUndo" && f87.inputType != m4T){c4f.onChange(f87);}};N8L.style.font=this.fontString;function S6t(J_E){M4U.startClip(P04.name);c4f.render(J_E);M4U.endClip();}if(this.color){if(this.color == "transparent" || this.color == "auto"){O9x=getComputedStyle(N8L);if(O9x && a6.isTransparent(O9x.backgroundColor)){N8L.style.color=this.getLineColor();}else {N8L.style.color="#000";}}else {N8L.style.color=this.color;}}m95=M4U.pixelFromTick(this.p0[0],P04.chart);c_I=this.pixelFromValue(P04,this.p0[0],this.p0[1],M4U.getYAxisByField(P04,this.field));N8L.style.left=m95 + 140 < M4U.chart.canvasRight?m95 + B$M:M4U.chart.canvasRight - 200 + C9E;N8L.style.top=c_I + 60 < M4U.chart.canvasHeight?c_I - (!isNaN(this.h)?this.h / 2:this.defaultHeight) + "px":c_I - 60 + "px";if(this.repositionTextArea){this.repositionTextArea(N8L);}if(r7O){this.w=N8L.clientWidth;this.h=N8L.clientHeight;}F9Z=a6.stripPX(N8L.style.left);r3J.O$r(0);var s1A=r3J.b63(0,5);N8L.style.maxWidth=Math.min(F9Z + this.w,M4U.chart.right) - F9Z - s1A + "px";if(N8L !== Y3h.ta){a6.safeClickTouch(Y3h,I6O(this));Y3h.ta=N8L;}if(N8L !== g0_.ta){a6.safeClickTouch(g0_,D3c(this));g0_.ta=N8L;}a7x(this)();function I6O(A9Q){r3J.Z7I();return function(Q1$){var C3F;if(!A9Q.ta || !A9Q.ta.value){return;}A9Q.text=A9Q.ta.value;C3F=A9Q.stx;C3F.editingAnnotation=!1;A9Q.adjust();if(C3F.drawingSnapshot){C3F.undoStamp(a6.shallowClone(C3F.drawingSnapshot),C3F.exportDrawings());}else {a6.ChartEngine.completeDrawing(C3F);C3F.addDrawing(A9Q);}C3F.undo();C3F.changeOccurred("vector");};}O6k=M4U.chart.tempCanvas.context;a6.clearCanvas(O6k.canvas,M4U);O6k.canvas.style.display="block";if(r7O){M4U.drawingSnapshot=M4U.exportDrawings();this.hidden=!!({});M4U.draw();M4U.activeDrawing=this;a6.ChartEngine.drawingLine=!!({});this.highlighted=!"1";S6t(O6k);this.edit(O6k);}else {S6t(O6k);}if(a6.isAndroid && !a6.is_chrome && !a6.isFF){this.priorBottom=M4U.container.style.bottom;o7v=400;r3J.O$r(58);var W4f=r3J.b63(6,2000,1894,1);d6E=M4U.resolveY(c_I) + W4f;i8n=-109613302;C$k=-443458720;M$V=2;for(var x$F=1;r3J.u7W(x$F.toString(),x$F.toString().length,+"26546") !== i8n;x$F++){f4c=M4U.container.ownerDocument.defaultView;M$V+=+"2";}if(r3J.D$s(M$V.toString(),M$V.toString().length,+"49172") !== C$k){f4c=M4U.container.ownerDocument.defaultView;}if(d6E > a6.pageHeight(f4c) - o7v){B9V=a6.pageHeight(f4c) - d6E;r3J.O$r(2);v32=r3J.v0q(o7v,B9V);r3J.g33(0);M4U.chart.container.style.bottom=r3J.v0q(v32,"px");}}};a6.Drawing.annotation.prototype.click=function(h3w,z3v,x6b){var d$j;if(this.stx.overXAxis || this.stx.overYAxis){return;}d$j=this.stx.panels[this.panelName];this.copyConfig();o1YMc.g33(3);this.setPoint(o1YMc.v0q("0",1),z3v,x6b,d$j.chart);this.adjust();this.edit(h3w);return !1;};a6.Drawing.annotation.prototype.reposition=function(M5s,f1i,E05,E_o){var Y_P,p$v,U46;o1YMc.Z7I();if(!f1i){return;}Y_P=this.stx.panels[this.panelName];p$v=f1i.tick - E05;U46=f1i.value - E_o;this.setPoint(0,f1i.p0[0] - p$v,f1i.p0[+"1"] - U46,Y_P.chart);this.render(M5s);};a6.Drawing.annotation.prototype.intersected=function(X86,Z$S,y_r){var s_A=o1YMc;var q3h,P_T,g89,f59,V8C,Y5O,y9l,J3C,L9b;q3h=this.stx;P_T=q3h.panels[this.panelName];if(!this.p0){return null;}g89=q3h.pixelFromTick(this.p0[0],P_T.chart);f59=q3h.getYAxisByField(P_T,this.field);s_A.g33(21);var S$a=s_A.v0q(0,20,19);s_A.O$r(59);var F9U=s_A.b63(8,58,2,10);V8C=this.pixelFromValue(P_T,this.p0[0],this.p0[S$a],f59) - this.h / F9U;Y5O=g89 + this.w;y9l=V8C + this.h;if(this.stem && this.stem.x){g89+=this.stem.x;Y5O+=this.stem.x;V8C+=this.stem.y;y9l+=this.stem.y;}J3C=q3h.pixelFromTick(X86,P_T.chart);L9b=q3h.pixelFromValueAdjusted(P_T,X86,Z$S);if(J3C + y_r.r >= g89 && J3C - y_r.r <= Y5O && L9b + y_r.r >= V8C && L9b - y_r.r <= y9l){this.highlighted=!![];return {p0:a6.clone(this.p0),tick:X86,value:this.valueOnDrawingAxis(X86,Z$S)};}return !({});};a6.Drawing.annotation.prototype.abort=function(){var n7A,Z2d,M77,t5z;o1YMc.m_N();n7A="non";n7A+="e";Z2d=this.stx;M77=Z2d.controls.annotationSave;t5z=Z2d.controls.annotationCancel;if(M77){M77.style.display=n7A;}if(t5z){t5z.style.display="none";}if(this.ta){Z2d.chart.container.removeChild(this.ta);}this.ta=null;if(Z2d.openDialog){Z2d.openDialog=Z2d.openDialog.filter(i_a=>{o1YMc.O$r(60);return o1YMc.v0q(i_a,"annotation");});}if(!Z2d.openDialog.length){Z2d.openDialog="";}Z2d.showCrosshairs();Z2d.editingAnnotation=!!0;a6.clearCanvas(Z2d.chart.tempCanvas,Z2d);if(a6.isAndroid && !a6.is_chrome && !a6.isFF){Z2d.chart.container.style.bottom=this.priorBottom;}a6.fixScreen();};a6.Drawing.annotation.prototype.reconstruct=function(b4c,N8N){this.stx=b4c;this.color=N8N.col;this.panelName=N8N.pnl;this.d0=N8N.d0;this.tzo0=N8N.tzo0;this.v0=N8N.v0;this.field=N8N.fld;this.text=b4c.escapeOnSerialize?decodeURIComponent(N8N.text):N8N.text;this.stem=N8N.stem;this.borderColor=N8N.bc;o1YMc.m_N();this.fillColor=N8N.bg;this.lineWidth=N8N.lw;this.pattern=N8N.ptrn;this.font=a6.replaceFields(N8N.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"});if(!this.font){this.font={};}this.hidden=N8N.hdn?!![]:!!"";this.permanent=N8N.prm?!0:!"1";this.adjust();};a6.Drawing.annotation.prototype.serialize=function(){var o0Q,S6V,H5b,G$7;o0Q={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text,hdn:this.hidden?1:0,prm:this.permanent?1:0};if(this.font){S6V="f";S6V+="l";H5b="s";H5b+="z";G$7=a6.removeNullValues(a6.replaceFields(this.font,{style:"st",size:H5b,weight:"wt",family:S6V}));if(!a6.isEmpty(G$7)){o0Q.fnt=G$7;}}if(this.stem){o0Q.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}if(this.borderColor){o0Q.bc=this.borderColor;}if(this.fillColor){o0Q.bg=this.fillColor;}if(this.lineWidth){o0Q.lw=this.lineWidth;}if(this.pattern){o0Q.ptrn=this.pattern;}return o0Q;};a6.Drawing.annotation.prototype.setTextareaProps=function(){var u6L=o1YMc;var I3$,R$Z,p7A,N2C,G9w,k9C,x6f,h3S,e4x;this.getFontString();I3$=this.stx;R$Z=I3$.panels[this.panelName];if(!R$Z){return;}p7A=this.ta?this.ta.value:this.text;this.arr=p7A.split("\n");N2C=0;I3$.chart.context.font=this.fontString;for(var I6o="0" << 32;I6o < this.arr.length;I6o++){G9w=I3$.chart.context.measureText(this.arr[I6o]).width;if(G9w > N2C){N2C=G9w;}}if(N2C === 0){u6L.g33(61);var i_w=u6L.b63(4,170,11,14,18);N2C=i_w * this.defaultWidth;}if(I3$.editingAnnotation){N2C=Math.max(N2C,+"2" * this.defaultWidth);}this.fontSize=a6.stripPX(this.fontDef.size);u6L.O$r(2);var n$A=u6L.b63(15,14);k9C=(this.arr.length + n$A) * (this.fontSize + this.fontModifier);if(a6.touchDevice){k9C+=5;}this.w=N2C + this.whitespace + this.padding;this.h=k9C;x6f=I3$.pixelFromTick(this.p0[0],R$Z.chart) + N2C;h3S=I3$.getYAxisByField(R$Z,this.field);u6L.O$r(62);var P2B=u6L.b63(1,3,4,2,1);e4x=this.pixelFromValue(R$Z,this.p0[0],this.p0[P2B],h3S) + k9C;if(this.stem && this.stem.d){this.stem.t=I3$.tickFromDate(this.stem.d,R$Z.chart);}};a6.Drawing.annotation.prototype.adjust=function(){var k1f,g7G,Y7J;k1f=this.stx;g7G=k1f.panels[this.panelName];if(!g7G){return;}this.setPoint(+"0",this.d0,this.v0,g7G.chart);this.setTextareaProps();if(this === k1f.activeDrawing && k1f.editingAnnotation){Y7J=k1f.chart.tempCanvas.context;a6.clearCanvas(Y7J.canvas,k1f);this.edit(Y7J);}};a6.Drawing.segment=function(){var s3E;s3E="se";s3E+="g";s3E+="ment";this.name=s3E;};a6.inheritsFrom(a6.Drawing.segment,a6.Drawing.BaseTwoPoint);a6.Drawing.segment.prototype.getDateFromTick=function(S2E){var j4G,e0f,T4$;j4G=this.stx;e0f=j4G.panels[this.panelName];T4$=j4G.dateFromTick(S2E,e0f.chart,!!({}));T4$=this.convertDate(T4$);return T4$;};a6.Drawing.segment.prototype.convertDate=function(l_U){var h1_=o1YMc;var g3V,J5$,E1R;g3V=this.stx;if(!a6.ChartEngine.isDailyInterval(g3V.layout.interval)){h1_.g33(2);var z$M=h1_.v0q(1017,17);J5$=l_U.getSeconds() * z$M + l_U.getMilliseconds();if(b8.Date && g3V.displayZone){E1R=new b8.Date(l_U.getTime(),g3V.displayZone);l_U=new Date(E1R.getFullYear(),E1R.getMonth(),E1R.getDate(),E1R.getHours(),E1R.getMinutes());l_U=new Date(l_U.getTime() + J5$);}}else {h1_.g33(11);l_U.setHours(h1_.b63(64,"0"),0,+"0",h1_.b63("0",1,h1_.O$r(3)));}return l_U;};a6.Drawing.segment.prototype.formatDate=function(E9h){var w1b,Q1b,S$$;w1b=this.stx;o1YMc.Z7I();Q1b=w1b.panels[this.panelName];S$$=a6.mmddhhmm(a6.yyyymmddhhmm(E9h));if(Q1b.chart.xAxis.formatter){S$$=Q1b.chart.xAxis.formatter(E9h,this.name,null,null,S$$);}else if(this.stx.internationalizer){S$$=a6.displayableDate(w1b,w1b.chart,E9h);}return S$$;};a6.Drawing.segment.prototype.render=function(n3L){var K4z,c9Z,Q8v,l61,y2z,j8R,I17,l2E,m4_,Z$u,p1R,i0G,o8p,e9z,C0J,Z4c,j9e,J_J,w_9,V2q,b$H,J97;K4z="ho";K4z+="rizont";K4z+="a";K4z+="l";c9Z="s";c9Z+="o";c9Z+="lid";Q8v="no";Q8v+="n";Q8v+="e";if(!this.p1){return;}l61=this.stx;y2z=l61.panels[this.panelName];j8R=l61.getYAxisByField(y2z,this.field);if(!y2z || this.field && !j8R && !this.spanPanels){return;}j8R=j8R || y2z.yAxis;I17=l61.pixelFromTick(this.p0[0],y2z.chart);l2E=l61.pixelFromTick(this.p1[0],y2z.chart);m4_=-1112314934;Z$u=+"1524452250";o1YMc.m_N();p1R=+"2";for(var y7$=1;o1YMc.u7W(y7$.toString(),y7$.toString().length,22759) !== m4_;y7$++){i0G=this.pixelFromValue(y2z,this.p0[0],this.p0[1],j8R);o8p=this.pixelFromValue(y2z,this.p1[0],this.p1[1],j8R);e9z=this.lineWidth;p1R+=2;}if(o1YMc.D$s(p1R.toString(),p1R.toString().length,44145) !== Z$u){i0G=this.pixelFromValue(y2z,this.p0[4],this.p0[+"2"],j8R);o8p=this.pixelFromValue(y2z,this.p1["9" * 1],this.p1["2" | 0],j8R);e9z=this.lineWidth;}C0J=this.getLineColor();Z4c={pattern:this.pattern,lineWidth:e9z};if(Z4c.pattern == Q8v){Z4c.pattern=c9Z;}l61.plotLine(I17,l2E,i0G,o8p,C0J,this.name,n3L,y2z,Z4c);if(this.axisLabel && !this.repositioner){j9e="vert";j9e+="ical";if(this.name == "horizontal"){l61.endClip();J_J=this.p0[1];if(y2z.chart.transformFunc){J_J=y2z.chart.transformFunc(l61,y2z.chart,J_J);}if(j8R.priceFormatter){J_J=j8R.priceFormatter(l61,y2z,J_J);}else {J_J=l61.formatYAxisPrice(J_J,y2z,null,j8R);}l61.createYAxisLabel(y2z,J_J,i0G,C0J,null,null,j8R);l61.startClip(y2z.name);}else if(this.name == j9e && this.p0[0] >= 0 && !l61.chart.xAxis.noDraw && (!this.spanPanels || y2z.yAxis.bottom !== y2z.bottom)){if(this.d0){w_9=a6.strToDateTime(this.d0);w_9=this.convertDate(w_9);}else {w_9=this.getDateFromTick(this.p0[0]);}l61.endClip();l61.createXAxisLabel({panel:y2z,txt:this.formatDate(w_9),x:I17,backgroundColor:C0J,color:null,pointed:!0,padding:+"2"});l61.startClip(y2z.name);}}if(this.highlighted && this.name != K4z && this.name != "vertical"){V2q="p";V2q+="1";b$H=this.highlighted == "p0"?!!1:!"1";J97=this.highlighted == V2q?!!"1":!1;this.littleCircle(n3L,I17,i0G,b$H);this.littleCircle(n3L,l2E,o8p,J97);}};a6.Drawing.segment.prototype.abort=function(){o1YMc.Z7I();this.stx.setMeasure(null,null,null,null,![]);};a6.Drawing.segment.prototype.intersected=function(c8h,o$Y,C2q){var Z6n,A$$,x4C,e3P,U$d,v4S;Z6n="ho";Z6n+="rizont";Z6n+="al";A$$="ga";A$$+="rtl";A$$+="e";A$$+="y";if(!this.p0 || !this.p1){return null;}x4C=this.name;if(x4C != "horizontal" && x4C != "vertical" && x4C != A$$){e3P={0:this.p0,1:this.p1};for(var y4Z in e3P){if(this.pointIntersection(e3P[y4Z][0],e3P[y4Z][1],C2q)){o1YMc.O$r(0);this.highlighted=o1YMc.v0q((8260,634.65) > (+"5100",286.95)?"p":7348 >= 46.49?251.81 < 2172?(2.85e+3,"L"):0xdcd:(!!0,!!""),y4Z);return {action:"drag",point:"p" + y4Z};}}}if(x4C == Z6n || x4C == "vertical"){x4C="line";}U$d=this.lineIntersection(c8h,o$Y,C2q,x4C);if(U$d){v4S="m";v4S+="o";v4S+="v";v4S+="e";this.highlighted=!!"1";return {action:v4S,p0:a6.clone(this.p0),p1:a6.clone(this.p1),tick:c8h,value:this.valueOnDrawingAxis(c8h,o$Y)};}return null;};a6.Drawing.segment.prototype.configs=["color","lineWidth","pattern"];a6.Drawing.segment.prototype.copyConfig=function(o$k){var B4p;B4p="n";B4p+="o";o1YMc.m_N();B4p+="ne";a6.Drawing.copyConfig(this,o$k);if(this.pattern == B4p && this.configs.indexOf("fillColor") == -1){this.pattern="solid";}};a6.Drawing.segment.prototype.reconstruct=function(H3x,N8i){this.stx=H3x;this.color=N8i.col;this.panelName=N8i.pnl;this.pattern=N8i.ptrn;this.lineWidth=N8i.lw;this.d0=N8i.d0;this.d1=N8i.d1;this.tzo0=N8i.tzo0;this.tzo1=N8i.tzo1;this.v0=N8i.v0;this.v1=N8i.v1;this.field=N8i.fld;this.adjust();};a6.Drawing.segment.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};a6.Drawing.line=function(){var R3N;R3N="l";R3N+="ine";this.name=R3N;};a6.inheritsFrom(a6.Drawing.line,a6.Drawing.segment);a6.Drawing.line.prototype.dragToDraw=!1;a6.Drawing.line.prototype.click=function(q5J,S8n,n08){o1YMc.Z7I();var p2T;p2T=this.stx.panels[this.panelName];if(!p2T){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",S8n,n08,p2T.chart);this.penDown=!!({});return !({});}if(this.accidentalClick(S8n,n08)){return !0;}o1YMc.O$r(1);this.setPoint(o1YMc.b63(0,"1"),S8n,n08,p2T.chart);this.penDown=!1;return !![];};a6.Drawing.line.prototype.reconstruct=function(k6Y,p9N){this.stx=k6Y;this.color=p9N.col;this.panelName=p9N.pnl;this.pattern=p9N.ptrn;this.lineWidth=p9N.lw;this.v0=p9N.v0;this.v1=p9N.v1;this.d0=p9N.d0;this.d1=p9N.d1;this.tzo0=p9N.tzo0;this.tzo1=p9N.tzo1;this.field=p9N.fld;this.hidden=p9N.hdn?!![]:!1;o1YMc.m_N();this.permanent=p9N.prm?!!1:!1;this.adjust();};a6.Drawing.line.prototype.serialize=function(){o1YMc.m_N();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,hdn:this.hidden?1:0,prm:this.permanent?1:0};};a6.Drawing.line.prototype.adjust=function(){var r6O;r6O=this.stx.panels[this.panelName];if(!r6O){return;}this.setPoint(0,this.d0,this.v0,r6O.chart);this.setPoint(1,this.d1,this.v1,r6O.chart);if(a6.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(0,this.d0B,this.v0B,r6O.chart);this.setPoint(1,this.d1B,this.v1B,r6O.chart);}};a6.Drawing.horizontal=function(){this.name="horizontal";};a6.inheritsFrom(a6.Drawing.horizontal,a6.Drawing.segment);a6.Drawing.horizontal.prototype.dragToDraw=!!"";a6.Drawing.horizontal.prototype.measure=function(){};a6.Drawing.horizontal.prototype.click=function(Y$j,s38,E0H){var H1V;H1V=this.stx.panels[this.panelName];if(!H1V){return;}this.copyConfig();o1YMc.m_N();this.setPoint(0,s38,E0H,H1V.chart);return !!({});};a6.Drawing.horizontal.prototype.intersected=function(U1G,t5m,y5p){var D8b,m41,E0$,X1z;if(this.lineIntersection(U1G,t5m,y5p,"line")){D8b="m";D8b+="o";D8b+="v";D8b+="e";m41=this.stx;E0$=m41.chart.dataSet.length;o1YMc.O$r(2);X1z=this.p0[o1YMc.b63("1",0)];this.highlighted=!!({});return {action:D8b,p0:[E0$ - 2,X1z],p1:[E0$ - 1,X1z],tick:U1G,value:this.valueOnDrawingAxis(U1G,t5m)};}return null;};a6.Drawing.horizontal.prototype.reconstruct=function(H1T,i0w){this.stx=H1T;this.color=i0w.col;this.panelName=i0w.pnl;this.pattern=i0w.ptrn;o1YMc.m_N();this.lineWidth=i0w.lw;this.v0=i0w.v0;this.d0=i0w.d0;this.tzo0=i0w.tzo0;this.axisLabel=i0w.al;this.field=i0w.fld;this.adjust();};a6.Drawing.horizontal.prototype.serialize=function(){var i5C;i5C={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field};o1YMc.m_N();return i5C;};a6.Drawing.horizontal.prototype.adjust=function(){var i2_;i2_=this.stx.panels[this.panelName];if(!i2_){return;}this.setPoint(0,this.d0,this.v0,i2_.chart);o1YMc.O$r(63);var x60=o1YMc.v0q(8,84,1,1900,950);this.p1=[this.p0[0] + x60,this.p0[+"1"]];};a6.Drawing.horizontal.prototype.configs=[M0m,k0A,"pattern","axisLabel"];a6.Drawing.vertical=function(){o1YMc.m_N();this.name="vertical";this.spanPanels=!1;};a6.inheritsFrom(a6.Drawing.vertical,a6.Drawing.horizontal);a6.Drawing.vertical.prototype.measure=function(){};a6.Drawing.vertical.prototype.configs=["color","lineWidth","pattern","axisLabel","spanPanels"];a6.Drawing.vertical.prototype.intersected=a6.Drawing.segment.prototype.intersected;a6.Drawing.vertical.prototype.adjust=function(){var X6r=o1YMc;var R6J;R6J=this.stx.panels[this.panelName];if(!R6J){return;}this.setPoint(0,this.d0,this.v0,R6J.chart);X6r.g33(64);var U6e=X6r.b63(14,6,2);X6r.g33(0);var J6Z=X6r.v0q(0,1);this.p1=[this.p0[0],this.p0[U6e] + J6Z];};var {reconstruct:e4, serialize:r3, reposition:v8}=a6.Drawing.vertical.prototype;a6.Drawing.vertical.prototype.reconstruct=function(N0I,K1D){e4.call(this,N0I,K1D);this.spanPanels=K1D.sp;};a6.Drawing.vertical.prototype.serialize=function(){var i0H;i0H=r3.call(this);i0H.sp=this.spanPanels;return i0H;};a6.Drawing.vertical.prototype.reposition=function(b_H,J4i,F7j,c9b){o1YMc.m_N();if(this.spanPanels){this.originPanelName=this.panelName;Object.values(this.stx.panels).forEach(g5U=>{this.panelName=g5U.name;v8.call(this,b_H,J4i,F7j,c9b);});this.panelName=this.originPanelName;}else {v8.call(this,b_H,J4i,F7j,c9b);}};a6.Drawing.measure=function(){o1YMc.Z7I();this.name="measure";};a6.inheritsFrom(a6.Drawing.measure,a6.Drawing.segment);a6.Drawing.measure.prototype.click=function(K3Q,r_$,q15){this.copyConfig();if(!this.penDown){this.p0=[r_$,q15];this.penDown=!![];return !1;}this.stx.undo();o1YMc.m_N();this.penDown=![];return !!({});};a6.Drawing.rectangle=function(){o1YMc.m_N();this.name="rectangle";};a6.inheritsFrom(a6.Drawing.rectangle,a6.Drawing.BaseTwoPoint);a6.Drawing.rectangle.prototype.render=function(f_L){var K94=o1YMc;var s6n,d$F,Y4L,z5p,a4u,Q$X,P_j,e_t,I$b,v9L,B6K,p8J,h5D,c_3,N1w,i8o,E_g,H8e,u4y;if(!this.p1){return;}s6n=this.stx;d$F=s6n.panels[this.panelName];Y4L=s6n.getYAxisByField(d$F,this.field);if(!d$F || this.field && !Y4L){return;}z5p=s6n.pixelFromTick(this.p0[0],d$F.chart);a4u=s6n.pixelFromTick(this.p1[0],d$F.chart);Q$X=this.pixelFromValue(d$F,this.p0[0],this.p0["1" ^ 0],Y4L);P_j=this.pixelFromValue(d$F,this.p1[0],this.p1[1],Y4L);e_t=Math.round(Math.min(z5p,a4u)) + +"0.5";I$b=Math.min(Q$X,P_j);v9L=Math.max(z5p,a4u) - e_t;B6K=Math.max(Q$X,P_j) - I$b;p8J=this.getLineColor();h5D=this.fillColor;if(h5D && !a6.isTransparent(h5D)){f_L.beginPath();f_L.rect(e_t,I$b,v9L,B6K);f_L.fillStyle=this.getLineColor(h5D,!!"1");f_L.globalAlpha=0.2;f_L.fill();f_L.closePath();f_L.globalAlpha=1;}c_3={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted && c_3.pattern == "none"){c_3.pattern="solid";if(c_3.lineWidth == 0.1){c_3.lineWidth=1;}}s6n.plotLine(z5p,a4u,Q$X,Q$X,p8J,"segment",f_L,d$F,c_3);K94.g33(2);s6n.plotLine(a4u,a4u,K94.b63(Q$X,0.5),K94.b63(P_j,0.5,K94.O$r(0)),p8J,"segment",f_L,d$F,c_3);s6n.plotLine(a4u,z5p,P_j,P_j,p8J,"segment",f_L,d$F,c_3);K94.g33(0);s6n.plotLine(z5p,z5p,K94.v0q(P_j,0.5),K94.b63(0,"0.5",Q$X,K94.g33(65)),p8J,"segment",f_L,d$F,c_3);if(this.highlighted){N1w=this.highlighted == "p0"?!!1:!!0;i8o=this.highlighted == "p1"?!![]:!!0;this.littleCircle(f_L,z5p,Q$X,N1w);E_g=-+"1418724648";H8e=-219725192;u4y=2;for(var x83=1;K94.u7W(x83.toString(),x83.toString().length,20231) !== E_g;x83++){this.littleCircle(f_L,a4u,P_j,i8o);u4y+=+"2";}if(K94.u7W(u4y.toString(),u4y.toString().length,16220) !== H8e){this.littleCircle(f_L,a4u,P_j,i8o);}}};a6.Drawing.rectangle.prototype.intersected=function(B1f,T4H,y7b){var X3f;if(!this.p0 || !this.p1){return null;}X3f={0:this.p0,1:this.p1};for(var i8Y in X3f){if(this.pointIntersection(X3f[i8Y][0],X3f[i8Y][1],y7b)){o1YMc.g33(0);this.highlighted=o1YMc.v0q(980.84 <= (9147,517.09)?(3809,9260) > 514.3?(![],8.49e+3):4.25e+3:"p",i8Y);return {action:"drag",point:((3790,+"4160") != (603.05,5700)?"p":(0x954,!!"")) + i8Y};}}if(this.boxIntersection(B1f,T4H,y7b)){this.highlighted=!![];return {action:"move",p0:a6.clone(this.p0),p1:a6.clone(this.p1),tick:B1f,value:this.valueOnDrawingAxis(B1f,T4H)};}return null;};a6.Drawing.rectangle.prototype.configs=[l5Z,"fillColor","lineWidth","pattern"];a6.Drawing.rectangle.prototype.reconstruct=function(R4d,n$n){this.stx=R4d;this.color=n$n.col;this.fillColor=n$n.fc;this.panelName=n$n.pnl;this.pattern=n$n.ptrn;this.lineWidth=n$n.lw;this.d0=n$n.d0;this.d1=n$n.d1;this.tzo0=n$n.tzo0;this.tzo1=n$n.tzo1;this.v0=n$n.v0;this.v1=n$n.v1;this.field=n$n.fld;this.hidden=n$n.hdn?!!({}):![];this.permanent=n$n.prm?!"":![];this.adjust();};a6.Drawing.rectangle.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,hdn:this.hidden?"1" * 1:0,prm:this.permanent?1:+"0"};};a6.Drawing.shape=function(){o1YMc.m_N();this.name="shape";this.radians=0;this.a=0;this.rotating=!"1";this.textMeasure=!!0;this.configurator="shape";this.dimension=[+"0",0];this.points=[];};a6.inheritsFrom(a6.Drawing.shape,a6.Drawing.BaseTwoPoint);a6.Drawing.shape.prototype.setRotationOnInitialDraw=!({});a6.Drawing.shape.prototype.measure=function(){};a6.Drawing.shape.prototype.render=function(Y26){var l9r=o1YMc;var q3I,T4A,v65,B2S,W8P,K60,G$x,e6f,l0Z,a6X,R_m,v_k,M1g,L4H,M4c,N6X,D39,X6O,z3U,f_F,N48,e00,j_c,E22,q9H,e2$,P_g;q3I="u";q3I+="ndefined";if(!this.points.length){return;}T4A=this.stx;v65=T4A.panels[this.panelName];B2S=T4A.getYAxisByField(v65,this.field);if(!v65 || this.field && !B2S){return;}W8P=T4A.pixelFromTick(this.p0[0],v65.chart);K60=this.pixelFromValue(v65,this.p0[0],this.p0[1],B2S);if(this.p1){G$x=T4A.pixelFromTick(this.p1[0],v65.chart);e6f=this.pixelFromValue(v65,this.p1[+"0"],this.p1[1],B2S);Y26.globalAlpha=0.5;Y26.fillStyle=this.getLineColor();if(this.rotating){l9r.g33(66);this.radians=Math.atan(l9r.v0q(K60,G$x,W8P,e6f));if(G$x < W8P){this.radians+=Math.PI;}else if(e6f < K60){l9r.g33(67);var H3z=l9r.b63(34,12,14,10);this.radians+=H3z * Math.PI;}l9r.g33(67);var I61=l9r.b63(52,50,10,2);l9r.O$r(68);var b0y=l9r.v0q(17,1391,11,10,18);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),I61) * b0y;this.a%=360;this.radians=this.a * Math.PI / +"180";if(this.textMeasure){Y26.fillText(this.a + "\u00b0",G$x + 10,e6f + 10);}}else if(this.penDown){this.sx=Math.max(l9r.b63(0,"1",l9r.g33(18)),parseFloat(Math.abs(2 * (G$x - W8P) / this.dimension[0]).toFixed(1)));if(G$x < W8P){this.sx*=-1;}this.sy=Math.max(1,parseFloat(Math.abs(2 * (e6f - K60) / this.dimension[+"1"]).toFixed(1)));if(e6f < K60){this.sy*=-1;}if(this.textMeasure){Y26.fillText(this.sx + "x," + this.sy + "x",G$x + this.sx + 5,e6f + this.sy + 5);}}Y26.globalAlpha=1;}if(typeof this.sx === q3I){this.sx=this.sy=1;}l0Z=this.lineWidth;if(!l0Z){l0Z=1.1;}a6X={pattern:this.pattern,lineWidth:l0Z};if(this.highlighted && a6X.pattern == "none"){R_m="s";R_m+="o";R_m+="l";R_m+="id";a6X.pattern=R_m;if(a6X.lineWidth == 0.1){a6X.lineWidth=1;}}v_k=this.getLineColor();if(this.highlighted && l0Z == 0.1){l0Z=1.1;}M1g=this.fillColor;l9r.m_N();l9r.O$r(2);var q_y=l9r.v0q(21,19);l0Z/=Math.abs(this.sx * this.sy) * q_y / (Math.abs(this.sx) + Math.abs(this.sy));Y26.save();Y26.translate(W8P,K60);Y26.rotate(this.radians);Y26.scale(this.sx,(B2S || v65.yAxis).flipped?-this.sy:this.sy);N6X={x:(this.dimension["0" >> 64] - 1) / ("2" - 0),y:(this.dimension[+"1"] - 1) / 2};for(L4H=+"0";L4H < this.points.length;L4H++){D39="no";D39+="n";D39+="e";Y26.beginPath();for(M4c=0;M4c < this.points[L4H].length;M4c++){E22=this.points;if(E22[L4H][M4c] == "M"){X6O=E22[L4H][++M4c] - N6X.x;z3U=E22[L4H][++M4c] - N6X.y;Y26.moveTo(X6O,z3U);}else if(E22[L4H][M4c] == (("2300" | 8) == (218.74,4726)?5.46e+3:"L")){X6O=E22[L4H][++M4c] - N6X.x;z3U=E22[L4H][++M4c] - N6X.y;Y26.lineTo(X6O,z3U);}else if(E22[L4H][M4c] == ((662,+"2850") > (9090,"8420" >> 32)?"j":(208,+"742") > (5930,1513)?(0x232,259.10):"Q")){f_F=E22[L4H][++M4c] - N6X.x;e00=E22[L4H][++M4c] - N6X.y;X6O=E22[L4H][++M4c] - N6X.x;z3U=E22[L4H][++M4c] - N6X.y;Y26.quadraticCurveTo(f_F,e00,X6O,z3U);}else if(E22[L4H][M4c] == ((3865,176.96) > (+"3975",9400)?4410 != "994" - 0?(1200,8947) !== +"939.88"?0x42e:"l":"Z":"B")){f_F=E22[L4H][++M4c] - N6X.x;e00=E22[L4H][++M4c] - N6X.y;N48=E22[L4H][++M4c] - N6X.x;j_c=E22[L4H][++M4c] - N6X.y;X6O=E22[L4H][++M4c] - N6X.x;z3U=E22[L4H][++M4c] - N6X.y;Y26.bezierCurveTo(f_F,e00,N48,j_c,X6O,z3U);}}Y26.closePath();if(M1g && !a6.isTransparent(M1g)){Y26.fillStyle=this.getLineColor(M1g,!![]);Y26.fill();}if(v_k && this.pattern != D39){Y26.strokeStyle=v_k;Y26.lineWidth=l0Z;if(Y26.setLineDash){Y26.setLineDash(a6.borderPatternToArray(l0Z,this.pattern));Y26.lineDashOffset=0;}Y26.stroke();}}Y26.restore();Y26.save();Y26.translate(W8P,K60);Y26.rotate(this.radians);if(this.highlighted){q9H=this.highlighted == "p0"?!!1:!1;e2$=this.highlighted == "p1"?!!"1":!!0;P_g=this.highlighted == "p2"?!"":![];l9r.O$r(18);this.littleCircle(Y26,l9r.b63(0,"0"),0,q9H);this.mover(Y26,0,0,q9H);this.littleCircle(Y26,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / 2,e2$);this.resizer(Y26,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / 2,e2$);this.littleCircle(Y26,this.sx * this.dimension[0] / 2,0,P_g);this.rotator(Y26,this.sx * this.dimension[0] / 2,0,P_g);Y26.globalAlpha=+"0.5";Y26.fillStyle=this.getLineColor(null,!({}));if(this.textMeasure){Y26.fillText(this.sx + "x," + this.sy + ((6015,+"1232") <= (+"798.27",9551)?"x":(372,+"4708") !== (2195,62.91)?!![]:(+"1.78e+3",170.12)),this.sx * this.dimension[0] / 2 + +"12",this.sy * this.dimension[1] / ("2" >> 64) + 5);Y26.fillText(this.a + ((380.55,+"3040") <= 892?(3.36e+3,1):"\u00b0"),this.sx * this.dimension[0] / 2 + ("12" | 0),+"5");}Y26.globalAlpha=1;}else if(this.penDown){if(this.rotating){this.rotator(Y26,this.sx * this.dimension[0] / 2,0,!!({}));}else {this.resizer(Y26,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / 2,!0);}}Y26.restore();};a6.Drawing.shape.prototype.reposition=function(D3H,S0q,q9k,E$j){var r$U=o1YMc;var d2K,w70,I8M,k1r,z8M,f40,I_x,J_w,D4o,O24,z9J,z53;if(!S0q){return;}r$U.m_N();d2K=this.stx;w70=d2K.panels[this.panelName];if(S0q.action == "move"){I8M=2145071511;k1r=-1223146618;z8M=2;for(var p_u=1;r$U.D$s(p_u.toString(),p_u.toString().length,688) !== I8M;p_u++){f40=S0q.tick * q9k;z8M+=2;}if(r$U.D$s(z8M.toString(),z8M.toString().length,"99896" | 8) !== k1r){f40=S0q.tick - q9k;}f40=S0q.tick - q9k;I_x=S0q.value - E$j;this.setPoint(0,S0q.p0[0] - f40,S0q.p0[1] - I_x,w70.chart);this.render(D3H);}else {J_w=d2K.getYAxisByField(w70,this.field);D4o=d2K.pixelFromTick(this.p0[0],w70.chart);O24=this.pixelFromValue(w70,this.p0[0],this.p0[1],J_w);z9J=d2K.pixelFromTick(q9k,w70.chart);z53=this.pixelFromValue(w70,q9k,E$j,J_w);if(S0q.action == "scale"){this[S0q.point]=[q9k,E$j];this.sx=parseFloat((((z9J - D4o) * Math.cos(this.radians) + (z53 - O24) * Math.sin(this.radians)) / (this.dimension[0] / 2)).toFixed(+"1"));if(Math.abs(this.sx) < 1){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((z53 - O24) * Math.cos(this.radians) - (z9J - D4o) * Math.sin(this.radians)) / (this.dimension[1] / 2)).toFixed(1));if(Math.abs(this.sy) < 1){this.sy/=Math.abs(this.sy);}this.render(D3H);}else if(S0q.action == "rotate"){this[S0q.point]=[q9k,E$j];r$U.g33(66);this.radians=Math.atan(r$U.v0q(O24,z9J,D4o,z53));if(z9J < D4o){this.radians+=Math.PI;}else if(z53 < O24){r$U.O$r(69);var T9_=r$U.b63(16,3,12,10,20);this.radians+=T9_ * Math.PI;}r$U.O$r(0);var B6g=r$U.v0q(1,9);r$U.O$r(70);var W0Q=r$U.v0q(65,21,65,1,17);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),B6g) * W0Q;if(this.sx < 0){this.a=this.a + +"180";}r$U.g33(11);this.a%=r$U.b63(0,"360");r$U.O$r(0);var K3V=r$U.b63(170,10);this.radians=this.a * Math.PI / K3V;this.render(D3H);}}};a6.Drawing.shape.prototype.intersected=function(Q17,f5C,S9T){var H7P=o1YMc;var a0Z,I2y,r64,W7z,S9J,N0v,O1v,M0U,w91,u30,H49,q0U,V4D,M85,S_h,N5A,H7T,p3N,h5t;a0Z=this.stx;if(!this.p0){return null;}if(a0Z.repositioningDrawing == this && a0Z.repositioningDrawing.repositioner){return a0Z.repositioningDrawing.repositioner;}I2y=a0Z.panels[this.panelName];r64=a0Z.getYAxisByField(I2y,this.field);W7z=a0Z.pixelFromTick(this.p0[0],I2y.chart);S9J=this.pixelFromValue(I2y,this.p0["0" >> 64],this.p0[1],r64);N0v=a0Z.pixelFromTick(Q17,I2y.chart);O1v=a0Z.pixelFromValueAdjusted(I2y,Q17,f5C);N0v-=W7z;O1v-=S9J;M0U=O1v;w91=N0v;N0v=Math.cos(this.radians) * w91 + Math.sin(this.radians) * M0U;O1v=Math.cos(this.radians) * M0U - Math.sin(this.radians) * w91;N0v/=this.sx;O1v/=this.sy;H7P.Z7I();this.padding=a6.ensureDefaults(this.padding || ({}),{left:"0" | 0,right:0,top:0,bottom:0});u30=this.padding.right + this.padding.left;H49=this.padding.bottom + this.padding.top;q0U=Math.pow(a6.touchDevice?25:5 + this.littleCircleRadius(),2);V4D=Math.abs(q0U / (this.sx * this.sy));M85=3;H7P.g33(2);var c9H=H7P.v0q(12,10);H7P.O$r(2);var l9x=H7P.v0q(22,20);H7P.g33(71);var a17=H7P.b63(8,9,262,16,5);H7P.O$r(72);var S8E=H7P.b63(202,10,20);H7P.O$r(73);var O5L=H7P.v0q(8,2,11,7,11);H7P.O$r(0);var X7E=H7P.b63(0,2);H7P.O$r(21);var u6o=H7P.b63(0,20,18);H7P.O$r(37);var K8k=H7P.b63(2,130,6,11);S_h=Math.pow((this.dimension[0] - u30 + M85) / c9H,l9x) + Math.pow((this.dimension[a17] - H49 + M85) / ("2" << 0),S8E) > Math.pow(N0v - u30 / O5L,X7E) + Math.pow(O1v - H49 / u6o,K8k);H7P.g33(64);var X$Z=H7P.b63(14,12,1);H7P.g33(2);var U34=H7P.b63(6,4);N5A=(q0U - (Math.pow(N0v * this.sx,X$Z) + Math.pow(O1v * this.sy,U34))) / Math.abs(this.sx * this.sy);H7P.O$r(74);var P30=H7P.v0q(20,1,21,3);H7P.g33(21);var b3a=H7P.v0q(4,14,17);H7P.g33(15);var e09=H7P.b63(11,3,10,1,0);H7P.g33(75);var C8X=H7P.b63(8,7,13);H7T=V4D - Math.pow(N0v - this.dimension[0] / ("2" >> 0),P30) - Math.pow(O1v - this.dimension[b3a] / e09,C8X);H7P.O$r(76);var k1x=H7P.b63(2,1,1,7,8);p3N=V4D - Math.pow(N0v - this.dimension[0] / ("2" - 0),k1x) - Math.pow(O1v,"2" >> 0);if(S_h){h5t="mov";h5t+="e";if(H7T >= p3N && H7T >= N5A && H7T > -1){this.highlighted="p1";return {action:"scale"};}if(p3N >= H7T && p3N >= N5A && p3N > -1){this.highlighted="p2";return {action:"rotate"};}this.highlighted=N5A > -1?"p0":!!({});return {action:h5t,p0:a6.clone(this.p0),tick:Q17,value:this.valueOnDrawingAxis(Q17,f5C)};}return null;};a6.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"];a6.Drawing.shape.prototype.littleCircleRadius=function(){o1YMc.m_N();return 3;};a6.Drawing.shape.prototype.click=function(Z5o,V7N,f2y){var t1C;if(!this.points.length){return !!"";}this.copyConfig();t1C=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,V7N,f2y,t1C.chart);this.penDown=!"";return !!"";}this.setPoint(+"1",V7N,f2y,t1C.chart);if(this.rotating || !this.setRotationOnInitialDraw){this.penDown=!!0;this.rotating=![];return !![];}this.rotating=!!"1";return !({});};a6.Drawing.shape.prototype.adjust=function(){var p0N=o1YMc;var d0f,S9V,r_0,M9J;d0f="_";d0f+="v";S9V=this.stx.panels[this.panelName];if(!S9V){return;}r_0=this.name + d0f + (this.version || 0);if(a6.Drawing[r_0]){M9J=new a6.Drawing[r_0]();this.name=M9J.name;this.dimension=M9J.dimension;this.padding=M9J.padding;this.points=M9J.points;this.version=M9J.version;}this.setPoint(+"0",this.d0,this.v0,S9V.chart);p0N.O$r(8);var x2o=p0N.v0q(15,13,33);p0N.O$r(0);var M2j=p0N.v0q(5,31);this.radians=Math.round(this.a / x2o) * Math.PI / M2j;};a6.Drawing.shape.prototype.reconstruct=function(t_I,i63){this.stx=t_I;this.color=i63.col;this.fillColor=i63.fc;this.panelName=i63.pnl;this.pattern=i63.ptrn;this.lineWidth=i63.lw;this.d0=i63.d0;this.v0=i63.v0;this.tzo0=i63.tzo0;this.a=i63.a;this.sx=i63.sx;this.sy=i63.sy;this.field=i63.fld;this.version=i63.ver;this.hdn=i63.hdn?!!1:!1;this.prm=i63.prm?!!"1":!({});this.adjust();};a6.Drawing.shape.prototype.serialize=function(){o1YMc.m_N();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version,hdn:this.hidden?1:0,prm:this.permanent?1:0};};a6.Drawing.arrow=function(){var r0D=o1YMc;var T2y,V60,o3G,K_z;T2y="a";T2y+="r";T2y+="r";T2y+="ow";this.name=T2y;this.version=1;r0D.g33(2);r0D.Z7I();this.dimension=[r0D.b63("11",0),+"22"];V60=1800943070;o3G=18213815;r0D.O$r(11);K_z=r0D.b63(32,"2");for(var t32=1;r0D.u7W(t32.toString(),t32.toString().length,55744) !== V60;t32++){this.padding={left:0,right:0,top:11,bottom:0};r0D.g33(11);this.points=[[3190 <= (295,"6300" * 1)?8320 < (5070,3218)?(0x26ce,181.67):877 < 964.57?"M":(6.69e+3,3.91e+3):!!({}),3,21,"L",+"7",21,"859.51" - 0 === 155.52?("819.87" - 0,"0x19ab" ^ 0):(5216,9900) == 5890?"d":"L",r0D.b63(64,"7"),16,(6790,211.47) > (606.53,"173" | 1)?515 >= (7360,1179)?(2.66e+3,5.80e+3):9264 !== 5563?"L":(!!"1",460.42):926.31,10,16,128.07 <= 2058?"L":3090 >= (+"7976","153.14" * 1)?3930 >= "462.6" * 1?0x1ee2:("K",650.78):!"",5,11,(6180,162.27) == (6520,"151.74" - 0)?4280 > (7260,920)?(0x1fa4,+"0x1b3"):4.51e+3:"L",0,16,(50.43,"5007" >> 64) <= 119.6?(7.37e+3,+"0x13cd"):"L",3,16,(+"7840",1631) == (3088,8715)?6060 > (133,"5970" | 0)?(6370,4800) == 752.73?(0x920,!({})):!!0:75.97:"L",+"3",21]];K_z+=2;}if(r0D.D$s(K_z.toString(),K_z.toString().length,+"19804") !== o3G){this.padding={left:6,right:1,top:54,bottom:"7" ^ 0};r0D.O$r(3);this.points=[[1243 > (333,8902)?9836 >= (6304,1047)?(0xd82f,971024):207 > "379047" - 0?"K":(1569785,6006237):![],4,61,"L",+"3",+"26",280115 == 565339?(820481,0x9cbd):(3138,1361) === 8004?"L":"L",3,92,(+"3451",137679) < (671339,839)?400 <= (4453,9618)?(8361402,+"9175691"):2346 != 1341?"L":(![],839241):779180,+"73",+"86",677539 < +"3977"?"L":7380 <= (9059,272057)?8656 < 57905?+"0xcb2f":("K",860032):!!0,+"3",+"25",("2432" ^ 0,+"779437") !== (+"4978",229457)?8904 <= (+"1407",777)?(0x7ad3,0x216):8378651:"L",+"6",62,(84628,1944) >= "18820" * 1?(9846044,0xbc4f):"L",r0D.b63("1",1),40,(8785,6270) === (1748,4650)?2579 <= (571,6598)?(3527,1521) !== 621857?(0x92e,!!"1"):!!({}):69560:"L",+"8",72]];}};a6.inheritsFrom(a6.Drawing.arrow,a6.Drawing.shape);a6.Drawing.trendline=function(){o1YMc.Z7I();this.name="trendline";this.showCallout=!({});};a6.inheritsFrom(a6.Drawing.trendline,a6.Drawing.segment);a6.Drawing.trendline.prototype.copyConfig=function(m7I){if(a6.Drawing.callout && !a6.Drawing.trendline.prototype.configs.includes("showCallout")){a6.Drawing.trendline.prototype.configs=a6.Drawing.trendline.prototype.configs.concat(["fillColor","showCallout","font"]);}o1YMc.m_N();a6.Drawing.copyConfig(this,m7I);};a6.Drawing.trendline.prototype.measure=function(){if(!this.showCallout || !a6.Drawing.callout){a6.Drawing.BaseTwoPoint.prototype.measure.call(this);}};a6.Drawing.trendline.prototype.reconstruct=function(e1w,x8i){o1YMc.Z7I();a6.Drawing.segment.prototype.reconstruct.call(this,e1w,x8i);if(x8i.callout && a6.Drawing.callout){this.callout=new a6.Drawing.callout();this.callout.reconstruct(e1w,x8i.callout);this.showCallout=!!"1";}};a6.Drawing.trendline.prototype.serialize=function(){var J14;o1YMc.m_N();J14=a6.Drawing.segment.prototype.serialize.call(this);if(this.showCallout && a6.Drawing.callout){J14.callout=this.callout.serialize();}return J14;};a6.Drawing.trendline.prototype.render=function(r3h){var O8Q=o1YMc;var M2K,v36,B6q,N$f,g1r,n_7,v5M,C6W,Y1w,y0f,w09,x3p,J6D,x0q,V8J,n1n,t9d,E4M,r7y,N$I,I4y,y2W,Z7T;M2K="%)";M2K+=" ";v36=this.stx;B6q=v36.panels[this.panelName];N$f=v36.getYAxisByField(B6q,this.field);if(!B6q || this.field && !N$f){return;}a6.Drawing.segment.prototype.render.call(this,r3h);if(!this.showCallout || !a6.Drawing.callout){this.callout=null;return;}if(!this.callout){this.callout=new a6.Drawing.callout();g1r=a6.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(v36,g1r);}this.callout.p0=a6.clone(this.p0);n_7=v36.pixelFromTick(this.p0[0],B6q.chart);v5M=v36.pixelFromTick(this.p1[0],B6q.chart);C6W=this.pixelFromValue(B6q,this.p0[0],this.p0[1],N$f);Y1w=this.pixelFromValue(B6q,this.p1[0],this.p1[1],N$f);if(!isFinite(C6W) || !isFinite(Y1w)){return;}O8Q.g33(10);y0f=O8Q.b63(n_7,2,v5M);O8Q.O$r(10);w09=O8Q.v0q(C6W,2,Y1w);this.fontSize=a6.stripPX(this.font && this.font.size || +"13");O8Q.O$r(77);var f8H=O8Q.v0q(3,60,60,47);x3p=this.callout.w * 1.2 + (this.callout.stemEntry[+"0"] == "c"?0:f8H);J6D=Math.sqrt(Math.pow(v5M - n_7,2) + Math.pow(Y1w - C6W,2));O8Q.g33(55);var a6E=O8Q.v0q(116,13,9);O8Q.O$r(74);var I_B=O8Q.b63(1,1,18,18);O8Q.O$r(78);var O9p=O8Q.b63(17,3,7,8);x0q=x3p / (J6D || x3p) * (this.p1[a6E] < this.p0[I_B]?O9p:-+"1");O8Q.g33(79);V8J=O8Q.b63(w09,x0q,y0f,Y1w);O8Q.O$r(80);n1n=O8Q.v0q(y0f,w09,x0q,v5M);this.callout.p0[0]=v36.tickFromPixel(V8J,B6q.chart);this.callout.p0[1]=this.valueFromPixel(n1n,B6q,N$f);this.callout.v0=this.callout.p0[1];this.callout.p1=a6.clone(this.p0);this.callout.stx=v36;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!"";O8Q.O$r(81);var a38=O8Q.b63(2,13,39,14,19);t9d=this.p1["1" << 0] - this.p0[a38];O8Q.O$r(82);var H2a=O8Q.v0q(8,18,3,9);O8Q.g33(83);var x9v=O8Q.v0q(0,14,17,12,8);this.callout.text="" + Number(t9d).toFixed(H2a) + (this.p0[x9v] === 0?"":" (" + Number(100 * t9d / this.p0[1]).toFixed("2" - 0) + M2K) + "" + Math.abs(this.p1[0] - this.p0["0" | 0]) + " Bars";E4M=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){N$I=v36.pixelFromTick(E4M,B6q.chart);O8Q.O$r(84);I4y=O8Q.v0q(C6W,C6W,Y1w,N$I,n_7,n_7,v5M);r7y=this.valueFromPixel(I4y,B6q,N$f) || w09;}else {r7y=this.valueFromPixel(w09,B6q,N$f);}this.callout.stem={t:E4M,v:r7y};this.callout.setTextareaProps();this.callout.render(r3h);if(this.highlighted){y2W=this.highlighted == "p0"?!![]:![];Z7T=this.highlighted == "p1"?!!({}):!!0;this.littleCircle(r3h,n_7,C6W,y2W);this.littleCircle(r3h,v5M,Y1w,Z7T);}};a6.Drawing.trendline.prototype.lineIntersection=function(a9O,S60,L44,y3q){o1YMc.m_N();return a6.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,a9O,S60,L44,"segment");};a6.Drawing.trendline.prototype.intersected=function(z$s,b0D,X1g){var S39,X5t,t3Y;o1YMc.Z7I();if(!this.p0 || !this.p1){return null;}S39=this.callout?this.callout.intersected(z$s,b0D,X1g):null;X5t=a6.Drawing.segment.prototype.intersected.call(this,z$s,b0D,X1g);if(this.callout){this.callout.highlighted=!!(S39 || X5t);}if(X5t){return X5t;}else if(S39){t3Y="m";t3Y+="ov";t3Y+="e";return {action:t3Y,p0:a6.clone(this.p0),p1:a6.clone(this.p1),tick:z$s,value:this.valueOnDrawingAxis(z$s,b0D)};}return null;};a6.Drawing.getDrawingToolList=function(Z4d){var F6n,b5q;F6n={};b5q={arrow_v0:!!({}),BaseTwoPoint:!"",fibonacci:!![],shape:!!1};a6.extend(b5q,Z4d);for(var W9Y in a6.Drawing){if(!b5q[W9Y] && a6.Drawing[W9Y].prototype.render){F6n[new a6.Drawing[W9Y]().name]=W9Y;}}return F6n;};};R=B8Y=>{var k2G=o1YMc;var L4k,W3L;L4k="easeOu";L4k+="tCu";L4k+="bic";W3L=typeof _CIQ !== "undefined"?_CIQ:B8Y.CIQ;W3L.EaseMachine=function(M0s,M9y,G4M,u71){if(typeof M0s === "string"){this.fc=W3L.EaseMachine[M0s];}else {this.fc=M0s;}this.ms=M9y;if(G4M || G4M === 0){this.reset(G4M,u71);}};W3L.EaseMachine.prototype.reset=function(k33,n5o){if(!k33 && k33 !== 0){k33=this.currentValues;}this.hasCompleted=!1;this.running=!!0;this.okayToRun=!![];k2G.O$r(85);this.useNameValuePairs=k2G.b63(typeof n5o,"object");this.startTime=Date.now();if(this.useNameValuePairs){this.startValues=k33;this.endValues=n5o;}else {this.startValues={default:k33};this.endValues={default:n5o};}this.changeValues={};this.currentValues={};for(var p8y in this.startValues){this.changeValues[p8y]=this.endValues[p8y] - this.startValues[p8y];}};W3L.EaseMachine.prototype.next=function(){var d5K;d5K=Date.now();if(d5K >= this.startTime + this.ms){d5K=this.startTime + this.ms;this.hasCompleted=!"";this.running=!1;}this.currentValues={};for(var e0T in this.changeValues){this.currentValues[e0T]=this.fc(d5K - this.startTime,this.startValues[e0T],this.changeValues[e0T],this.ms);}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};W3L.EaseMachine.prototype.hasCompleted=!!({});W3L.EaseMachine.prototype.run=function(c6W,j_I,X9V,E1O,u0J){var L6w;if(!u0J){u0J=window;}if(this.afid){u0J.cancelAnimationFrame(this.afid);}if(j_I || j_I === 0){this.reset(j_I,X9V);}else if(X9V || X9V === ("0" ^ 0)){this.reset(this.currentValues,X9V);}k2G.Z7I();L6w=this;this.running=!!1;function A_x(){var C_O;L6w.afid=null;if(!L6w.okayToRun){return;}k2G.m_N();C_O=L6w.next();c6W(C_O);if(L6w.hasCompleted){return;}L6w.afid=u0J.requestAnimationFrame(A_x);}if(E1O){this.afid=u0J.requestAnimationFrame(A_x);}else {A_x();}};k2G.Z7I();W3L.EaseMachine.prototype.stop=function(Y4q){if(!Y4q){Y4q=window;}if(this.afid){Y4q.cancelAnimationFrame(this.afid);}this.afid=null;this.okayToRun=![];this.hasCompleted=!"";this.running=!!0;if(typeof this.useNameValuePairs == "undefined"){return {};}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};W3L.EaseMachine.easeInOutQuad=function(Y7d,L7E,w52,b6M){k2G.g33(9);Y7d/=k2G.v0q(2,b6M);if(Y7d < 1){k2G.O$r(86);return k2G.v0q("2",0,w52,L7E,Y7d,Y7d);}Y7d--;k2G.g33(87);k2G.Z7I();return k2G.v0q(w52,L7E,2,"1",Y7d,2,64,Y7d);};W3L.EaseMachine.easeInOutCubic=function(K4h,S4S,Y6O,g5v){k2G.g33(9);K4h/=k2G.b63(2,g5v);k2G.m_N();if(K4h < +"1"){k2G.O$r(88);return k2G.v0q(32,S4S,"2",K4h,Y6O,K4h,K4h);}K4h-=2;k2G.g33(89);return k2G.v0q(2,K4h,K4h,K4h,S4S,2,Y6O);};W3L.EaseMachine.easeOutCubic=function(t6P,g9c,f60,q0c){t6P/=q0c;t6P--;k2G.O$r(90);return k2G.v0q(1,t6P,t6P,f60,t6P,g9c);};if(W3L.ChartEngine.prototype.animations.zoom.isStub){W3L.ChartEngine.prototype.animations.zoom=new W3L.EaseMachine(L4k,400);}};D=n_P=>{var y8N=o1YMc;var R7U,N1L,d5j;R7U="un";R7U+="de";R7U+="fined";N1L=typeof _CIQ !== R7U?_CIQ:n_P.CIQ;y8N.m_N();d5j=function(){var x3B,a0e,R5R,l_K,k6K,U1E,H6B,N1J,G_5,c9a,P8C,F35,b$m,V7F,u2$,a3y,M6A,K74,D65,V6b;x3B="\\";function g01(S4j,o8H){y8N.O$r(91);return y8N.v0q(S4j,o8H);}x3B+="r";a0e="\\";function V0T(g0y,i6m){y8N.Z7I();return Boolean(g0y || i6m);}function Y7P(X87){var q2D;X87=Math.floor(X87);q2D=X87;while(X87 > 1){y8N.g33(92);q2D=y8N.v0q(q2D,--X87);}return q2D;}a0e+="f";R5R="\\";function K_n(h1X,Y3T){y8N.O$r(85);return y8N.b63(h1X,Y3T);}R5R+="b";l_K=0;function v3q(x0P){var I0a,Z$N,x7c;I0a=1505322536;Z$N=643261637;x7c=2;for(var R8B=1;y8N.u7W(R8B.toString(),R8B.toString().length,72974) !== I0a;R8B++){if(Math.tanh){return Math.tanh(x0P);}if(x0P != Infinity){return 3;}x7c+=2;}if(y8N.D$s(x7c.toString(),x7c.toString().length,14820) !== Z$N){if(Math.tanh){return Math.tanh(x0P);}if(x0P === Infinity){y8N.g33(11);return y8N.b63(32,"1");}}y8N.Z7I();if(x0P === -Infinity){return -1;}return (Math.exp(x0P) - Math.exp(-x0P)) / (Math.exp(x0P) + Math.exp(-x0P));}k6K=1;function l5R(w7S){return -w7S;}U1E=2;H6B=3;N1J=4;function D4F(q19,q2f){y8N.O$r(2);return y8N.b63(q19,q2f);}function Z20(y6R){return Math.sinh?Math.sinh(y6R):(Math.exp(y6R) - Math.exp(-y6R)) / 2;}G_5=/[\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;c9a=/[\\'\x7f-\x9f\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;P8C={"\b":R5R,"\t":"\\t","\n":"\\n","\f":a0e,"\r":x3B,"'":"\\'","\\":"\\\\"};N1L.extend(e_T.prototype,{simplify:function(c4p){var F86,S2l,g_J,B6f,L03,M5b,L_g,L4o,I$p;y8N.Z7I();c4p=c4p || ({});F86=[];S2l=[];M5b=this.tokens.length;L4o=0;for(L4o=0;L4o < M5b;L4o++){L_g=this.tokens[L4o];I$p=L_g.type_;if(I$p === l_K){F86.push(L_g);}else if(I$p === H6B && (L_g.index_ in c4p)){L_g=new Z65(l_K,0,0,c4p[L_g.index_]);F86.push(L_g);}else if(I$p === U1E && F86.length > 1){B6f=F86.pop();g_J=F86.pop();L03=this.ops2[L_g.index_];L_g=new Z65(l_K,0,0,L03(g_J.number_,B6f.number_));F86.push(L_g);}else if(I$p === k6K && F86.length > "0" - 0){g_J=F86.pop();L03=this.ops1[L_g.index_];L_g=new Z65(l_K,0,0,L03(g_J.number_));F86.push(L_g);}else {while(F86.length > 0){S2l.push(F86.shift());}S2l.push(L_g);}}while(F86.length > +"0"){S2l.push(F86.shift());}return new e_T(S2l,J2f(this.ops1),J2f(this.ops2),J2f(this.functions));},substitute:function(V5d,d_y){var h_X,l2u,h0a,b59,c1l,Z0r,m13,h1e;if(!(d_y instanceof e_T)){d_y=new U1F().parse(String(d_y));}h_X=[];l2u=this.tokens.length;y8N.g33(1);b59=y8N.v0q(0,"0");for(b59=0;b59 < l2u;b59++){h0a=this.tokens[b59];c1l=h0a.type_;if(c1l === H6B && h0a.index_ === V5d){for(var z_A="0" << 0;z_A < d_y.tokens.length;z_A++){Z0r=d_y.tokens[z_A];m13=new Z65(Z0r.type_,Z0r.index_,Z0r.prio_,Z0r.number_);h_X.push(m13);}}else {h_X.push(h0a);}}h1e=new e_T(h_X,J2f(this.ops1),J2f(this.ops2),J2f(this.functions));y8N.Z7I();return h1e;},evaluate:function(z8U){var N14,H03,P3H,i3j,H7r,o2Z,n4F,q$Z,o4o,a72;z8U=z8U || ({});N14=[];H7r=this.tokens.length;n4F=0;for(n4F=0;n4F < H7r;n4F++){o2Z=this.tokens[n4F];q$Z=o2Z.type_;if(q$Z === l_K){N14.push(o2Z.number_);}else if(q$Z === U1E){P3H=N14.pop();H03=N14.pop();i3j=this.ops2[o2Z.index_];N14.push(i3j(H03,P3H));}else if(q$Z === H6B){if((o2Z.index_ in z8U)){N14.push(z8U[o2Z.index_]);}else if((o2Z.index_ in this.functions)){N14.push(this.functions[o2Z.index_]);}else {o4o="undefined vari";o4o+="able: ";throw new Error(o4o + o2Z.index_);}}else if(q$Z === k6K){H03=N14.pop();i3j=this.ops1[o2Z.index_];N14.push(i3j(H03));}else if(q$Z === N1J){H03=N14.pop();i3j=N14.pop();if(i3j.apply && i3j.call){if(Object.prototype.toString.call(H03) == "[object Array]"){N14.push(i3j.apply(undefined,H03));}else {N14.push(i3j.call(undefined,H03));}}else {y8N.O$r(0);throw new Error(y8N.v0q(i3j," is not a function"));}}else {a72="invalid Expressi";a72+="on";throw new Error(a72);}}if(N14.length > 1){throw new Error("invalid Expression (parity)");}return N14[0];},toString:function(T7i){var Q4d,e55,t7S,M1u,v1o,i8m,V6T,J6e;Q4d=[];v1o=this.tokens.length;V6T=0;for(V6T=+"0";V6T < v1o;V6T++){i8m=this.tokens[V6T];J6e=i8m.type_;if(J6e === l_K){Q4d.push(L$o(i8m.number_));}else if(J6e === U1E){t7S=Q4d.pop();e55=Q4d.pop();M1u=i8m.index_;if(T7i && M1u == (1092 >= (4412,1270)?8540 <= 7376?(5.74e+3,!!({})):728 <= 6702?0x1748:("g",!!({})):"^")){y8N.O$r(93);Q4d.push(y8N.v0q(9990 == +"467.57"?!0:",",e55,t7S,("468" * 1,"3654" - 0) > (8984,2740)?8892 >= 254?")":"c":(922.77,!0),"Math.pow("));}else {y8N.g33(93);Q4d.push(y8N.v0q(M1u,e55,t7S,2905 !== 3930?")":("A",147.43),(7923,"644.36" - 0) > 8380?!0:(109.28,9588) >= 3570?"(":+"3040" != (621.5,581.45)?(2.93e+2,0xb19):1.05e+3));}}else if(J6e === H6B){Q4d.push(i8m.index_);}else if(J6e === k6K){e55=Q4d.pop();M1u=i8m.index_;if(M1u === "-"){y8N.O$r(57);Q4d.push(y8N.b63(M1u,129 == (6420,+"2839")?("7730" - 0,428.65) > (5781,4869)?534:(88.38,"7650" * 1) <= 8090?0x667:"460.10" * 1:")",e55,(213,4000) == "1250" << 0?9700 > 7080?"T":2.89e+3:"("));}else {y8N.g33(57);Q4d.push(y8N.v0q("(",")",e55,M1u));}}else if(J6e === N1J){e55=Q4d.pop();M1u=Q4d.pop();y8N.g33(57);Q4d.push(y8N.v0q((7410,197.52) <= 6540?(3903,"7888" << 64) == +"9190"?+"3790" >= 5090?(0x21c4,389.57):121.96:"(":("609.30" - 0,"U"),6065 == (73.3,3849)?2.70e+3:(5280,461.27) !== "7001" * 1?7222 !== (8924,+"796")?")":(0x1c42,9.90e+3):(5.48e+3,0x2550),e55,M1u));}else {throw new Error("invalid Expression");}}if(Q4d.length > 1){throw new Error("invalid Expression (parity)");}y8N.g33(11);return Q4d[y8N.v0q(32,"0")];},variables:function(){var a0z,U8P,w8N;a0z=this.tokens.length;U8P=[];for(var O1f=0;O1f < a0z;O1f++){w8N=this.tokens[O1f];if(w8N.type_ === H6B && U8P.indexOf(w8N.index_) == -1){U8P.push(w8N.index_);}}return U8P;}},!!({}));function e1B(G2j,D4K){y8N.g33(17);y8N.m_N();return y8N.b63(D4K,G2j,"");}function F3Z(v_d,M0O){if(Object.prototype.toString.call(v_d) != "[object Array]"){return [v_d,M0O];}v_d=v_d.slice();y8N.Z7I();v_d.push(M0O);return v_d;}function l50(r5u,W2$){var v_e,W3b,k0I;v_e=-1444626061;W3b=-+"629106118";y8N.m_N();k0I=2;for(var s4V=1;y8N.D$s(s4V.toString(),s4V.toString().length,17881) !== v_e;s4V++){y8N.g33(94);return y8N.b63(W2$,r5u);}if(y8N.u7W(k0I.toString(),k0I.toString().length,68112) !== W3b){y8N.g33(95);return y8N.v0q(r5u,W2$);}}function Z1y(Z1f,x2R){y8N.O$r(3);y8N.Z7I();return y8N.v0q(Z1f,x2R);}function J2f(s0C){O0H.prototype=s0C;function O0H(){}return new O0H();}U1F.parse=function(i1D){y8N.Z7I();return new U1F().parse(i1D);};U1F.evaluate=function(C3O,H7h){return U1F.parse(C3O).evaluate(H7h);};function U1F(){this.success=!!"";this.errormsg="";this.expression="";this.pos=0;this.tokennumber=0;this.tokenprio=0;this.tokenindex=0;this.tmpprio=+"0";this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Z20,cosh:C5T,tanh:v3q,asinh:a18,acosh:H65,atanh:U3d,sqrt:Math.sqrt,log:Math.log,lg:G93,log10:G93,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:u67,"-":l5R,exp:Math.exp};this.ops2={"+":S3t,"-":D4F,"*":Z1y,"/":k$H,"%":g01,"^":Math.pow,",":F3Z,"||":e1B,"==":K_n,"!=":B1a,">":S0U,"<":i8l,">=":K6A,"<=":l50,and:C8o,or:V0T};this.functions={fac:Y7P,min:Math.min,max:Math.max,hypot:A6G,pyt:A6G,pow:Math.pow,atan2:Math.atan2,if:Y2z};this.consts={E:Math.E,PI:Math.PI};}U1F.Expression=e_T;function G93(d3y){y8N.m_N();return Math.log(d3y) * Math.LOG10E;}function B1a(C0z,N5b){y8N.O$r(96);return y8N.v0q(C0z,N5b);}U1F.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Z20,cosh:C5T,tanh:v3q,asinh:a18,acosh:H65,atanh:U3d,sqrt:Math.sqrt,log:Math.log,lg:G93,log10:G93,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:u67,fac:Y7P,exp:Math.exp,min:Math.min,max:Math.max,hypot:A6G,pyt:A6G,pow:Math.pow,atan2:Math.atan2,if:Y2z,E:Math.E,PI:Math.PI};function L$o(J_T){y8N.m_N();if(typeof J_T === "string"){y8N.O$r(11);c9a.lastIndex=y8N.b63(0,"0");return c9a.test(J_T)?((6942,1423) >= 1613?9400 > (255,763.74)?(4.57e+3,"0x89d" | 1):+"767.25":"'") + J_T.replace(c9a,function(b7U){var a1Q,L2f;a1Q="00";y8N.m_N();a1Q+="0";a1Q+="0";L2f=P8C[b7U];return typeof L2f === "string"?L2f:"\\u" + (a1Q + b7U.charCodeAt(0).toString(16)).slice(-4);}) + "'":((1862,7730) == 508?(16.51,"103.54" * 1) != (274.8,300)?966:2.65e+3:"'") + J_T + "'";}return J_T;}function C5T(G5B){return Math.cosh?Math.cosh(G5B):(Math.exp(G5B) + Math.exp(-G5B)) / 2;}y8N.O$r(97);F35=y8N.b63("1",0,0);function K6A(f3v,p1O){y8N.O$r(98);return y8N.v0q(f3v,p1O);}function S0U(j7F,r7X){y8N.g33(99);return y8N.v0q(r7X,j7F);}y8N.g33(100);b$m=y8N.b63(1,"1",0);function e_T(R_X,Q$0,w2f,c55){this.tokens=R_X;this.ops1=Q$0;y8N.Z7I();this.ops2=w2f;this.functions=c55;}function u67(U_Z){if(Math.trunc){return Math.trunc(U_Z);}y8N.Z7I();return U_Z < 0?Math.ceil(U_Z):Math.floor(U_Z);}function a18(G8a){if(Math.asinh){return Math.asinh(G8a);}if(G8a === -Infinity){return G8a;}return Math.log(G8a + Math.sqrt(G8a * G8a + 1));}function H65(a8A){y8N.Z7I();return Math.acosh?Math.acosh(a8A):Math.log(a8A + Math.sqrt(a8A * a8A - +"1"));}function C8o(w2x,g8S){y8N.Z7I();return Boolean(w2x && g8S);}function A6G(){y8N.Z7I();var D7P,H56;if(Math.hypot){return Math.hypot.apply(this,arguments);}D7P=0;H56=arguments.length;for(var S2S=0;S2S < H56;S2S++){if(arguments[S2S] === Infinity || arguments[S2S] === -Infinity){return Infinity;}D7P+=arguments[S2S] * arguments[S2S];}return Math.sqrt(D7P);}function Z65(P_M,Y5G,d$n,T6z){this.type_=P_M;this.index_=Y5G || 0;this.prio_=d$n || 0;this.number_=T6z !== undefined && T6z !== null?T6z:0;this.toString=function(){y8N.m_N();var w5S;switch(this.type_){case l_K:return this.number_;case k6K:case U1E:case H6B:return this.index_;case N1J:w5S="C";w5S+="ALL";return w5S;default:return "Invalid Token";}};}function U3d(i4$){return Math.atanh?Math.atanh(i4$):Math.log((1 + i4$) / (1 - i4$)) / 2;}y8N.g33(11);V7F=y8N.b63(2,1);y8N.O$r(101);u2$=y8N.b63("3",1,0);y8N.O$r(11);a3y=y8N.v0q(4,1);y8N.O$r(11);M6A=y8N.v0q(5,1);function i8l(s7x,b$O){y8N.m_N();y8N.O$r(95);return y8N.v0q(s7x,b$O);}y8N.g33(102);K74=y8N.v0q("6",1,1);y8N.g33(103);D65=y8N.b63("7",1);function Y2z(y1w,U6L,d$4){return y1w?U6L:d$4;}y8N.O$r(104);V6b=y8N.b63(64,"1",8);function S3t(l$o,w6b){var X_U,e25,s_q;X_U=-35744083;e25=931291082;y8N.m_N();s_q=2;for(var X3W=1;y8N.u7W(X3W.toString(),X3W.toString().length,5417) !== X_U;X3W++){return Number(l$o) * Number(w6b);}if(y8N.D$s(s_q.toString(),s_q.toString().length,11473) !== e25){return Number(l$o) * Number(w6b);}return Number(l$o) + Number(w6b);}function k$H(l0_,A5v){y8N.O$r(9);return y8N.b63(A5v,l0_);}N1L.extend(U1F.prototype,{parse:function(N_P){var k8P,F00,g_O,I5r,o6Z,n3R,z_p,i32,p9I,h54;this.errormsg="";this.success=!!1;k8P=[];y8N.m_N();F00=[];y8N.O$r(11);this.tmpprio=y8N.b63(0,"0");y8N.g33(105);g_O=y8N.b63(F35,V7F,K74,u2$);I5r=0;this.expression=N_P;this.pos=0;while(this.pos < this.expression.length){if(this.isOperator()){if(this.isSign() && g_O & K74){if(this.isNegativeSign()){y8N.O$r(11);this.tokenprio=y8N.v0q(32,"2");this.tokenindex=(8030,115.5) < (150.23,+"3950")?"-":("0x106c" << 96,9.16e+3);I5r++;this.addfunc(F00,k8P,k6K);}y8N.O$r(105);g_O=y8N.b63(F35,V7F,K74,u2$);}else if(this.isComment()){}else {if((g_O & b$m) === 0){this.error_parsing(this.pos,"unexpected operator");}I5r+=2;this.addfunc(F00,k8P,U1E);y8N.O$r(105);g_O=y8N.b63(F35,V7F,K74,u2$);}}else if(this.isNumber()){if((g_O & F35) === 0){this.error_parsing(this.pos,"unexpected number");}o6Z=new Z65(l_K,0,+"0",this.tokennumber);F00.push(o6Z);y8N.g33(106);g_O=y8N.b63(M6A,a3y,b$m);}else if(this.isString()){if((g_O & F35) === 0){this.error_parsing(this.pos,"unexpected string");}o6Z=new Z65(l_K,0,0,this.tokennumber);F00.push(o6Z);y8N.O$r(106);g_O=y8N.v0q(M6A,a3y,b$m);}else if(this.isLeftParenth()){if((g_O & u2$) === 0){this.error_parsing(this.pos,'unexpected "("');}if(g_O & D65){y8N.g33(3);I5r+=y8N.v0q("2",1);this.tokenprio=-2;this.tokenindex=-1;this.addfunc(F00,k8P,N1J);}y8N.g33(107);g_O=y8N.b63(V7F,K74,F35,V6b,u2$);}else if(this.isRightParenth()){if(g_O & V6b){o6Z=new Z65(l_K,0,0,[]);F00.push(o6Z);}else if((g_O & a3y) === 0){this.error_parsing(this.pos,'unexpected ")"');}y8N.O$r(107);g_O=y8N.v0q(M6A,u2$,b$m,D65,a3y);}else if(this.isComma()){if((g_O & M6A) === ("0" ^ 0)){n3R="unexpected ";n3R+="\",\"";this.error_parsing(this.pos,n3R);}this.addfunc(F00,k8P,U1E);y8N.O$r(3);I5r+=y8N.v0q("2",1);y8N.g33(105);g_O=y8N.v0q(F35,V7F,K74,u2$);}else if(this.isConst()){if((g_O & F35) === 0){this.error_parsing(this.pos,"unexpected constant");}z_p=new Z65(l_K,0,0,this.tokennumber);F00.push(z_p);y8N.O$r(106);g_O=y8N.b63(M6A,a3y,b$m);}else if(this.isOp2()){if((g_O & V7F) === 0){i32="unex";i32+="pecte";i32+="d funct";i32+="ion";this.error_parsing(this.pos,i32);}this.addfunc(F00,k8P,U1E);I5r+=2;g_O=u2$;}else if(this.isOp1()){if((g_O & V7F) === 0){this.error_parsing(this.pos,"unexpected function");}this.addfunc(F00,k8P,k6K);I5r++;g_O=u2$;}else if(this.isVar()){if((g_O & F35) === +"0"){this.error_parsing(this.pos,"unexpected variable");}p9I=new Z65(H6B,this.tokenindex,0,0);F00.push(p9I);y8N.O$r(107);g_O=y8N.v0q(M6A,u2$,b$m,D65,a3y);}else if(this.isWhite()){}else {if(this.errormsg === ""){this.error_parsing(this.pos,"unknown character");}else {this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio < 0 || this.tmpprio >= +"10"){this.error_parsing(this.pos,'unmatched "()"');}while(k8P.length > 0){h54=k8P.pop();F00.push(h54);}if(I5r + 1 !== F00.length){this.error_parsing(this.pos,"parity");}return new e_T(F00,J2f(this.ops1),J2f(this.ops2),J2f(this.functions));},evaluate:function(g0I,I3h){return this.parse(g0I).evaluate(I3h);},error_parsing:function(e0E,C6C){this.success=![];y8N.O$r(57);this.errormsg=y8N.b63(e0E,C6C,"]: ","parse error [column ");this.column=e0E;throw new Error(this.errormsg);},addfunc:function(a9v,w6c,I3a){var K7w;K7w=new Z65(I3a,this.tokenindex,this.tokenprio + this.tmpprio,0);while(w6c.length > "0" << 96){if(K7w.prio_ <= w6c[w6c.length - 1].prio_){a9v.push(w6c.pop());}else {break;}}w6c.push(K7w);},isNumber:function(){y8N.m_N();var h_V,i2T,M7g;h_V=!({});i2T="";while(this.pos < this.expression.length){M7g=this.expression.charCodeAt(this.pos);if(M7g >= +"48" && M7g <= 57 || M7g === 46){i2T+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(i2T);h_V=!0;}else {break;}}return h_V;},unescape:function(G48,X4z){var t1u,u9d,l9U,Y$K;t1u=[];u9d=!"1";for(var P_V=0;P_V < G48.length;P_V++){l9U=G48.charAt(P_V);if(u9d){switch(l9U){case (4368,7960) < "118" - 0?671.09:"'":t1u.push((1320,6748) <= (1704,7991)?(+"5900",268.13) < (3170,1340)?7200 != 3321?"'":(1.95e+2,5.40e+3):!!({}):239.75);break;case +"323.03" == 6227?(463.03,!!({})):(9325,60) > 154.43?!({}):"\\":t1u.push("\\");break;case (3495,"418.67" * 1) <= (4390,5660)?(743.26,6579) === (1816,2939)?(1651,429.08) === (1070,+"8880")?944.97:16.64:"/":(63.39,"k"):t1u.push((3650,4960) <= (509.38,9775)?"/":3.96e+3);break;case 298.71 > (7275,+"7550")?"e":"b":t1u.push("\b");break;case (3060,2940) == (824.8,4841)?0x19c9:"f":t1u.push("\f");break;case "n":t1u.push(9252 > (9662,1856)?"\n":46.88);break;case "r":t1u.push("\r");break;case "t":t1u.push(+"671.46" < 5480?830.06 >= 189.15?"\t":+"6.97e+3":("L",3.86e+2));break;case (7020,713.58) != (5090,9480)?6490 != +"7793"?"u":!({}):(2.88e+3,0xe9f):Y$K=parseInt(G48.substring(P_V + 1,P_V + 5),+"16");t1u.push(String.fromCharCode(Y$K));P_V+=4;break;default:y8N.g33(0);throw this.error_parsing(y8N.v0q(X4z,P_V),y8N.b63(559.09 < 899?(8646,1835) <= 3502?"'":("2.04" * 1,634) < (33.59,2450)?160.59:(1.74e+3,0x1d4):(226.99,0x15ce),l9U,"Illegal escape sequence: '\\",y8N.g33(17)));}u9d=!1;}else {if(l9U == (("325.19" - 0,8553) < 178.03?"k":(505.09,1550) == 801.6?437.04:"\\")){u9d=!!({});}else {t1u.push(l9U);}}}return t1u.join("");},isString:function(){y8N.Z7I();var U5L,J6B,B6d,k9Q;U5L=!"1";J6B="";B6d=this.pos;if(this.pos < this.expression.length && this.expression.charAt(this.pos) == "'"){this.pos++;while(this.pos < this.expression.length){k9Q=this.expression.charAt(this.pos);if(k9Q != "'" || J6B.slice(-1) == (3800 >= (617,4667)?(7.53e+3,839):"\\")){J6B+=this.expression.charAt(this.pos);this.pos++;}else {this.pos++;this.tokennumber=this.unescape(J6B,B6d);U5L=!!1;break;}}}return U5L;},isConst:function(){var R1R,m0f;for(var F26 in this.consts){if(!![]){m0f=F26.length;R1R=this.expression.substr(this.pos,m0f);if(F26 === R1R){this.tokennumber=this.consts[F26];this.pos+=m0f;return !![];}}}y8N.m_N();return ![];},isOperator:function(){var M2c;M2c=this.expression.charCodeAt(this.pos);if(M2c === 43){this.tokenprio=2;this.tokenindex="+";}else if(M2c === 45){this.tokenprio=2;this.tokenindex=6142 == 560.9?(3.48e+3,"B"):"-";}else if(M2c === 62){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;y8N.g33(11);this.tokenprio=y8N.v0q(32,"1");this.tokenindex=">=";}else {this.tokenprio=1;this.tokenindex=3859 !== 1220?62 != (7481,2710)?">":("c",0x8ed):(7.07e+3,!!"");}}else if(M2c === +"60"){if(this.expression.charCodeAt(this.pos + 1) === +"61"){this.pos++;y8N.g33(3);this.tokenprio=y8N.v0q("1",1);this.tokenindex="<=";}else {this.tokenprio=1;this.tokenindex="<";}}else if(M2c === 124){if(this.expression.charCodeAt(this.pos + 1) === 124){this.pos++;y8N.O$r(18);this.tokenprio=y8N.v0q(0,"1");this.tokenindex="||";}else {return !({});}}else if(M2c === 61){if(this.expression.charCodeAt(this.pos + 1) === "61" - 0){this.pos++;this.tokenprio=1;this.tokenindex="==";}else {return !1;}}else if(M2c === +"33"){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=+"1";this.tokenindex="!=";}else {return !!"";}}else if(M2c === 97){if(this.expression.charCodeAt(this.pos + 1) === 110 && this.expression.charCodeAt(this.pos + 2) === 100){this.pos++;this.pos++;this.tokenprio=0;this.tokenindex="and";}else {return ![];}}else if(M2c === "111" * 1){if(this.expression.charCodeAt(this.pos + 1) === 114){this.pos++;this.tokenprio=0;this.tokenindex="or";}else {return !!"";}}else if(M2c === "42" >> 32 || M2c === +"8729" || M2c === 8226){this.tokenprio=+"3";this.tokenindex=("1400" * 1,595.27) === 6520?0x12c0:"*";}else if(M2c === +"47"){this.tokenprio=4;this.tokenindex=("6250" << 0,750.63) < 470.73?6.06e+3:(687.57,422.62) == 3459?!!1:(1040,306.84) == (827.93,1264)?(802,!({})):"/";}else if(M2c === ("37" | 37)){this.tokenprio=4;this.tokenindex=+"987.49" !== (1570,8688)?8880 !== (353.19,"8936" - 0)?"%":("f",0x1e2f):"r";}else if(M2c === 94){this.tokenprio=5;this.tokenindex=(900.05,+"279.5") < 1848?"^":!!({});}else {return !({});}y8N.Z7I();this.pos++;return !![];},isSign:function(){var E2_;E2_=this.expression.charCodeAt(this.pos - +"1");if(E2_ === 45 || E2_ === 43){return !!"1";}return !!0;},isPositiveSign:function(){var l5V;l5V=this.expression.charCodeAt(this.pos - 1);if(l5V === 43){return !![];}return !1;},isNegativeSign:function(){var M$G;M$G=this.expression.charCodeAt(this.pos - 1);if(M$G === 45){return !!({});}return !({});},isLeftParenth:function(){var L9Q;L9Q=this.expression.charCodeAt(this.pos);if(L9Q === ("40" | 8)){this.pos++;this.tmpprio+=10;return !!"1";}return !!0;},isRightParenth:function(){var m2a;m2a=this.expression.charCodeAt(this.pos);if(m2a === +"41"){this.pos++;this.tmpprio-=10;return !0;}return !({});},isComma:function(){var Y7O;Y7O=this.expression.charCodeAt(this.pos);if(Y7O === 44){this.pos++;this.tokenprio=-1;this.tokenindex=",";return !![];}return !({});},isWhite:function(){var u3e;y8N.Z7I();u3e=this.expression.charCodeAt(this.pos);if(u3e === 32 || u3e === ("9" ^ 0) || u3e === 10 || u3e === 13){this.pos++;return !![];}return !!"";},isOp1:function(){var Y3P,F9j;Y3P="";for(var S6y=this.pos;S6y < this.expression.length;S6y++){F9j=this.expression.charAt(S6y);if(F9j.toUpperCase() === F9j.toLowerCase()){if(S6y === this.pos || F9j != "_" && (F9j < "0" || F9j > (428.24 != (3413,919.93)?(4496,1882) > (8380,88)?"9":(238.85,"5940" | 16) > 3690?!![]:"k":"0x941" | 1))){break;}}Y3P+=F9j;}if(Y3P.length > +"0" && (Y3P in this.ops1)){this.tokenindex=Y3P;this.tokenprio=5;this.pos+=Y3P.length;return !0;}return !!0;},isOp2:function(){var Q7i,s6w;Q7i="";for(var S8m=this.pos;S8m < this.expression.length;S8m++){s6w=this.expression.charAt(S8m);if(s6w.toUpperCase() === s6w.toLowerCase()){if(S8m === this.pos || s6w != (7954 < 8450?(+"181.41",371.55) > 180.47?"_":(1877,4260) < "6990" << 96?"e":(627.18,"U"):(0xc63,857.25)) && (s6w < ((565.6,8316) !== ("9254" ^ 0)?"0":+"1.39e+3") || s6w > (362.71 == (6796,6600)?(![],!!1):"9"))){break;}}Q7i+=s6w;}if(Q7i.length > 0 && (Q7i in this.ops2)){this.tokenindex=Q7i;this.tokenprio=5;this.pos+=Q7i.length;return !![];}return !"1";},isVar:function(){var e$7,G_d;e$7="";for(var Q33=this.pos;Q33 < this.expression.length;Q33++){G_d=this.expression.charAt(Q33);if(G_d.toUpperCase() === G_d.toLowerCase()){if(Q33 === this.pos || G_d != "_" && (G_d < (7463 < (9120,483.87)?(0x1e0e,!"1"):"0") || G_d > "9")){break;}}e$7+=G_d;}if(e$7.length > 0){this.tokenindex=e$7;this.tokenprio=4;this.pos+=e$7.length;return !![];}return !!0;},isComment:function(){var J_2,S18;y8N.m_N();J_2=this.expression.charCodeAt(this.pos - 1);if(J_2 === "47" - 0 && this.expression.charCodeAt(this.pos) === 42){S18="*";S18+="/";y8N.O$r(2);var j3R=y8N.b63(16,14);this.pos=this.expression.indexOf(S18,this.pos) + j3R;if(this.pos === "1" << 64){this.pos=this.expression.length;}return !!({});}return !"1";}},!![]);return U1F;};N1L.computeEquationChart=function(o6n,d94){var V3s,U0Z,b0q,A7Y,u5f,y9B,D9u,F1m,M_C,f5z,U7i,a7S,j5p,j4I,L9m,b4N,g_C,N6E,y_v,U4P,P9N,B8G,A0i,J3L;o6n=o6n.replace(/[:]/,"/");V3s=0;for(var H1K in d94){U0Z="\\";U0Z+="$";U0Z+="&";b0q="\\";b0q+="[";A7Y="\\";A7Y+="[";u5f=new RegExp(A7Y + H1K.replace(/\[/g,b0q).replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,U0Z) + "\\]","g");y8N.g33(0);o6n=o6n.replace(u5f,y8N.v0q("symbol",V3s));V3s++;}y9B=d5j().parse(o6n);D9u=[];F1m={};M_C=0;U7i=null;a7S=!"1";j5p=[];for(H1K in d94){j4I={sym:H1K,map:d94[H1K]};if(d94[H1K]){j5p.unshift(j4I);}else {j5p.push(j4I);}}function t6z(y8G){y8G.i++;if(d94[y8G.s]){if(y8G.i >= d94[y8G.s].length){return 0;}f5z=d94[y8G.s][y8G.i];}if(!f5z.DT){f5z.DT=N1L.strToDateTime(f5z.Date);}y8G.d=f5z.DT;return +"1";}function B$_(){var T5W,t19;T5W=null;t19=null;for(var w26 in F1m){if(!t19){t19=F1m[w26];}else if(F1m[w26].d.getTime() < t19.d.getTime()){T5W=t19=F1m[w26];}else if(F1m[w26].d.getTime() > t19.d.getTime()){T5W=t19;}}if(T5W){if(!t6z(T5W)){y8N.O$r(3);return y8N.b63("0",1);}return -1;}return 1;}for(var W3r=0;W3r < j5p.length;W3r++){L9m=j5p[W3r];F1m[L9m.sym]={i:0,s:L9m.sym};if(L9m.map){M_C++;f5z=L9m.map[0];}else if(M_C == 1){a7S=L9m.sym;}if(!f5z.DT){f5z.DT=N1L.strToDateTime(f5z.Date);}F1m[L9m.sym].d=f5z.DT;if(!U7i){U7i=F1m[L9m.sym];}}y8N.g33(108);b4N=y8N.b63(0,M_C);g_C=M_C == 1 && o6n.indexOf(231 < (122.79,8410)?"%":+"0x1846") == -1;a:while(!0){N6E=B$_();if(!N6E)break;if(N6E == 1){if(a7S){U4P=d94[U7i.s][U7i.i][a7S];if(U4P && (U4P.Close || U4P.Close === 0)){U4P=U4P.Close;}P9N=y9B.evaluate({symbol0:d94[U7i.s][U7i.i].Close,symbol1:U4P});P9N=Number(P9N.toFixed(+"8"));y_v={DT:U7i.d,Close:P9N,Adj_Close:P9N};y_v[U7i.s]=d94[U7i.s][U7i.i].Close;if(!isNaN(P9N) && P9N != Infinity){D9u.push(y_v);}}else if(b4N){B8G=y9B.evaluate({});y8N.O$r(17);N1L.alert(y8N.b63(B8G,(723.2,7370) < 1100?(!"","S"):"=",o6n));throw {name:"NoException",message:""};}else {V3s=+"0";A0i={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(H1K in d94){for(var s6t in A0i){J3L="s";J3L+="ym";J3L+="bo";J3L+="l";y8N.g33(0);A0i[s6t][y8N.v0q(J3L,V3s)]=d94[H1K][F1m[H1K].i][s6t];}V3s++;}y_v={DT:U7i.d};y_v.Adj_Close=y9B.evaluate(A0i.Adj_Close);y_v.Close=y9B.evaluate(A0i.Close);y_v.Open=y9B.evaluate(A0i.Open);y_v.Volume=y9B.evaluate(A0i.Volume);if(isNaN(y_v.Volume)){y_v.Volume=0;}if(g_C){y_v.High=y9B.evaluate(A0i.High);y_v.Low=y9B.evaluate(A0i.Low);}else {y_v.High=Math.max(y_v.Open,y_v.Close);y_v.Low=Math.min(y_v.Open,y_v.Close);}if(!isNaN(y_v.Close) && y_v.Close != Infinity){D9u.push(y_v);}if(!isNaN(y_v.High)){y_v.High=Number(y_v.High.toFixed(8));}if(!isNaN(y_v.Low)){y_v.Low=Number(y_v.Low.toFixed(8));}if(!isNaN(y_v.Open)){y_v.Open=Number(y_v.Open.toFixed("8" - 0));}if(!isNaN(y_v.Close)){y_v.Close=Number(y_v.Close.toFixed(+"8"));}if(!isNaN(y_v.Adj_Close)){y_v.Adj_Close=Number(y_v.Adj_Close.toFixed(8));}else {y_v.Adj_Close=y_v.Close;}}for(H1K in d94){if(!t6z(F1m[H1K]))break a;}}}return D9u;};};X=i4b=>{var A5y;A5y=typeof _CIQ !== "undefined"?_CIQ:i4b.CIQ;A5y.ChartEngine.prototype.addEvent=function(b6s,u$9,E_x){var j$H=o1YMc;if(!b6s){return;}var {chart:o1I}=this;u$9=u$9 || ({});j$H.m_N();u$9.isEvent=!!"1";if(!u$9.processResults){u$9.processResults=this.processEventResults;}if(!u$9.takedownResults){u$9.takedownResults=this.takedownEventResults;}u$9.responseHandler=q5M=>{j$H.Z7I();return J2H=>{var v_u,c0k;v_u=o1I.series[b6s];var {quotes:t$u}=J2H;if(!t$u || !t$u.length){return;}if(!J2H.error){v_u.loading=!({});v_u.moreAvailable=J2H.moreAvailable;v_u.upToDate=J2H.upToDate;}c0k=[J2H.beginDate || t$u[0].DT,J2H.endDate || t$u[t$u.length - 1].DT];if(!v_u.endPoints.begin || v_u.endPoints.begin > c0k[0]){v_u.endPoints.begin=c0k[0];}if(!v_u.endPoints.end || v_u.endPoints.end < c0k[1]){j$H.g33(46);v_u.endPoints.end=c0k[j$H.b63(0,"1")];}if(v_u.parameters.processResults){v_u.parameters.processResults(this,J2H.error,v_u,t$u);}};};this.addSeries(b6s,u$9,E_x);};A5y.ChartEngine.prototype.processEventResults=function(L9o,Z7K,K0Z,E4t){o1YMc.m_N();if(!Z7K && A5y.Marker){for(var p6E of E4t){if(p6E.data){p6E.data.type=K0Z.id;A5y.Marker({stx:L9o,label:K0Z.id,x:p6E.DT,node:new A5y.Marker.Simple(p6E.data)});}}}};A5y.ChartEngine.prototype.takedownEventResults=function(f4d,q2i){o1YMc.m_N();if(A5y.Marker){A5y.Marker.removeByLabel(f4d,q2i);}};o1YMc.Z7I();A5y.ChartEngine.prototype.removeEvent=function(P5Q){this.removeSeries(P5Q);};A5y.ChartEngine.prototype.removeAllEvents=function(){var {series:D3J}=this.chart;if(D3J){for(var F_E in D3J){if(D3J[F_E].parameters.isEvent){this.removeEvent(F_E);}}}};};m$=h5T=>{var k4D=o1YMc;var r8U,d87;r8U="e";r8U+="n";d87=typeof _CIQ !== "undefined"?_CIQ:h5T.CIQ;d87.ChartEngine.prototype.setLocale=function(d9y,h5P){var J7Y,x8H,V0w,q1C,l_g,v2f,i4z,P4N,c_w,N6q,k19,C6r,P2A,b7F;J7Y="nume";J7Y+="r";J7Y+="ic";x8H="nu";x8H+="me";x8H+="ri";x8H+="c";V0w="num";V0w+="eric";q1C="2";q1C+="-dig";q1C+="it";l_g="2-";l_g+="di";l_g+="gi";l_g+="t";k4D.m_N();v2f="2";v2f+="-";v2f+="d";v2f+="igit";i4z="h";i4z+="23";P4N="h";P4N+="2";P4N+="3";c_w="n";c_w+="umeric";if(typeof Intl == "undefined"){return;}if(this.locale != d9y){this.locale=d9y;}else {return;}k19=this.internationalizer={};k19.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:c_w,minute:"numeric",hourCycle:P4N});k19.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:i4z});k19.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:v2f,day:"2-digit",hour:l_g,minute:q1C});k19.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"});k19.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:V0w,month:"numeric",day:"numeric"});k19.yearMonth=new Intl.DateTimeFormat(this.locale,{year:x8H,month:J7Y});k19.month=new Intl.DateTimeFormat(this.locale,{month:"short"});k19.numbers=new Intl.NumberFormat(this.locale);k19.priceFormatters=[];if(!h5P){h5P=8;}for(N6q=0;N6q < h5P + "1" * 1;N6q++){k19.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:N6q,minimumFractionDigits:N6q}));}for(N6q=0;N6q < 5;N6q++){C6r="per";C6r+="c";C6r+="ent";P2A=N6q;b7F=N6q;if(!N6q){P2A="";b7F=2;}k4D.g33(0);k19[k4D.v0q("percent",P2A)]=new Intl.NumberFormat(this.locale,{style:C6r,minimumFractionDigits:b7F,maximumFractionDigits:b7F,signDisplay:"exceptZero"});}if(d87.I18N.createMonthArrays){d87.I18N.createMonthArrays(this,k19.month,this.locale);}};d87.ChartEngine.prototype.translateUI=function(I6e){k4D.m_N();if(d87.I18N.localized){d87.I18N.translateUI(this.preferences.language,I6e);}};d87.I18N=function(){};d87.I18N.hereDoc=function(W0k){k4D.m_N();return W0k.toString().replace(/^[^/]+\/\*!?/,"").replace(/ {4,10}/g,"").replace(/\*\/[^/]+$/,"");};d87.I18N.language=r8U;d87.I18N.longMonths={zh:!!({})};d87.I18N.reverseColorsByLocale={};k4D.m_N();d87.I18N.findAllTextNodes=function(V3X){var C8g,u8p,S9r,m1V,p_P,h8f,L1o,w2U,Z62,u90,P1g,V9V,w_X,a_z;if(!V3X){V3X=document.body;}C8g=V3X.ownerDocument.createTreeWalker(V3X,NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT,{acceptNode(O$W) {k4D.m_N();if(O$W.nodeType === Node.TEXT_NODE || O$W.shadowRoot || O$W.placeholder){return NodeFilter.FILTER_ACCEPT;}return NodeFilter.FILTER_SKIP;}});u8p=C8g.nextNode();S9r=new RegExp("^\\s*$");m1V=new RegExp("\n|\t|\f",(40.39,482.25) != (1816,7350)?"g":(0x1fa3,!""));p_P={};h8f={SCRIPT:!!1,STYLE:!![],TEXTAREA:!!({}),"CQ-SYMBOL":!!({})};while(u8p){if(u8p.shadowRoot){w2U=d87.I18N.findAllTextNodes(u8p.shadowRoot);for(var g0s in w2U){if(!p_P[g0s]){p_P[g0s]=[];}p_P[g0s]=p_P[g0s].concat(w2U[g0s]);}}Z62=u8p.nodeValue;if(Z62 && !S9r.test(Z62)){u90=u8p.parentNode;if(!h8f[u90.tagName] && !u90.matches("[no-translate]")){L1o=u90.getAttribute("cq-translate-original");if(L1o){Z62=L1o;}else {u90.setAttribute("cq-translate-original",Z62);}if(m1V.test(Z62)){Z62=Z62.replace(m1V,"");}if(!p_P[Z62]){p_P[Z62]=[];}p_P[Z62].push(u8p);}}Z62=u8p.placeholder;if(Z62 && !S9r.test(Z62)){if(!h8f[u8p.tagName]){P1g="cq";P1g+="-translate-placeh";P1g+="older-origin";P1g+="al";V9V="cq-transla";V9V+="te-";V9V+="pla";V9V+="ceholder-original";L1o=u8p.getAttribute(V9V);if(L1o){Z62=L1o;}else {u8p.setAttribute(P1g,Z62);}if(!p_P[Z62]){p_P[Z62]=[];}p_P[Z62].push(u8p);}}if(u8p.tagName && h8f[u8p.tagName]){u8p=C8g.nextSibling();}else {u8p=C8g.nextNode();}}if(V3X == document.body){w_X=d87.Studies?d87.Studies.studyLibrary:null;if(w_X){for(var r55 in w_X){if(p_P[r55] === null){p_P[r55]=[];}a_z=w_X[r55];if(a_z.inputs){for(var l12 in a_z.inputs){if(!p_P[l12]){p_P[l12]=[];}}}if(a_z.outputs){for(var V_q in a_z.outputs){if(!p_P[V_q]){p_P[V_q]=[];}}}}}}return p_P;};d87.I18N.missingWordList=function(C9q){var B0x,R9g,j3q,m2V,C0X,I3Q,f3M,Z0n;B0x="Y";B0x+="-Axis";R9g="P";R9g+="anel";if(!C9q){C9q=d87.I18N.language;}j3q=d87.I18N.findAllTextNodes();m2V={};C0X=d87.I18N.wordLists[C9q];if(!C0X){C0X={};}I3Q=function(j46){k4D.m_N();if(typeof C0X[j46] == "undefined"){m2V[j46]="";}};for(var g$y in j3q){I3Q(g$y);}if(!(d87.Studies && d87.Studies.studyLibrary)){return m2V;}for(var R6p in d87.Studies.studyLibrary){f3M=d87.Studies.studyLibrary[R6p];I3Q(f3M.name);for(var U3B in f3M.inputs){I3Q(U3B);Z0n=f3M.inputs[U3B];switch(Object.prototype.toString.call(Z0n)){case "[object String]":I3Q(Z0n);break;case "[object Array]":for(var b8m=0;b8m < Z0n.length;++b8m){I3Q(Z0n[b8m]);}break;}}for(var p7w in f3M.outputs){I3Q(p7w);}}I3Q("Show Zones");I3Q("OverBought");I3Q("OverSold");k4D.m_N();I3Q(R9g);I3Q("Show as Underlay");I3Q(B0x);I3Q("Invert Y-Axis");return m2V;};d87.I18N.printableMissingWordList=function(b5w){var S5O;S5O=JSON.stringify(d87.I18N.missingWordList(b5w));S5O=S5O.replace(/","/g,'",\n"');return S5O;};d87.I18N.translateUI=function(D0d,s9f){var x06,b8E,H$P,Z1_,s0l,b6J,i5z,N32,O6Z,d7R,c7z,E_R;if(D0d == "pu"){D0d="pt";}if(!d87.I18N.wordLists){return;}if(!D0d){D0d=d87.I18N.language;}x06=d87.I18N.findAllTextNodes(s9f);b8E=d87.I18N.wordLists[D0d];k4D.Z7I();if(!b8E){return;}for(var x78 in x06){H$P=d87.I18N.translateSections(x78,b8E);Z1_=x06[x78];for(var b6H=0;b6H < Z1_.length;b6H++){s0l=Z1_[b6H];b6J=s0l.parentNode;i5z=s0l.placeholder?s0l.getAttribute("cq-translate-placeholder-original"):b6J.getAttribute("cq-translate-original");if(H$P === (4479 >= 997.27?",":(0x5e2,"0xcf9" - 0)) || !H$P){H$P=i5z;}if(s0l.placeholder){s0l.placeholder=H$P;}else {s0l.data=H$P;}}}N32=o2A(s9f);for(var B3I in N32){O6Z=d87.I18N.translateSections(B3I,b8E);d7R=N32[B3I];for(var P8X of d7R){c7z="ari";c7z+="a-label-origina";c7z+="l";E_R=P8X.getAttribute(c7z);if(O6Z === ((564.22,4811) != (2250,5700)?",":3920 < 1680?(![],"P"):("o",2.93e+3)) || !O6Z){O6Z=E_R;}P8X.setAttribute("aria-label",O6Z);}}function o2A(U8w){return Array.from((U8w || document).querySelectorAll("[aria-label]")).reduce((Y5L,F6m)=>{var x6d,Y2s;x6d="ari";x6d+="a-label-original";if(!F6m.getAttribute(x6d)){F6m.setAttribute("aria-label-original",F6m.getAttribute("aria-label"));}Y2s=F6m.getAttribute("aria-label-original");Y5L[Y2s]=(Y5L[Y2s] || []).concat(F6m);return Y5L;},{});}};d87.I18N.translate=function(O6w,U$q){var I0_,h2n;if(!U$q){U$q=d87.I18N.language;}if(!d87.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return O6w;}I0_=d87.I18N.wordLists[U$q];h2n=null;if(I0_){h2n=d87.I18N.translateSections(O6w,I0_) || O6w;}return h2n === ((239,14.46) != 9530?(812.16,691.94) === (136.74,980.7)?(692.68,"z"):",":("X",2.18e+3))?O6w:h2n;};d87.I18N.translateSections=function(Q6u,p_w){var C$7,Z$O;C$7=(1007,6410) != (8160,303.31)?4370 <= (9342,8130)?"\u200c":0x484:(!![],+"0x241d");if(typeof Q6u == "string" && Q6u.indexOf(C$7) != -1){k4D.O$r(17);Q6u=Q6u.replace(/([(),])/g,k4D.b63(C$7,"$1",C$7));Z$O=Q6u.split(C$7);Z$O.forEach(function(y1J,w_M,Q8K){var D9q,C_9;D9q=y1J.match(/^(\s*).{0,100}\S(\s*)$/);k4D.m_N();C_9=p_w[y1J.trim()];if(C_9){if(D9q){k4D.g33(109);var d6G=k4D.b63(11,7,8,4,3);k4D.g33(110);var p1d=k4D.b63(14,362,12,14);C_9=D9q[d6G] + C_9 + D9q[p1d];}Q8K[w_M]=C_9;}});return Z$O.join("");}return p_w[Q6u];};d87.I18N.csv=d87.I18N.csv || "";d87.I18N.convertCSV=function(y2h){var q7Q,Z34,G2T,Z31,T0x,U3X,r1A,q3y,h1o,k0E,S3i;q7Q=new RegExp("[\u201C\u201D]|[\u2018\u2019]","5398" * 1 === 213.75?!!({}):("8758" - 0,6259) <= (7513,133.75)?1740 !== ("511" | 20)?(849.89,!!"1"):(!!"1",142.71):"g");Z34=d87.I18N.wordLists;k4D.m_N();if(!y2h){y2h=d87.I18N.csv;}if(!y2h){return;}G2T=y2h.split(605.59 === (341.02,2440)?(9.04e+3,"K"):"\n");Z31=G2T[0];T0x=Z31.split(",");for(var T5n="0" >> 0;T5n < T0x.length;T5n++){U3X=T0x[T5n];if(!Z34[U3X]){Z34[U3X]={};}}for(var m_W=1;m_W < G2T.length;m_W++){r1A=G2T[m_W].match(/(".{0,1000}?"|[^",]{1,1000})(?=\s{0,100},|\s{0,100}$)|(,(?=,))/g) || [];q3y=r1A[0];h1o=q3y.charAt(0);k0E=q3y.charAt(q3y.length - 1);if(h1o === '"' && k0E === '"'){q3y=q3y.substring(1,q3y.length - 1);}if(q7Q.test(q3y)){q3y=q3y.replace(q7Q,(3456,914.68) !== +"35.75"?'"':0x735);}for(var a7y=1;a7y < r1A.length;a7y++){S3i=r1A[a7y];h1o=S3i.charAt(0);k0E=S3i.charAt(S3i.length - 1);if(h1o === ((2520,+"9760") > 7860?'"':7459 <= (375.24,77.38)?"k":"0x1ebb" * 1) && k0E === ((40.1,5070) <= 566.25?(8790,3700) !== (+"4280",6870)?9.10e+2:(0x1b0,385.45):'"')){S3i=S3i.substring(1,S3i.length - 1);}Z34[T0x[a7y]][q3y]=S3i;}}};d87.I18N.setLanguage=function(A$G,t__,l_9,w3S,N$4){var J$R;J$R="p";J$R+="t";if(!N$4){N$4=(A$G.uiContext || ({})).topNode || document.body;}if(t__ == "pu"){t__=J$R;}d87.I18N.convertCSV(w3S);d87.I18N.language=t__;d87.I18N.translateUI(t__,N$4);if(!l_9){l_9=d87.I18N.translate;}A$G.translationCallback=l_9;};d87.I18N.setLocale=function(a8C,b4b,J8c,G7H,a6L){var q2g,Y6f,M4e,Y5P;q2g="sc";q2g+="ript";k4D.Z7I();if(d87.xor(this.reverseColorsByLocale[b4b],this.reverseColorsByLocale[a8C.locale])){this.reverseCandles(a8C);}if(typeof Intl == "undefined" || !Intl.__addLocaleData){a8C.setLocale(b4b,a6L);if(J8c){J8c(null);}return;}G7H=typeof G7H == "undefined"?"locale-data/jsonp":G7H;k4D.g33(57);Y6f=k4D.b63((450.66,8979) >= (+"9560",1760)?"/":(0x1711,3.97e+3),".js",b4b,G7H);M4e=document.createElement("SCRIPT");M4e.async=!![];M4e.src=Y6f;Y5P=document.getElementsByTagName(q2g)[0];Y5P.parentNode.insertBefore(M4e,Y5P.nextSibling);M4e.onload=function(){k4D.Z7I();a8C.setLocale(b4b,a6L);if(J8c){J8c(null);}};M4e.onerror=function(){var m9p;m9p="can";m9p+="not";k4D.Z7I();m9p+=" load scrip";m9p+="t";if(J8c){J8c(m9p);}};};d87.I18N.createMonthArrays=function(B7$,y38,S57){var s0z,J_u,W6Z,X9I,a64,X$p;B7$.monthAbv=[];B7$.monthLetters=[];s0z=new Date();J_u=!!({});if(d87.I18N.longMonths && d87.I18N.longMonths[S57]){J_u=!1;}for(var E0c=0;E0c < 12;E0c++){s0z.setDate(+"1");s0z.setMonth(E0c);W6Z=y38.format(s0z);if(J_u){X9I="";for(var o6H=0;o6H < W6Z.length;o6H++){a64=W6Z.charAt(o6H);X$p=a64.charCodeAt(0);if(X$p < 65)continue;X9I+=a64;}B7$.monthAbv[E0c]=X9I;B7$.monthLetters[E0c]=X9I[0];}else {B7$.monthAbv[E0c]=W6Z;B7$.monthLetters[E0c]=W6Z;}}};d87.I18N.localize=function(v9f,m2r){k4D.m_N();m2r=this.langConversionMap[m2r] || m2r;this.setLocale(v9f,m2r);this.setLanguage(v9f,m2r);d87.I18N.localized=!!"1";};d87.I18N.reverseCandles=function(E$I){k4D.Z7I();var R7q,o2I,N$6;R7q=E$I.styles;o2I=E$I.cloneStyle(R7q.stx_candle_down);N$6=E$I.cloneStyle(R7q.stx_candle_up);R7q.stx_candle_up=o2I;R7q.stx_candle_down=N$6;};d87.I18N.wordLists={en:{}};d87.I18N.languages={en:"English"};d87.I18N.langConversionMap={};d87.I18N.localized=!"1";};U6=Q9L=>{var B4X=o1YMc;var a$1,J3o,k3K,T0Y,S01,K8X,z86;a$1="<di";a$1+="v class=\"stx-baseline-handle\" style=\"display: none;";a$1+="\"></div>";J3o="<div class=\"stx-panel-control\"><div class=\"stx-panel-title\"></div><div class=\"stx-panel-legend\"></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-up\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-focus\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-down\"></span></div><div class=\"stx-btn-panel\"><span class=\"stx-ico-edit\"></span></div><div class=\"s";J3o+="tx-btn-panel\"><span class=\"stx-ico-close\"></span></div></div>";k3K="<div class=\"stx-ico-handle\" style=\"display: n";k3K+="one;\"><span></span";k3K+="></div> ";T0Y="<div c";T0Y+="la";T0Y+="ss=\"stx_jump_today\" role=\"button\" aria-label=\"Home\" style=\"display:none\"><span><";T0Y+="/span></div>";S01="u";S01+="ndefined";K8X=typeof _CIQ !== S01?_CIQ:Q9L.CIQ;K8X.ChartEngine.prototype.pointerEvents={down:[],up:[]};K8X.ChartEngine.prototype.manageTouchAndMouse=!!({});K8X.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var u5l,v74,o8R,g7q,d_B,x8c,C_S,g7g,c8L,J4P,I7u,A5f;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!({});u5l=this.controls.chartControls || document;v74=u5l.querySelector(".stx-zoom-in");o8R=u5l.querySelector(".stx-zoom-out");g7q=this.chart.container;d_B=this;x8c=function(A4r,N6y,q9l){d_B.addDomEventListener(g7q,A4r,E8$,q9l);function E8$(d$o){B4X.Z7I();if(d_B.mainSeriesRenderer.nonInteractive){return;}N6y(d$o);}};if(!K8X.touchDevice){C_S="m";C_S+="o";C_S+="use";C_S+="up";g7g="mous";g7g+="em";g7g+="ov";g7g+="e";x8c(g7g,function(W4L){B4X.m_N();d_B.mousemove(W4L);});x8c("mouseenter",function(S0T){d_B.mousemove(S0T);});x8c("mousedown",function(O41){d_B.mousedown(O41);});x8c(C_S,function(j$n){d_B.mouseup(j$n);});}else {if(K8X.isSurface){c8L="p";c8L+="oi";c8L+="nterent";c8L+="er";J4P="mous";J4P+="e";J4P+="dow";J4P+="n";x8c("mousemove",function(p_n){B4X.Z7I();d_B.msMouseMoveProxy(p_n);});x8c("mouseenter",function(q9D){B4X.m_N();d_B.msMouseMoveProxy(q9D);});x8c(J4P,function(V$O){d_B.msMouseDownProxy(V$O);});x8c("mouseup",function(K0H){B4X.m_N();d_B.msMouseUpProxy(K0H);});x8c("pointerdown",function(O1n){return d_B.startProxy(O1n);});x8c("pointermove",function(G3S){B4X.m_N();d_B.moveProxy(G3S);});x8c(c8L,function(M6L){B4X.m_N();return d_B.moveProxy(M6L);});x8c("pointerup",function(I_c){B4X.Z7I();return d_B.endProxy(I_c);});}else {if(!K8X.isMobile){I7u="m";I7u+="ousedo";I7u+="wn";x8c("mousemove",function(F0g){B4X.Z7I();d_B.iosMouseMoveProxy(F0g);});x8c("mouseenter",function(b6K){B4X.Z7I();d_B.iosMouseMoveProxy(b6K);});x8c(I7u,function(J5a){B4X.m_N();d_B.iosMouseDownProxy(J5a);});x8c("mouseup",function(y4v){d_B.iosMouseUpProxy(y4v);});}x8c("touchstart",function(b3s){B4X.Z7I();d_B.touchstart(b3s);},{passive:!({})});x8c("touchmove",function(B7S){d_B.touchmove(B7S);},{passive:![]});x8c("touchend",function(f1h){d_B.touchend(f1h);});x8c("pointerdown",function(b2i){d_B.touchPointerType=b2i.pointerType;});}}A5f=K8X.wheelEvent;if(this.captureMouseWheelEvents){x8c(A5f,function(G2x){B4X.m_N();d_B.mouseWheel(G2x);},{passive:![]});}};K8X.ChartEngine.prototype.mousedown=function(E_B){var R_P,D_K,a$i,S5v,A3p,E$m,U0y;R_P="mo";R_P+="use";R_P+="d";R_P+="own";if(this.runPrepend(R_P,arguments)){return;}this.grabOverrideClick=!({});if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(E_B.target && E_B.target.closest("[draggable]")){return;}if(E_B.button && E_B.button >= 2){return;}D_K=this.container.getBoundingClientRect();this.top=D_K.top;this.left=D_K.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(E_B.clientX >= this.left && E_B.clientX <= this.right && E_B.clientY >= this.top && E_B.clientY <= this.bottom){this.insideChart=!![];}else {this.insideChart=![];return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse && E_B && E_B.preventDefault && this.captureTouchEvents){E_B.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!!"";this.hasDragged=!"1";this.userPointerDown=!0;if(this.openDialog === ""){this.registerPointerEvent({x:E_B.clientX,y:E_B.clientY,time:this.mouseTimer},"down");}var {chart:N75}=this.currentPanel;for(var A3V=0;A3V < this.drawingObjects.length;A3V++){a$i=this.drawingObjects[A3V];if(a$i.highlighted && !a$i.permanent){if(this.cloneDrawing){S5v=K8X.ChartEngine.drawingTools[a$i.name];A3p=new S5v();A3p.reconstruct(this,a$i.serialize());this.drawingObjects.push(A3p);this.activateRepositioning(A3p);A3p.repositioner=a$i.repositioner;return;}E$m=this.currentVectorParameters.vectorType;if(!K8X.Drawing || !E$m || !K8X.Drawing[E$m] || !new K8X.Drawing[E$m]().dragToDraw){this.activateRepositioning(a$i);return;}}}var {anchorHandles:Y2X}=this.controls;if(Y2X){for(var d$3 in Y2X){var {handle:O$2, sd:p$i, highlighted:Q6A}=Y2X[d$3];if(Q6A){U0y="s";U0y+="tx-grab";this.repositioningAnchorSelector={sd:p$i};O$2.classList.add(U0y);return;}}}if(this.drawingClick){if(this.currentPanel.subholder === E_B.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing && this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!![];N75.spanLock=![];this.yToleranceBroken=!!"";this.grabStartX=E_B.clientX;this.grabStartY=E_B.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=N75.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPanel=this.currentPanel;setTimeout((function(j6A){return function(){j6A.grabbingHand();};})(this),100);if(this.swipeStart){this.swipeStart(N75);}if(this.longHoldTime || this.longHoldTime === ("0" | 0)){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};K8X.ChartEngine.prototype.mousemove=function(c_7){var I8L;I8L=c_7;K8X.ChartEngine.crosshairX=I8L.clientX;K8X.ChartEngine.crosshairY=I8L.clientY;if(I8L.type.toLowerCase().indexOf("enter") > -1){this.positionCrosshairsAtPointer();return;}if(this.runPrepend("mousemove",arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(this.grabbingScreen && I8L.buttons !== ("1" | 1)){this.cancelLongHold=!!1;this.displayDragOK();this.grabbingScreen=!1;this.findHighlights(!"1",!!({}));}this.mousemoveinner(I8L.clientX,I8L.clientY);this.runAppend("mousemove",arguments);};B4X.m_N();K8X.ChartEngine.prototype.mouseup=function(w7q){var R9X,X91,R6B,O4K,T6U,z$n,T5I,U$Y,m52,o5l,i4B,k6R,u5M,b9I,q1h;R9X="u";R9X+="p";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!"";this.cancelLongHold=!![];if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > ("250" ^ 0)){this.changeOccurred("vector");K8X.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningAnchorSelector){var {sd:W5Y}=this.repositioningAnchorSelector;K8X.Studies.repositionAnchor(this,W5Y);if(this.controls.anchorHandles[W5Y.uniqueId]){this.repositioningAnchorSelector=null;this.controls.anchorHandles[W5Y.uniqueId].highlighted=![];K8X.Studies.displayAnchorHandleAndLine(this,W5Y,this.chart.dataSegment);Object.values(this.controls.anchorHandles || ({})).forEach(({handle:c4n})=>{var m0I;m0I="st";m0I+="x-gra";m0I+="b";return c4n.classList.remove(m0I);});this.findHighlights();}return;}X91=this.userPointerDown;this.userPointerDown=!!"";if(!this.displayInitialized){return;}B4X.m_N();R6B=this.backOutY(w7q.clientY);O4K=this.backOutX(w7q.clientX);T6U=w7q.button && w7q.button >= 2;z$n=this.openDialog !== "";if(!z$n && !T6U){this.registerPointerEvent({x:w7q.clientX,y:w7q.clientY,time:Date.now()},R9X);}this.grabbingScreen=!!"";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(O4K,R6B);}this.currentPanel=this.whichPanel(R6B);}T5I=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog !== ""){U$Y="s";U$Y+="tx";U$Y+="-dr";U$Y+="ag-chart";if(this.insideChart){this.container.classList.remove(U$Y);}return;}if(this.grabOverrideClick){if(!this.overXAxis && !this.overYAxis && this.swipeRelease){this.swipeRelease();}this.container.classList.remove("stx-drag-chart");this.grabOverrideClick=!({});this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove("stx-drag-chart");}if(K8X.ChartEngine.resizingPanel){this.releaseHandle();return;}if(T6U || w7q.ctrlKey){m52="right";m52+="Click";if(this.anyHighlighted && this.bypassRightClick !== !![]){this.rightClickHighlighted();if(w7q.preventDefault && this.captureTouchEvents){w7q.preventDefault();}o5l=-451245955;i4B=-246145248;k6R=2;for(var P2q=1;B4X.u7W(P2q.toString(),P2q.toString().length,+"82273") !== o5l;P2q++){w7q.stopPropagation();return !"";}if(B4X.u7W(k6R.toString(),k6R.toString().length,61461) !== i4B){w7q.stopPropagation();return !!"";}w7q.stopPropagation();return !({});}this.dispatch(m52,{stx:this,panel:T5I,x:O4K,y:R6B});return !"";}if(w7q.clientX < this.left || w7q.clientX > this.right){return;}if(w7q.clientY < this.top || w7q.clientY > this.bottom){return;}u5M=T5I && T5I.subholder === w7q.target;if(this.isDoubleClick() && (u5M || this.overYAxis || this.overXAxis)){this.doubleClick(w7q.button,O4K,R6B);this.resetClickState();}else {if(X91 && u5M){if(!this.longHoldTookEffect || this.activeDrawing){this.drawingClick(T5I,O4K,R6B);}if(!this.longHoldTookEffect && this.activeMarker){this.activeMarker.click({cx:O4K,cy:R6B,panel:T5I});}}if(!this.longHoldTookEffect && !this.activeDrawing){b9I="t";b9I+="a";b9I+="p";q1h=!!({});if(this.anyHighlighted && this.leftClickPinTooltip && this.allowPinning && this.highlightedPlot && this.allowPinning(this.highlightedPlot.type)){q1h=!this.leftClickPinTooltip({cx:O4K,cy:R6B});}if(q1h){this.dispatch(b9I,{stx:this,panel:T5I,x:O4K,y:R6B});}}}this.runAppend("mouseup",arguments);};K8X.ChartEngine.prototype.registerPointerEvent=function(g6l,C6o){if(this.pointerEvents[C6o].length > 1){this.pointerEvents[C6o].pop();}B4X.m_N();this.pointerEvents[C6o].unshift(g6l);};K8X.ChartEngine.prototype.resetPointerEvent=function(I3l){B4X.m_N();this.pointerEvents[I3l].splice(0);};K8X.ChartEngine.prototype.resetClickState=function(){var A5Z;A5Z="do";A5Z+="wn";this.resetPointerEvent("up");this.resetPointerEvent(A5Z);this.cancelTouchSingleClick=!!({});};K8X.ChartEngine.prototype.isDoubleClick=function(L3J){var M8K,i8c;M8K=L3J?35:20;var {up:[s58,s46], down:[a3j,K2$]}=this.pointerEvents;i8c=s46 && K2$ && a3j.time - s46.time < this.doubleClickTime && K8X.withinRadius(K2$,a3j,M8K) && K8X.withinRadius(s46,a3j,M8K) && s46.time - K2$.time < this.longHoldTime && s58.time - a3j.time < this.longHoldTime;this.cancelTouchSingleClick=i8c;return i8c;};K8X.ChartEngine.prototype.doubleClick=function(R32,c0S,w32){var E5u;if(this.runPrepend("doubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(K8X.ChartEngine.drawingLine){if(this.currentVectorParameters.vectorType == "continuous"){K8X.ChartEngine.completeDrawing(this);}return this.undo();}if(this.activeDrawing){return;}E5u=this.activeMarker && this.activeMarker.doubleClick({cx:c0S,cy:w32,panel:this.currentPanel});if(!E5u){this.dispatch("doubleClick",{stx:this,button:R32,x:c0S,y:w32});}this.runAppend("doubleClick",arguments);};K8X.ChartEngine.prototype.handleMouseOut=function(K5D){var g6s,M3x,F8U,v6o;B4X.m_N();K5D=K5D || window.event;if(!K5D.relatedTarget || !K8X.withinElement(this.chart.container,K5D.pageX,K5D.pageY)){g6s="handleMous";g6s+="eOut";if(this.runPrepend(g6s,arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!0);}this.undisplayCrosshairs();this.touches=[];this.touching=!1;if(this.activeDrawing && this.userPointerDown){this.userPointerDown=!!"";this.drawingLine=![];M3x=this.backOutY(K5D.pageY);F8U=this.backOutX(K5D.pageX);this.drawingClick(this.currentPanel,F8U,M3x);}var {sd:H5J, tapToAdd:b5C}=this.repositioningAnchorSelector || ({});if(H5J && !b5C){this.repositioningAnchorSelector=null;this.controls.anchorHandles[H5J.uniqueId].highlighted=![];K8X.Studies.displayAnchorHandleAndLine(this,H5J,this.chart.dataSegment);this.draw();}this.insideChart=!!0;this.overYAxis=!({});this.overXAxis=!!0;this.displaySticky();v6o=this.controls.dragOk;if(v6o){v6o.style.display="none";}this.runAppend("handleMouseOut",arguments);}};K8X.ChartEngine.prototype.startLongHoldTimer=function(z3n){var h0v,H3L;h0v=this;this.cancelLongHold=!({});if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}H3L=function(){var R$9;R$9="lo";R$9+="n";R$9+="gh";R$9+="old";if(h0v.cancelLongHold){return;}B4X.Z7I();h0v.longHoldTookEffect=!!({});if(z3n){z3n();}h0v.dispatch(R$9,{stx:h0v,panel:h0v.currentPanel,x:h0v.cx,y:h0v.cy});h0v.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(H3L,this.longHoldTime);}else if(this.longHoldTime === 0){H3L();}};K8X.ChartEngine.prototype.grabHandle=function(e_f){var e4K,X26,w$Z;e4K="g";e4K+="rabHa";e4K+="ndle";X26="st";X26+="x-g";X26+="rab";w$Z="g";w$Z+="ra";w$Z+="bHan";w$Z+="dle";if(this.runPrepend(w$Z,arguments)){return;}if(!e_f){return;}K8X.ChartEngine.crosshairY=this.resolveY(e_f.top);K8X.ChartEngine.resizingPanel=e_f;e_f.handle.classList.add(X26);this.runAppend(e4K,arguments);};K8X.ChartEngine.prototype.grabbingHand=function(){if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(K8X.touchDevice){return;}B4X.Z7I();this.container.classList.add("stx-drag-chart");};K8X.ChartEngine.prototype.releaseHandle=function(){var R0m;R0m="stx";R0m+="-grab";if(this.runPrepend("releaseHandle",arguments)){return !![];}K8X.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(K8X.ChartEngine.resizingPanel){K8X.ChartEngine.resizingPanel.handle.classList.remove(R0m);}K8X.ChartEngine.resizingPanel=null;this.runAppend("releaseHandle",arguments);};K8X.ChartEngine.prototype.findHighlights=function(E0I,M4a){var t8n,H5w,f9$,B83,u7l,P$t,h1u,j3c,u20,f22,O8m,h_u,G_D,J$b,I7e,e4G,m_Z,G8z,c81,K2D,I$i,n2$,K7J,a8d,D55,T0r,a6V,b3f,h77,u2z,z6u,o1Z,I2x,r6e,C2T,s5L,S7O,E6T,V04,r9M,B6X,a3A,z1Y,v0I,m1m,D1K,X0M,U40,W1r,t4t,X_g,O4o,U2m,O47,F$N,N5j,c82,A3R,T8K,z8X;t8n=this.preferences[E0I?"highlightsTapRadius":"highlightsRadius"];this.highlightViaTap=E0I;var {cx:Q8t, cy:j3p}=this;this.anyHighlighted=!!0;B4X.m_N();if(!this.currentPanel){return;}var {chart:s4P}=this.currentPanel;if(this.activeDrawing){M4a=!!({});}H5w=![];f9$=null;B83=M4a?{}:{forceShow:!![],type:"drawing"};u7l={x0:this.tickFromPixel(Q8t - t8n,s4P),x1:this.tickFromPixel(Q8t + t8n,s4P),y0:this.valueFromPixel(j3p - t8n,this.currentPanel),y1:this.valueFromPixel(j3p + t8n,this.currentPanel),cx0:Q8t - t8n,cx1:Q8t + t8n,cy0:j3p - t8n,cy1:j3p + t8n,r:t8n};if(this.repositioningDrawing && u7l.x1 - u7l.x0 < +"2"){u7l.x1++;u7l.x0--;}else if(u7l.x1 == u7l.x0){u7l.x0-=0.5;u7l.x1+=0.5;}if(!s4P.hideDrawings){for(var m3Y=this.drawingObjects.length - 1;m3Y >= 0;m3Y--){P$t=this.drawingObjects[m3Y];h1u=this.panels[P$t.panelName];if(P$t.hidden || !h1u || P$t.field && !this.getYAxisByField(h1u,P$t.field)){P$t.highlighted=!({});continue;}if(this.repositioningDrawing && this.repositioningDrawing != P$t)continue;j3c=P$t.highlighted;u20=P$t.panelName == this.currentPanel.name || P$t.spanPanels;if(u20){P$t.repositioner=P$t.intersected(this.crosshairTick,this.crosshairValue,u7l);}u20=u20 && P$t.repositioner && !this.overXAxis && !this.overYAxis;if(!M4a && u20){if(j3c){f9$=P$t;if(this.anyHighlighted && this.singleDrawingHighlight){P$t.highlighted=!({});}if(P$t.highlighted && P$t.highlighted != j3c){H5w=!![];}}else if(j3c != P$t.highlight(!0)){if(!f9$){f9$=P$t;}if(this.anyHighlighted && this.singleDrawingHighlight){P$t.highlighted=!!"";}H5w=!![];}this.anyHighlighted=!!1;}else {if(j3c != P$t.highlight(!({}))){H5w=!!"1";}}if(P$t.highlighted){B83.noDelete=P$t.permanent;B83.noEdit=!this.callbackListeners.drawingEdit.length;B83.noText=B83.noEdit || !P$t.edit;B83.message=this.translateIf(K8X.capitalize(P$t.name));}}}for(f22 in this.layout.studies){O8m=this.layout.studies[f22];O8m.prev=O8m.highlight;O8m.highlight=this.yaxisMatches(O8m,this.grabStartYAxis);}for(f22 in s4P.seriesRenderers){I7e=s4P.seriesRenderers[f22];I7e.params.highlight=this.yaxisMatches(I7e,this.grabStartYAxis);for(var W8s=0;W8s < I7e.seriesParams.length;W8s++){J$b=I7e.seriesParams[W8s];J$b.prev=J$b.highlight;J$b.highlight=I7e.params.highlight;}}var {anchorHandles:z3j}=this.controls;if(z3j){for(var G5O in z3j){z3j[G5O].highlighted=!({});}}e4G=this.markerHelper && this.markerHelper.visibleCanvasMarkers;if(e4G){for(h_u=0;h_u < e4G.length;h_u++){G_D=e4G[h_u];this.activeMarker=null;G_D.prev=e4G[h_u].highlight;G_D.highlight=!!"";}}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedPlot={};this.highlightedDraggable=null;if(!M4a && !this.anyHighlighted && z3j){for(var d5M in z3j){m_Z="sd.signal";m_Z+="D";m_Z+="ata.reveal";G8z=z3j[d5M];if(K8X.getFromNS(G8z,m_Z) === ![])continue;if(!this.anyHighlighted){var {sd:U0k, currentPixel:U9M}=G8z;B4X.g33(2);c81=B4X.b63(U9M,t8n);B4X.O$r(0);K2D=B4X.b63(U9M,t8n);I$i=this.panels[U0k.panel];var {top:V0W, bottom:f6$}=I$i.yAxis;n2$=K8X.boxIntersects(c81,V0W,K2D,f6$,Q8t,j3p,Q8t,j3p);if(n2$){this.anyHighlighted=!"";G8z.highlighted=!!1;H5w=!![];B83={message:U0k.name,type:"anchorHandle",noDelete:!![]};continue;}}if(G8z.highlighted === !![]){G8z.highlighted=!!"";H5w=!0;}}}if(!M4a && !this.anyHighlighted && s4P.dataSegment){K7J=this.barFromPixel(Q8t);if(K7J >= 0 && K7J < s4P.dataSegment.length){a8d=-1984074615;D55=-+"603437442";B4X.g33(11);T0r=B4X.v0q(0,"2");for(var Z5p=1;B4X.u7W(Z5p.toString(),Z5p.toString().length,93199) !== a8d;Z5p++){T0r+=2;}if(B4X.D$s(T0r.toString(),T0r.toString().length,49391) !== D55){}b3f=K8X.convertBoxToPixels(this,this.currentPanel.name,u7l);h77=Number.MAX_VALUE;if(e4G){for(h_u=0;h_u < e4G.length;h_u++){G_D=e4G[h_u];u2z=G_D.params.box;if(!u2z)continue;if(G_D.params.panelName !== this.currentPanel.name)continue;if(K8X.boxIntersects(b3f.x0,b3f.y0,b3f.x1,b3f.y1,u2z.x0,u2z.y0,u2z.x1,u2z.y1)){B4X.g33(111);var K0B=B4X.b63(11,17,0,4);B4X.O$r(110);var k3S=B4X.b63(10,98,10,0);B4X.g33(55);var k1g=B4X.v0q(151,9,17);z6u=Math.pow(j3p - (u2z.y1 + u2z.y0) / K0B,k3S) + Math.pow(Q8t - (u2z.x1 + u2z.x0) / ("2" ^ 0),k1g);if(z6u <= h77){h77=z6u;this.activeMarker=G_D;}this.anyHighlighted=!!({});B83={};G_D.highlight=!![];this.markerHelper.highlighted.push(G_D);}if(G_D.prev != G_D.highlight){H5w=!!"1";}}}if(!this.anyHighlighted){B4X.O$r(2);o1Z=B4X.v0q("929417218",0);I2x=591045532;B4X.g33(18);r6e=B4X.v0q(0,"2");for(var o_a=1;B4X.u7W(o_a.toString(),o_a.toString().length,52302) !== o1Z;o_a++){h77=Number.MAX_VALUE;B4X.O$r(46);r6e+=B4X.b63(64,"2");}if(B4X.u7W(r6e.toString(),r6e.toString().length,+"85764") !== I2x){h77=Number.MAX_VALUE;}C2T=null;for(f22 in this.overlays){if(e4G && this.markerHelper.highlighted.length)break;O8m=this.overlays[f22];if(O8m.signalData && !O8m.signalData.reveal)continue;if(O8m.disabled)continue;if(O8m.panel != this.currentPanel.name)continue;if(O8m.study.isHighlighted === ![])continue;else if(typeof O8m.study.isHighlighted == "function"){s5L=O8m.study.isHighlighted(this,Q8t,j3p);if(s5L){S7O=s5L === !!1?O8m.study.name:s5L;C2T={o:O8m,out:S7O};h77=0;break;}continue;}E6T=s4P.dataSegment[K7J];if(!E6T)continue;for(var n0C in O8m.outputMap){V04=k7h.call(this,K7J,u7l,n0C,O8m.getYAxis(this));if(V04 !== !!"" && V04 <= h77){C2T={o:O8m,out:n0C};h77=V04;}}}for(f22 in s4P.seriesRenderers){if(this.highlightedDataSetField)break;r9M=s4P.seriesRenderers[f22];B6X=r9M.params.panel;if(!this.leftClickPinTooltip && r9M == this.mainSeriesRenderer)continue;if(!r9M.params.highlightable && !this.currentVectorParameters.vectorType)continue;if(B6X != this.currentPanel.name)continue;for(h_u=0;h_u < r9M.seriesParams.length;h_u++){a3A="-";a3A+="-";a3A+=">";J$b=r9M.seriesParams[h_u];if(J$b.disabled)continue;z1Y=J$b.field || this.defaultPlotField || "Close";if(J$b.symbol && J$b.subField){z1Y+=a3A + J$b.subField;}v0I=r9M.params.yAxis;if(!v0I && B6X){v0I=this.panels[B6X].yAxis;}if(r9M.params.step && K7J > 0){if(!r9M.caches[J$b.id])continue;a6V=r9M.caches[J$b.id][K7J];if(!a6V && a6V !== 0)continue;B4X.g33(2);m1m=r9M.caches[J$b.id][B4X.v0q(K7J,1)];if((m1m || m1m === 0) && j3p + t8n >= a6V && j3p - t8n <= m1m || j3p - t8n <= a6V && j3p + t8n >= m1m){C2T={s:J$b,fullField:z1Y};break;}}else {D1K=k7h.call(this,K7J,u7l,z1Y,v0I,r9M,J$b.id);if(D1K !== !({}) && D1K <= h77){C2T={s:J$b,fullField:z1Y};h77=D1K;}}}}if(C2T){this.highlightedPlot=C2T;O8m=C2T.o;if(O8m){C2T.type="study";if(O8m.name != O8m.panel){this.anyHighlighted=!!({});}O8m.highlight=C2T.out;this.highlightedDataSetField=C2T.out;}else {X0M="se";X0M+="ries";C2T.type=X0M;this.anyHighlighted=!!1;C2T.s.highlight=!"";this.highlightedDataSetField=C2T.fullField;}}}}}W1r=this.preferences.dragging;for(f22 in this.overlays){O8m=this.overlays[f22];if(O8m.highlight){this.anyHighlighted=!![];X_g=O8m.inputs.display || O8m.name;X_g=this.translateIf(X_g);B83={message:X_g,noDelete:O8m.permanent,noEdit:!O8m.editFunction,noText:!O8m.textFunction,noDrag:O8m.undraggable && O8m.undraggable(this),type:"study",backgroundColor:i_b(s4P.legendColorMap[O8m.name] && s4P.legendColorMap[O8m.name].color)};f9$=null;if(W1r === !0 || W1r && W1r.study){if(!O8m.undraggable(this)){U40=O8m;}}t4t=O8m.getYAxis(this);}if(O8m.prev != O8m.highlight){H5w=!!1;}}function i_b(s_x,z2n){var X0V,Q_w,q_j;if(Array.isArray(s_x)){X0V="linear-gradien";X0V+="t(to right, ";Q_w=+"0";q_j=Math.min(3,s_x.length);for(;Q_w < q_j;Q_w++){B4X.g33(0);var b4w=B4X.b63(6,94);X0V+=s_x[Q_w] + " " + Math.round(b4w * Q_w / q_j) + "%, ";B4X.O$r(112);var I21=B4X.v0q(353,1680,13,2,19);B4X.g33(0);var Z50=B4X.v0q(6455,6);B4X.O$r(55);var Y75=B4X.v0q(163680,4,42240);B4X.O$r(62);var s_V=B4X.b63(2,273,3,5409,3);B4X.O$r(113);var Q3x=B4X.b63(818,3,19,7771,8182);B4X.g33(114);var y46=B4X.v0q(11,15,1170,5,96);B4X.g33(111);var o1e=B4X.b63(11,16,14,18);X0V+=s_x[Q_w] + ((I21,Z50) >= Y75?s_V != Q3x?" ":"n":("E",+"293.01")) + Math.round(y46 * (Q_w + o1e) / q_j) + "%, ";}X0V+="transparent)";return X0V;}if(s_x == "auto"){s_x=this.defaultColor;}if(z2n && z2n !== 1){s_x=K8X.hexToRgba(K8X.colorToHex(s_x),parseFloat(z2n));}return s_x;}for(f22 in s4P.seriesRenderers){O4o=s4P.seriesRenderers[f22];U2m=O4o.params.yAxis?O4o.params.yAxis.textStyle:null;for(var n4R=+"0";n4R < O4o.seriesParams.length;n4R++){J$b=O4o.seriesParams[n4R];if(O4o.params.highlightable && J$b.highlight){this.anyHighlighted=!!({});O47=s4P.legendColorMap[f22] && s4P.legendColorMap[f22].color || J$b.color || U2m;O47=i_b(O47,J$b.opacity);B83={message:J$b.display || J$b.symbol,backgroundColor:O47,noDelete:O4o.params.permanent || J$b.permanent,noDrag:O4o.undraggable && O4o.undraggable(this),type:"series"};f9$=null;if(W1r === !!"1" || W1r && W1r.series){U40=O4o;O4o.params.highlight=!!({});}t4t=O4o.getYAxis(this);}if(J$b.prev != J$b.highlight){H5w=!!1;}}}for(f22 in this.plugins){F$N=this.plugins[f22];N5j={};if(F$N.findHighlights){N5j=F$N.findHighlights(this,E0I,M4a);if(N5j.somethingChanged){H5w=!"";}if(N5j.anyHighlighted){this.anyHighlighted=!0;B83=N5j.stickyArgs || ({});}}}c82=this.whichPanel(j3p);A3R=this.whichYAxis(c82,Q8t);if(!t4t){t4t=A3R;}if(this.currentBaseline){t4t=this.currentBaseline.getYAxis(this);}function k7h(Z6e,K$w,R4o,t5e,y7u,w5L){var X0R,q0Z,Z1G,G33,n9y,l9p,K6g,n4Y,y8T,D4S,X2u,R7c,A4X,g58,o0p,d7w,N4n,x51,y8a,B2E,S7M,y3w,e2f,S$M;X0R="se";X0R+="gme";X0R+="nt";q0Z=this;Z1G=q0Z.chart;G33=q0Z.currentPanel;if(!t5e){t5e=G33.yAxis;}n9y=R4o.split("-->");l9p=n9y[0];K6g=n9y[1];if(!K6g){K6g="Close";}n4Y=Z1G.dataSegment[K7J];g58=null;o0p=null;d7w=null;N4n=new Array(3);x51=y7u && y7u.caches[w5L];if(n4Y && x51){X2u=x51[K7J];g58=n4Y.tick;if(X2u || X2u === ("0" ^ 0)){N4n[+"0"]=1;}for(y8a=K7J - 1;y8a >= ("0" | 0);y8a--){if(x51[y8a] || x51[y8a] === 0){R7c=x51[y8a];B4X.g33(65);o0p=B4X.b63(y8a,K7J,g58);N4n[1]=1;break;}}for(y8a=K7J + 1;y8a < Z1G.dataSegment.length;y8a++){if(x51[y8a] || x51[y8a] === 0){A4X=x51[y8a];B4X.O$r(65);d7w=B4X.v0q(y8a,K7J,g58);N4n[2]=1;break;}}}if(o0p === null){y8T=q0Z.getPreviousBar.call(q0Z,Z1G,R4o,K7J);if(y8T){o0p=y8T.tick;R7c=r0k(y8T);}}if(d7w === null){D4S=q0Z.getNextBar.call(q0Z,Z1G,R4o,K7J);if(D4S){d7w=D4S.tick;A4X=r0k(D4S);}}if(o0p === null && d7w === null){return !!0;}if(!x51){X2u=r0k(n4Y);R7c=r0k(y8T);A4X=r0k(D4S);g58=n4Y.tick;if(y8T){o0p=y8T.tick;}if(D4S){d7w=D4S.tick;}}if(!R7c && R7c !== 0){R7c=0;B4X.O$r(46);o0p=B4X.v0q(32,"0");}if(!A4X && A4X !== 0){if(X2u || X2u === +"0"){A4X=X2u;B4X.g33(18);N4n[B4X.v0q(0,"2")]=N4n[0];}else {A4X=R7c;N4n[2]=N4n[1];}if(w5L && Z1G.series[w5L] && Z1G.series[w5L].parameters.extendToEndOfDataSet){B4X.O$r(44);var Q28=B4X.v0q(19,10,0,8);d7w=Z1G.dataSet.length - Q28;}else {d7w=o0p;}}if(!X2u && X2u !== +"0"){X2u=A4X;g58=d7w;N4n[0]=N4n[2];if(R7c === 0 && o0p === +"0"){R7c=X2u;o0p=g58;N4n[1]=N4n[0];}}B2E=q0Z.pixelFromTransformedValue.bind(q0Z);S7M=q0Z.valueFromPixel.bind(q0Z);X2u=S7M(N4n[0]?X2u:B2E(X2u,G33,t5e),G33);R7c=S7M(N4n[+"1"]?R7c:B2E(R7c,G33,t5e),G33);A4X=S7M(N4n[2]?A4X:B2E(A4X,G33,t5e),G33);y3w=K8X.convertBoxToPixels(q0Z,G33.name,K$w);function r0k(m4l){var s43;B4X.Z7I();if(!m4l){return null;}s43=m4l[l9p];if(s43 && (s43[K6g] || s43[K6g] === 0)){s43=s43[K6g];}if(y7u && y7u.getBasis){s43+=y7u.getBasis(m4l,l9p,K6g);}if(!Z1G.transformFunc || t5e != Z1G.yAxis){return s43;}else if(m4l.transform && (l9p in m4l.transform)){s43=m4l.transform[l9p];if(s43 && (s43[K6g] || s43[K6g] === 0)){s43=s43[K6g];}return s43;}return Z1G.transformFunc(q0Z,Z1G,s43);}e2f=K8X.convertBoxToPixels(q0Z,G33.name,{x0:o0p,y0:R7c,x1:g58,y1:X2u});S$M=K8X.convertBoxToPixels(q0Z,G33.name,{x0:g58,y0:X2u,x1:d7w,y1:A4X});if(K8X.boxIntersects(y3w.x0,y3w.y0,y3w.x1,y3w.y1,e2f.x0,e2f.y0,e2f.x1,e2f.y1,X0R) || K8X.boxIntersects(y3w.x0,y3w.y0,y3w.x1,y3w.y1,S$M.x0,S$M.y0,S$M.x1,S$M.y1,"segment")){return Math.min(Math.pow(j3p - (e2f.y1 + e2f.y0) / 2,2) + Math.pow(Q8t - (e2f.x1 + e2f.x0) / 2,2),Math.pow(j3p - (S$M.y1 + S$M.y0) / 2,2) + Math.pow(Q8t - (S$M.x1 + S$M.x0) / 2,2));}return !({});}if(t4t){if(!t4t.highlight){H5w=!!({});}t4t.highlight=!"";}T8K=[];for(var O9Z in this.panels){T8K=T8K.concat(this.panels[O9Z].yaxisLHS).concat(this.panels[O9Z].yaxisRHS);}for(f22=0;f22 < T8K.length;f22++){if(t4t == T8K[f22] && !M4a)continue;if(T8K[f22].highlight){H5w=!0;}T8K[f22].highlight=!"1";}if((W1r === !0 || W1r && W1r.yaxis) && A3R && !A3R.noDraw){this.anyHighlighted=!!1;U40=A3R;B83={};}if(H5w){this.draw();B83.panel=c82;if(this.anyHighlighted && !this.grabStartYAxis){B83.panel=c82;}else {B83={};}this.displaySticky(B83);this.clearMeasure();if(f9$){f9$.measure();}}if(!this.anyHighlighted){this.setMeasure();}else if(this.controls.mSticky){if(B83 && B83.positioner){B83.positioner.call(this,this.controls.mSticky);}else {this.positionSticky(this.controls.mSticky);}}if(U40 && c82 && !c82.noDrag){if(this.longHoldTookEffect && !this.cancelLongHold){if(U40.params){if(U40.params.dependentOf){U40=s4P.seriesRenderers[U40.params.dependentOf];U40.params.highlight=!!"1";}for(f22 in s4P.seriesRenderers){if(s4P.seriesRenderers[f22].params.dependentOf == U40.params.name){s4P.seriesRenderers[f22].params.highlight=!!1;}}}this.highlightedDraggable=U40;if(U40.getDependents){z8X=U40.getDependents(this,!![]);for(f22 in this.overlays){O8m=this.overlays[f22];if(z8X.indexOf(O8m) > -1){O8m.highlight=!![];}}}}if(!B83.noDrag){this.container.classList.add("stx-draggable");}}else {this.container.classList.remove("stx-draggable");}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();};K8X.ChartEngine.prototype.rightClickHighlighted=function(){if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!!1);this.runAppend("rightClickHighlighted",arguments);};K8X.ChartEngine.prototype.deleteHighlighted=function(d$B,v5z,c$0){var s7z,Z7h,e1P,Z$x,X6g,G8o,d0S,j72,u94,Q0S,Y5H,L7Z,u8I;if(this.runPrepend("deleteHighlighted",arguments)){return;}this.cancelTouchSingleClick=!!({});K8X.clearCanvas(this.chart.tempCanvas,this);s7z=this.bypassRightClick === !({});if(s7z || !this.bypassRightClick.drawing){for(var c9z=this.drawingObjects.length - 1;c9z >= 0;c9z--){Z7h=this.drawingObjects[c9z];if(!Z7h.highlighted)continue;if(d$B){this.rightClickDrawing(Z7h,v5z,c$0);}else if(!Z7h.permanent){e1P="ve";e1P+="c";e1P+="t";e1P+="or";Z$x=Z7h.abort();if(!Z$x){X6g=this.exportDrawings();this.drawingObjects.splice(c9z,1);this.undoStamp(X6g,this.exportDrawings());}this.changeOccurred(e1P);}}}if(s7z || !this.bypassRightClick.study){for(var m81 in this.overlays){G8o=this.overlays[m81];if((G8o.overlay || G8o.underlay) && G8o.highlight && !G8o.permanent){if(d$B || v5z){this.rightClickOverlay(m81,v5z);}else {this.removeOverlay(m81);}}}}d0S=this.currentPanel && this.currentPanel.chart;if(d0S && (s7z || !this.bypassRightClick.series)){for(var m2e in d0S.seriesRenderers){j72=d0S.seriesRenderers[m2e];if(j72.params.highlightable && !j72.params.permanent){u94=this.panels[j72.params.panel];Q0S=u94 && u94.yAxis.name;for(var g8U=j72.seriesParams.length - 1;g8U >= 0;g8U--){Y5H=j72.seriesParams[g8U];if((j72.params.highlight || Y5H.highlight) && !Y5H.permanent){j72.removeSeries(Y5H.id);if(j72.seriesParams.length < 1){this.removeSeriesRenderer(j72);if(j72.params.name == Q0S){this.electNewPanelOwner(j72.params.panel);}else {this.checkForEmptyPanel(j72.params.panel);L7Z=this.getYAxisByName(u94,j72.params.name);if(L7Z){L7Z.name=L7Z.studies["0" >> 32] || L7Z.renderers["1" ^ 0];}}}}}}}}this.draw();if(!d$B && !v5z){this.resizeChart();}this.clearMeasure();u8I=this.controls.mSticky;if(u8I){u8I.style.display="none";u8I.querySelector(".mStickyInterior").innerHTML="";}this.runAppend("deleteHighlighted",arguments);};K8X.ChartEngine.prototype.displayDragOK=function(I7H){var K3Y,J2g,J3_,C$F,T54,P$u,G_e,h6k,q9h,g3H,f2i,D87,Q6M,X1j,Q3r,L8v;function j8K(N2q){var q3b,D0Z,a2p;q3b="te";q3b+="x";B4X.m_N();q3b+="t";D0Z=K3Y.translateIf(N2q.querySelector(".field").getAttribute(q3b));a2p=K3Y.whichYAxis(K3Y.whichPanel(K3Y.cy),K3Y.cx,K3Y.cy);if(a2p && a2p.dropzone == "all"){D0Z+="-->" + K3Y.translateIf(a2p.name);}N2q.querySelector(".field").innerHTML=D0Z;}B4X.m_N();K3Y=this;J2g=this.controls.dragOk;if(J2g){if(!I7H){if(!this.tapForHighlighting || !this.touching || this.anyHighlighted){this.findHighlights(this.highlightViaTap);}}J3_=this.highlightedDraggable;C$F=J3_ && J3_.undraggable && J3_.undraggable(this);T54=this.cx;P$u=this.cy;G_e=J3_ && !C$F && this.longHoldTookEffect;if(I7H){if(G_e && this.insideChart){J2g.style.display="inline-block";}}else {if(G_e && !this.cancelLongHold){h6k=J3_.inputs && J3_.inputs.display || J3_.params && (J3_.params.display || J3_.params.name) || J3_.name;J2g.querySelector(".field").setAttribute("text",h6k);j8K.call(this,J2g);J2g.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace("stx-drag-chart","stx-drag-axis");}else {this.container.classList.replace("stx-drag-chart","stx-drag-series");}}else {J2g.style.display="none";this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove("stx-drag-axis");for(var i2A in this.panels){q9h="t";q9h+="o";q9h+="p";g3H="l";g3H+="eft";f2i=this.panels[i2A].subholder.classList;f2i.remove("dropzone");f2i.remove("all");f2i.remove(g3H);f2i.remove("right");f2i.remove(q9h);f2i.remove("bottom");for(D87=0;D87 < this.panels[i2A].yaxisLHS.length;D87++){this.panels[i2A].yaxisLHS[D87].dropzone=null;}for(D87=0;D87 < this.panels[i2A].yaxisRHS.length;D87++){this.panels[i2A].yaxisRHS[D87].dropzone=null;}}}this.draw();}if(J3_){Q6M="p";Q6M+="x";X1j="p";X1j+="x";Q3r=P$u + J2g.offsetHeight;L8v=Math.max(0,T54 - J2g.offsetWidth);B4X.g33(0);J2g.style.top=B4X.v0q(Q3r,X1j);B4X.g33(0);J2g.style.left=B4X.v0q(L8v,Q6M);j8K.call(this,J2g);}}};K8X.ChartEngine.prototype.displayDrawOK=function(){var x_1,H5X,k65,f8M;B4X.Z7I();x_1=this.controls.drawOk;if(x_1 && K8X.Drawing){H5X=K8X.Drawing[this.currentVectorParameters.vectorType];if(H5X){H5X=new H5X();}if(this.highlightedDataSetField && H5X && H5X.isAllowed(this,this.highlightedDataSetField)){x_1.style.display="inline-block";k65=this.cy + x_1.offsetHeight;f8M=this.cx - x_1.offsetWidth;B4X.O$r(0);x_1.style.top=B4X.b63(k65,"px");B4X.g33(0);x_1.style.left=B4X.b63(f8M,"px");x_1.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField);}else {x_1.style.display="none";}}};K8X.ChartEngine.prototype.mouseWheel=function(R6R){var f1c,n12,c9e,y04,s44,T0C,O0_,o9O,W9i,g9b,d7C;if(this.runPrepend("mouseWheel",arguments)){return;}if(R6R.preventDefault){R6R.preventDefault();}if(this.openDialog !== ""){return;}f1c=R6R.deltaX;B4X.Z7I();n12=R6R.deltaY;if(Math.abs(n12) > Math.abs(f1c)){f1c=0;}else {n12=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(f1c) === 0 && Math.abs(n12) === 0){return;}if(R6R.shiftKey && n12){f1c=n12;n12=0;}if(this.allowSideswipe && f1c !== 0){y04="h";y04+="orizo";y04+="nta";y04+="l";this.lastMove=y04;s44=f1c;this.grabbingScreen=!!({});if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=K8X.ChartEngine.crosshairX;this.grabStartY=K8X.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;if(this.mouseWheelAcceleration){c9e=Math.max(Math.pow(Math.abs(s44),0.3),1);s44*=c9e;}this.mousemoveinner(K8X.ChartEngine.crosshairX - s44,K8X.ChartEngine.crosshairY);K8X.ChartEngine.crosshairX=this.crosshairX=R6R.clientX;this.updateChartAccessories();this.grabbingScreen=![];return;}this.lastMove="vertical";if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayInitialized){return;}if(!n12){if(K8X.wheelEvent == "mousewheel"){B4X.g33(115);var A$S=B4X.v0q(4,1,5,2,0);B4X.g33(21);var F3x=B4X.b63(31,22,13);n12=A$S / F3x * R6R.wheelDelta;if(R6R.wheelDeltaX){B4X.O$r(116);var t4N=B4X.b63(17,17,19,20);B4X.g33(37);var s3$=B4X.b63(14,60440,12,360);f1c=t4N / s3$ * R6R.wheelDeltaX;}}else {n12=R6R.detail;}}if(typeof R6R.deltaMode == "undefined"){R6R.deltaMode=R6R.type == "MozMousePixelScroll"?"0" - 0:1;}T0C=-n12;if(R6R.deltaMode == 1){T0C*=33;}O0_=null;o9O=null;if(this.mouseWheelAcceleration){c9e=Math.max(Math.pow(Math.abs(T0C),+"0.3"),1);O0_=Math.max(Number.MIN_VALUE,1 - 0.1 * c9e);B4X.g33(9);o9O=B4X.v0q(O0_,1);}this.zoomInitiatedByMouseWheel=!"";if(T0C > 0){if(this.reverseMouseWheel){this.zoomOut(null,o9O);}else {this.zoomIn(null,O0_);}}else if(T0C < 0){W9i=1670827809;B4X.O$r(2);g9b=-B4X.b63("487046121",0);B4X.O$r(46);d7C=B4X.v0q(32,"2");for(var w0Y=1;B4X.D$s(w0Y.toString(),w0Y.toString().length,33681) !== W9i;w0Y++){if(this.reverseMouseWheel){this.zoomIn(1,O0_);}else {this.zoomOut(1,o9O);}d7C+=2;}if(B4X.D$s(d7C.toString(),d7C.toString().length,24778) !== g9b){if(this.reverseMouseWheel){this.zoomIn(1,O0_);}else {this.zoomOut(+"1",o9O);}}if(this.reverseMouseWheel){this.zoomIn(null,O0_);}else {this.zoomOut(null,o9O);}}if(this.runAppend("mouseWheel",arguments)){return;}return !!"";};K8X.ChartEngine.handleContextMenu=function(B5R){var l4c,l5x;l4c=K8X.ChartEngine.registeredContainers;B4X.Z7I();for(var T$E=0;T$E < l4c.length;T$E++){if(B5R.target.ownerDocument !== l4c[T$E].ownerDocument)continue;l5x=l4c[T$E].stx;if(l5x){if(l5x.anyHighlighted){if(B5R.preventDefault){B5R.preventDefault();}return !!"";}}}};K8X.ChartEngine.registerGlobalEvent("contextmenu",K8X.ChartEngine.handleContextMenu);K8X.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;"></span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;"></span>',mSticky:`
${"		<div class=" + "\"stx_sticky" + "\">"}
${"			<sp" + "an c" + "lass=" + "\"label\">"}
${"				<span class=\"mStickyThumbn" + "ail\"></span>"}
${"				<span class=\"mStickyInterior" + "\"></span" + ">"}
${"	" + "		</sp" + "an>"}
${"	" + "		<span class" + "=\"mousePinTooltip\">(left-click to pin tooltip)</span>"}
${"			<s" + "pan clas" + "s=\"mStickyRightCl" + "ick\">"}
${"			" + "	<span class=\"overlayText stx-btn\" style=\"display:none" + "\">"}
${"					<span>&nbsp;</span" + ">"}
${"		" + "		</s" + "pan>"}
${"				" + "<span class=\"overlayEdit stx-btn\" styl" + "e=\"display:none\">"}
${"					<span>&nbsp" + ";</s" + "pa" + "n>"}
${"			" + "	<" + "/spa" + "n>"}
${"				<span class=\"overlayTrashCan stx-btn\" style=\"dis" + "play:none\">"}
${"					<span>" + "&nbsp;</span>"}
${"	" + "			" + "</sp" + "an>"}
${"				<sp" + "an class=\"mouseDeleteInstructions\">"}
${"				" + "	<span>(<" + "/span>"}
${"					<span" + " class=\"mouseDeleteText\">right-click to " + "delete</span>"}
${"					<span class=\"mouseManageTe" + "xt\">r" + "ight-click to manage</span>"}
${"					<s" + "p" + "an>)</span>"}
${"	" + "			</span>"}
${"		" + "	<" + "/sp" + "an>"}
${"			<span class=\"st" + "ickyLong" + "PressText\">(long-press to drag)</sp" + "an>"}
${"			<spa" + "n class=\"customInstr" + "uctions\">"}
${"				<span>(" + "<" + "/span>"}
${"				<span class=\"dragAnchorText\" type=\"" + "anchorHandle\">"}
${"					drag to change anchor" + " time"}
${"				</s" + "p" + "an>"}
${"				<span" + ">)</span>"}
${"			</" + "s" + "p" + "an>"}
${"		<" + "/di" + "v" + ">"}
${"	"}`,drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:`<div class="stx_chart_controls" style="display: none;">
		<div class="chartSize">
			<span class="stx-zoom-out" role="button" aria-label="Zoom Out"></span>
			<span class="stx-zoom-in" role="button" aria-label="Zoom In"></span>
		</div></div>`,home:T0Y,floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:k3K,iconsTemplate:J3o,baselineHandle:a$1,notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'};K8X.ChartEngine.prototype.registerChartControl=function(v8j,K1c,J24){var J0_,Z4i,W0N,D$3,I4I;J0_=this.controls;if(!J0_ || !J0_.chartControls){return;}if(J0_.chartControls.querySelector(((420,3062) != (1573,6201)?".":("N",305.24)) + v8j)){return;}B4X.Z7I();Z4i=null;W0N=J0_.chartControls.querySelector(".stx-zoom-in");if(W0N){D$3="s";D$3+="tx-cha";D$3+="rt-control-button ";I4I="<div class";I4I+="=\"stx-tooltip\" ";I4I+="aria-hidden=\"true\">";Z4i=document.createElement("span");Z4i.ariaLabel=K1c;Z4i.role="button";B4X.g33(17);Z4i.innerHTML=B4X.b63("</div>",K1c,I4I);B4X.O$r(0);Z4i.className=B4X.b63(D$3,v8j);W0N.parentNode.appendChild(Z4i);if(J24){K8X.safeClickTouch(Z4i,J24,{keyboardClick:!!({})});}return Z4i;}};K8X.ChartEngine.prototype.zoomOut=function(b8$,U1T){var x0g,L6Z,y7V,K7a;if(this.runPrepend("zoomOut",arguments)){return;}if(this.preferences.zoomOutSpeed){U1T=this.preferences.zoomOutSpeed;}else if(!U1T){B4X.O$r(31);U1T=B4X.b63("0.7",1);}if(b8$ && b8$.preventDefault){b8$.preventDefault();}function M4m(p2E){B4X.Z7I();return function(l9$){var b5N;x0g.zoomSet(l9$,p2E);if(x0g.animations.zoom.hasCompleted){b5N="l";b5N+="ayout";if(x0g.runAppend("zoomOut",arguments)){return;}x0g.changeOccurred(b5N);if(x0g.continuousZoom){x0g.continuousZoom.execute(!!({}));}}};}this.cancelTouchSingleClick=!!1;x0g=this;for(var F46 in this.charts){L6Z=this.charts[F46];y7V=L6Z.width * U1T / this.layout.candleWidth;if(L6Z.allowScrollFuture === !({}) && L6Z.allowScrollPast === !!0 && y7V > L6Z.dataSet.length){y7V=L6Z.dataSet.length;}K7a=this.chart.width / y7V;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(M4m(L6Z),this.layout.candleWidth,K7a,!!0,this.ownerWindow);}};K8X.ChartEngine.prototype.zoomIn=function(R6O,A2Z){var u$h,H4k,U9s,y7s,j9a;u$h="z";function h0X(V6A){B4X.Z7I();return function(D9B){H4k.zoomSet(D9B,V6A);B4X.Z7I();if(H4k.animations.zoom.hasCompleted){if(H4k.runAppend("zoomIn",arguments)){return;}H4k.changeOccurred("layout");if(H4k.continuousZoom){H4k.continuousZoom.execute();}}};}u$h+="oo";u$h+="mIn";if(this.runPrepend(u$h,arguments)){return;}if(this.preferences.zoomInSpeed){A2Z=this.preferences.zoomInSpeed;}else if(!A2Z){A2Z=0.7;}if(R6O && R6O.preventDefault){R6O.preventDefault();}this.cancelTouchSingleClick=!!1;H4k=this;for(var n_q in this.charts){U9s=this.charts[n_q];y7s=U9s.width * A2Z / this.layout.candleWidth;if(U9s.maxTicks - y7s < 1){B4X.g33(73);var d3W=B4X.v0q(41,15,17,10,1);y7s=U9s.maxTicks - d3W;}if(y7s < this.minimumZoomTicks){y7s=this.minimumZoomTicks;}j9a=this.chart.width / y7s;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(h0X(U9s),this.layout.candleWidth,j9a,!1,this.ownerWindow);}};K8X.ChartEngine.prototype.createCrosshairs=function(){B4X.m_N();var U0G,K2H;if(this.runPrepend("createCrosshairs",arguments)){return;}if(!this.manageTouchAndMouse || this.mainSeriesRenderer.nonInteractive){return;}U0G=this.controls.crossX;K2H=this.controls.crossY;if(U0G){if(!U0G.onmousedown){U0G.onmousedown=function(X$I){if(X$I.preventDefault){X$I.preventDefault();}return ![];};}}if(K2H){if(!K2H.onmousedown){K2H.onmousedown=function(c9w){if(c9w.preventDefault){c9w.preventDefault();}return !({});};}}this.runAppend("createCrosshairs",arguments);};z86=![];K8X.ChartEngine.prototype.mousemoveinner=K8X.ChartEngine.prototype.mousemoveinner || (function(Y1k,O1g){var t8V;t8V="interaction fe";t8V+="ature requir";t8V+="es activating movement feature.";if(!z86){console.error(t8V);}z86=!0;});};o1YMc.Z7I();v9=d92=>{var R1A;R1A=typeof _CIQ !== "undefined"?_CIQ:d92.CIQ;if(!R1A.Marker){R1A.ChartEngine.helpersToRegister.push(function(r1I){o1YMc.m_N();r1I.markerHelper={classMap:{},domMarkers:[],visibleCanvasMarkers:[],highlighted:[],placementMap:{},groupMap:{},fieldPanelMap:{}};});R1A.ChartEngine.prototype.addToMarkerMapping=function(p3o){var d5b,d_w;this.removeFromHolder(p3o);d5b=this.panels[p3o.params.panelName];if(!d5b){return;}p3o.chart=d5b.chart;d_w=this.markerHelper.classMap[p3o.className];if(!d_w){d_w=this.markerHelper.classMap[p3o.className]={};}if(!d_w[p3o.params.panelName]){d_w[p3o.params.panelName]=[];}d_w[p3o.params.panelName].push(p3o);this.markerHelper.classMap[p3o.className]=d_w;var {label:L4s}=p3o.params;if(!this.markers[L4s]){this.markers[L4s]=[];}this.markers[L4s].push(p3o);};R1A.ChartEngine.prototype.addToHolder=function(N40){var G7c,e5m,b8D,l0E;G7c=this.panels[N40.params.panelName];if(!G7c){return;}e5m=N40.params;b8D=N40.node;l0E=N40.stxNodeCreator;if(l0E && l0E.prepareForHolder){b8D=l0E.prepareForHolder(N40);}if(e5m.chartContainer){this.container.appendChild(N40.node);}else if(e5m.includeAxis){G7c.holder.appendChild(N40.node);}else {G7c.subholder.appendChild(b8D);}N40.chart=G7c.chart;if(l0E && l0E.addToHolder){l0E.addToHolder(N40);}if(l0E && l0E.expand){if(l0E.node.params.pinnable && N40.makePinnable){N40.makePinnable();}R1A.Marker.initializeScrollBehavior(l0E);if(l0E.expansionHolder){R1A.Marker.initializeScrollBehavior({expand:l0E.expansionHolder});}}if(N40.className !== "CIQ.Marker.Group"){this.updateGroupMap();}};R1A.ChartEngine.prototype.getMarkerArray=function(f3Y,f9C){var x3u,F0d;o1YMc.m_N();x3u=[];for(var l4Q in this.markers){for(var J$O=+"0";J$O < this.markers[l4Q].length;J$O++){F0d=this.markers[l4Q][J$O];if(f3Y == "panelName"){if(F0d.params.panelName == f9C){x3u.push(F0d);}}else if(f3Y == "label"){if(l4Q == f9C){x3u.push(F0d);}}else if(f3Y == "field"){if(F0d.params.field === f9C){x3u.push(F0d);}}else if(f3Y == "all"){x3u.push(F0d);}}}return x3u;};R1A.ChartEngine.prototype.removeFromHolder=function(w7C){var U7R,P0z;w7C.node.remove();U7R=this.markers[w7C.params.label];if(!U7R){return;}for(var a9j=0;a9j < U7R.length;a9j++){if(U7R[a9j] === w7C){U7R.splice(a9j,+"1");break;}}P0z=this.markerHelper.classMap[w7C.className];if(P0z){Object.entries(P0z).forEach(([Y24,W12])=>{var k4o;k4o=W12.indexOf(w7C);if(k4o > -1){W12.splice(k4o,1);}o1YMc.m_N();if(!W12.length){delete P0z[Y24];}});}o1YMc.m_N();if(w7C.className !== "CIQ.Marker.Group"){this.updateGroupMap();}};R1A.ChartEngine.prototype.moveMarkers=function(A80,o4A,S$m){var v8P,U7L,M_4;v8P=S$m || this.getMarkerArray("panelName",A80);v8P.forEach(e58=>{if(e58 instanceof R1A.Marker.Group){return;}e58.params.panelName=o4A;if(S$m){this.addToMarkerMapping(e58);if(!e58.stxNodeCreator || !e58.stxNodeCreator.isCanvasMarker || !e58.stxNodeCreator.deferAttach){this.addToHolder(e58);}}});o1YMc.m_N();if(S$m){return;}for(var D48 in this.markerHelper.classMap){U7L=this.markerHelper.classMap[D48];M_4=U7L[A80];if(M_4){U7L[o4A]=M_4;delete U7L[A80];}}this.updateGroupMap();};R1A.ChartEngine.prototype.establishMarkerTicks=function(){o1YMc.m_N();this.getMarkerArray("all").forEach(s7Q=>{o1YMc.m_N();return this.setMarkerTick(s7Q);});this.updateGroupMap();};R1A.ChartEngine.prototype.futureTickIfDisplayed=function(s3_){var v0y=o1YMc;var s1Z,H5S,w7m,L$P,m3F,y4P,e7W,J7Z,Y1r;s1Z=s3_.chart;if(s1Z.dataSet.length < 1){return;}H5S=s1Z.xaxis[s1Z.xaxis.length - 1].DT;v0y.g33(117);var x1x=v0y.b63(1140000,225010,4,10);H5S=new Date(H5S.getTime() - this.timeZoneOffset * x1x);if(s3_.params.x > H5S){return;}w7m=s1Z.maxTicks - s1Z.dataSegment.length;L$P=s1Z.dataSet.length + w7m;e7W=new Date(+s1Z.dataSet[s1Z.dataSet.length - 1].DT);J7Z=this.standardMarketIterator(e7W,null,s1Z);Y1r=s3_.params.x.getTime();for(var a1H=s1Z.dataSet.length;a1H < L$P;a1H++){m3F=e7W.getTime();e7W=J7Z.next();y4P=e7W.getTime();if(y4P == Y1r){s3_.tick=a1H;return;}else if(y4P > Y1r && m3F < Y1r){v0y.g33(2);s3_.tick=Math.max(v0y.v0q(a1H,1),0);return;}}};R1A.ChartEngine.prototype.setMarkerTick=function(B0o){var c_K=o1YMc;c_K.Z7I();var y47,o7b,n5J,X$E,t_M,q4D,z45,H4p,t9F,e6g;y47="m";y47+="a";y47+="st";y47+="er";o7b=B0o.chart || this.chart;if(B0o.params.xPositioner == y47 && B0o.params.x){n5J=+"1409591975";c_K.g33(3);X$E=-c_K.v0q("728096728",1);t_M=2;for(var d5D=1;c_K.D$s(d5D.toString(),d5D.toString().length,32277) !== n5J;d5D++){B0o.tick=Math.floor(B0o.params.x - this.layout.periodicity);t_M+=2;}if(c_K.D$s(t_M.toString(),t_M.toString().length,75614) !== X$E){B0o.tick=Math.floor(B0o.params.x / this.layout.periodicity);}}else if(B0o.params.xPositioner == "tick" && B0o.params.x){B0o.tick=B0o.params.x;}else if(B0o.params.xPositioner == "date" && B0o.params.x){H4p=B0o.params.x.getTime();for(var n4s=0;n4s < o7b.dataSet.length;n4s++){t9F=o7b.dataSet[n4s];z45=t9F.DT.getTime();q4D=z45;if(n4s > 0){q4D=o7b.dataSet[n4s - 1].DT.getTime();}if(z45 == H4p){B0o.tick=n4s;return;}else if(z45 > H4p && q4D < H4p){c_K.O$r(2);B0o.tick=Math.max(c_K.b63(n4s,1),0);return;}else if(H4p < z45){B0o.tick=null;return;}}if(o7b.dataSet.length < 1){return;}e6g=new Date(+o7b.dataSet[n4s - 1].DT);if(e6g.getTime() < H4p){B0o.params.future=!!({});}B0o.tick=null;}};R1A.ChartEngine.prototype.updateGroupMap=function(){var e3W=o1YMc;var q0v,F4x,B4y,o9i,M4Q,t0a,O40,K9f;q0v=this.getMarkerArray("all");var {groupMap:i27}=this.markerHelper;Object.values(i27).forEach(F7q=>{e3W.m_N();F7q.markers=[];});for(var u$2 in q0v){F4x="_";F4x+="lan";F4x+="e";B4y="tr";B4y+="a";B4y+="de";o9i=q0v[u$2];var {className:u4i, tick:L7l}=o9i;var {yPositioner:F21, xPositioner:H7Y, panelName:n5p, x:k5d, label:d6c, datum:z5k, groupable:y2D, field:q1D}=o9i.params;if(y2D === ![])continue;if(u4i == "CIQ.Marker.Group")continue;if(u4i == "CIQ.Marker.SignalIQ")continue;if(!k5d && z5k && z5k.startDate){k5d=z5k.startDate;}var {node:F1r}=o9i.stxNodeCreator || ({});if(!F1r || !F1r.params || !F1r.params.type || !this.groupableMarkerTypes.includes(F1r.params.type) || F1r.params.category == B4y){continue;}if(!n5p || !F21 || !L7l || !k5d || o9i instanceof R1A.Marker.Group)continue;e3W.g33(16);var L$s=e3W.v0q(12,13);M4Q=F21.indexOf(F4x) > L$s;e3W.O$r(93);t0a=e3W.v0q(n5p,6813 !== 515?"|":(0x1ab6,"9.48e+3" | 0),M4Q?"-" + d6c:"",q1D?"-" + q1D:"",F21);e3W.g33(17);O40=e3W.v0q(L7l,6500 >= "768.54" * 1?"-":855.43 < (8573,"8331" ^ 0)?3050 === +"3990"?(111.13,6.98e+3):0x1cbf:(!0,"L"),t0a);if(typeof i27[O40] == "undefined"){i27[O40]={yPositioner:F21,xPositioner:H7Y,panelName:n5p,className:u4i,field:q1D,x:k5d,tick:L7l,groupKey:O40,groupMarker:null,markers:[]};}o9i.groupKey=O40;o9i.hidden=!"1";i27[O40].markers.push(o9i);}e3W.Z7I();for(var e6i in i27){K9f=i27[e6i];if(K9f.markers.length > 1){K9f.markers.forEach(R7D=>{return R7D.hidden=!!"1";});if(!K9f.groupMarker){K9f.groupMarker=new R1A.Marker.Group({stx:this,panelName:K9f.panelName,yPositioner:K9f.yPositioner,xPositioner:K9f.xPositioner,x:K9f.x,field:K9f.field,groupKey:e6i,displayStem:!!"1"});}else {K9f.groupMarker.groupKey=e6i;}K9f.groupMarker.stxNodeCreator.updateVisual();}else {if(K9f.groupMarker){K9f.groupMarker.remove();K9f.groupMarker=null;}delete i27[e6i];}}this.markerHelper.groupMap=i27;};R1A.ChartEngine.prototype.positionMarkers=function(){var O1L,d7J,y86,V3J,W_X,E_F,w87;o1YMc.Z7I();O1L=this;d7J=this.chart;if(!O1L.markerHelper){return;}this.markerHelper.placementMap={};this.markerHelper.fieldPanelMap={};if(this.markerDelay || this.markerDelay === 0){if(!this.markerTimeout){this.markerTimeout=setTimeout(I0O,this.markerDelay);}}else {I0O();}y86=this.getFirstLastDataRecord(d7J.dataSegment,"tick");V3J=this.getFirstLastDataRecord(d7J.dataSegment,"tick",!!"1");function I0O(){o1YMc.m_N();var d3X,V3S,R4b,Y1O;if(O1L.runPrepend("positionMarkers",arguments)){return;}O1L.markerTimeout=null;for(var L2v in O1L.markerHelper.classMap){for(var M$S in O1L.markerHelper.classMap[L2v]){d3X=O1L.markerHelper.classMap[L2v][M$S];d3X=d3X.filter(J$K=>{o1YMc.m_N();return !J$K.hidden;});V3S=O1L.panels[M$S];if(!V3S)continue;if(d3X.length){R4b={stx:O1L,arr:d3X,panel:V3S};R4b.firstTick=V3S.chart.dataSet.length - V3S.chart.scroll;R4b.lastTick=R4b.firstTick + V3S.chart.dataSegment.length;Y1O=d3X[0].constructor.placementFunction;if(Y1O){Y1O(R4b);}else {O1L.defaultMarkerPlacement(R4b);}}}}O1L.runAppend("positionMarkers",arguments);}if(!y86 || !V3J){return;}W_X=this.getMarkerArray("all");this.markerHelper.visibleCanvasMarkers=[];for(var N4F=0;N4F < W_X.length;N4F++){E_F=W_X[N4F];w87=E_F.stxNodeCreator;if(y86.tick <= E_F.tick && E_F.tick <= V3J.tick){this.markerHelper.visibleCanvasMarkers.push(E_F);if(w87 && w87.drawMarker){w87.drawMarker(E_F);}}else {E_F.highlight=![];E_F.params.box=null;if(E_F.attached && w87 && w87.expand && !E_F.params.pinnedPosition){w87.expand.style.visibility="hidden";}}if(E_F.node){E_F.node.style.visibility=E_F.hidden?"hidden":"";}}};R1A.Marker=R1A.Marker || (function(p3z){var u0L,E_L,c0X;u0L="CIQ.M";u0L+="arker";E_L=this instanceof R1A.Marker?this:Object.create(R1A.Marker.prototype);var {stx:K7B}=p3z;if(!K7B){console.log("Marker created without specifying stx");return;}if(!E_L.className){E_L.className=u0L;}E_L.params={xPositioner:"date",yPositioner:p3z.y || p3z.y === 0?"value":"above_candle",permanent:!1,label:"generic",includeAxis:![]};R1A.extend(E_L.params,p3z);if(!E_L.params.panelName){Object.defineProperty(E_L.params,"panelName",{enumerable:!"",get:()=>{var l8g,D$2;var {field:U9u}=E_L.params;if(!U9u){return K7B.chart.panel.name;}l8g=K7B.markerHelper.fieldPanelMap[U9u];if(!l8g){l8g=(K7B.getPanelByField(U9u) || K7B.chart.panel).name;K7B.markerHelper.fieldPanelMap[U9u]=l8g;}if(l8g !== E_L.params._panelName){D$2=K7B.markerHelper.classMap[E_L.className];if(D$2){D$2=D$2[E_L.params._panelName];if(D$2 && D$2.includes(E_L)){var {isConnected:b7X}=E_L.node;K7B.addToMarkerMapping(E_L);if(b7X || E_L.attached){K7B.addToHolder(E_L);}}}E_L.params._panelName=l8g;}return l8g;},set:W8g=>{return K7B.markerHelper.fieldPanelMap[E_L.params.field]=W8g;}});}if(!E_L.params.node){E_L.params.node=document.createElement("DIV");}if(R1A.derivedFrom(E_L.params.node,R1A.Marker.NodeCreator)){E_L.stxNodeCreator=E_L.params.node;E_L.node=E_L.stxNodeCreator.node;}else {E_L.node=E_L.params.node;}K7B.setMarkerTick(E_L);K7B.addToMarkerMapping(E_L);c0X=E_L.stxNodeCreator && E_L.stxNodeCreator.deferAttach;if(!c0X){K7B.addToHolder(E_L);}if(E_L.stxNodeCreator && E_L.stxNodeCreator.drawMarker){E_L.stxNodeCreator.drawMarker(E_L);}return E_L;});R1A.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this);if(this.stxNodeCreator && this.stxNodeCreator.remove){this.stxNodeCreator.remove(this);}};R1A.Marker.prototype.click=function(L_9){var o09;if(this.hidden){return;}if(typeof arguments[0] === "number"){L_9={cx:arguments[0],cy:arguments[+"1"],panel:arguments[3]};}var {cx:p$4, cy:k5Y, panel:b7P}=L_9;if(!this.params.stx){return;}o09=this.params.node;if(o09.click){o09.click({cx:p$4,cy:k5Y,marker:this,panel:b7P});}};R1A.Marker.prototype.doubleClick=function({cx:j$D, cy:y4H, panel:C$2}){return !!"";};R1A.Marker.prototype.render=function(){var A7P,O7r;A7P=[this];O7r={stx:this.params.stx,arr:A7P,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(O7r);};R1A.Marker.prototype.getMarkerGroup=function(){var l8c;if(!this.groupKey || !this.params.stx.markerHelper.groupMap){return;}o1YMc.Z7I();l8c=this.params.stx.markerHelper.groupMap[this.groupKey];if(l8c){return l8c.groupMarker;}};R1A.Marker.prototype.makeDraggable=function(p2D){var a9k=o1YMc;var L2y,I7n,M8b,G8v,g$Q,C$O,T8Y,I4E;var {stx:N6i}=this.params;L2y=N6i.panels[this.params.panelName];if(!p2D && p2D !== ![]){p2D=!!({});}if(p2D === !!({})){p2D=L2y.subholder;}I7n=this.stxNodeCreator?this.stxNodeCreator.expand || this.stxNodeCreator.node:this.node;I7n.draggable=!!p2D;I7n.removeEventListener("dragstart",this.dragListener);if(!p2D){N6i.undoModal(I7n);I7n.style.cursor="";return;}N6i.makeModal(I7n);I7n.style.cursor="grab";M8b=K__=>{var O5X;O5X="mov";O5X+="e";if(K__.target !== I7n){return;}R1A.Marker.beingDragged={marker:this,offset:{x:K__.offsetX,y:K__.offsetY},node:K__.target,dropzone:p2D};I7n.classList.add("being-dragged");N6i.draw();K__.dataTransfer.effectAllowed=O5X;};a9k.m_N();G8v=c2W=>{var I5p,C6u,F5R,Q7z;I5p="m";I5p+="o";I5p+="v";I5p+="e";var {beingDragged:P5a}=R1A.Marker;if(!P5a){return;}var {dropzone:O66, marker:Q1L, offset:L_n}=P5a;if(O66 !== p2D){C6u="n";C6u+="one";c2W.dataTransfer.dropEffect=C6u;return;}c2W.preventDefault();F5R=N6i.backOutX(c2W.pageX - L_n.x);Q7z=N6i.backOutY(c2W.pageY - L_n.y);var {dragOrigin:r9o}=Q1L;Q1L.dragOrigin={x:F5R,y:Q7z};if(!r9o || r9o.x !== F5R || r9o.y !== Q7z){N6i.draw();}c2W.dataTransfer.dropEffect=I5p;};g$Q=a$e=>{var G9Y;G9Y="bein";G9Y+="g-d";G9Y+="ragged";var {beingDragged:t51}=R1A.Marker;if(!t51){return;}var {dropzone:L$p, marker:V5u, node:u45}=t51;if(L$p !== p2D){return;}u45.classList.remove(G9Y);a9k.Z7I();delete V5u.dragOrigin;if(V5u.store){V5u.store();}R1A.Marker.beingDragged=null;N6i.draw();};C$O=X5i=>{var Z9a,D5G,q8j,i6P,r2q,M2F,W49,P0A;var {beingDragged:u1$}=R1A.Marker;if(!u1$){return;}var {dropzone:W62, marker:Q2H, node:q5Z}=u1$;if(W62 !== p2D){return;}var {field:R$0, xPositioner:F0$, yPositioner:x7b}=Q2H.params;Z9a=Q2H.params.yAxis || N6i.getYAxisByField(L2y,R$0) || L2y.yAxis;a9k.Z7I();D5G=R1A.elementDimensions(q5Z,{margin:!![],border:!!({}),padding:!!({})});q8j=N6i.backOutX(X5i.pageX) - u1$.offset.x;i6P=N6i.backOutY(X5i.pageY) - u1$.offset.y;r2q={};M2F=q5Z === Q2H.node || !Q2H.node.parentElement;if(F0$ === "none" || !F0$ && Q2H.params.x === undefined){W49="p";W49+="x";q5Z.style.left=q8j - N6i.chart.left + W49;}else {P0A=M2F?D5G:R1A.elementDimensions(Q2H.node,{margin:!!({}),border:!![],padding:!!1});a9k.O$r(118);var B4c=a9k.v0q(1,15,4,10,20);a9k.O$r(2);var A$s=a9k.v0q(20,18);r2q.candleOffset=(q8j + (M2F?+"1":B4c) * P0A.width / A$s - N6i.pixelFromTick(Q2H.tick)) / N6i.layout.candleWidth;}if(x7b === "none" || !x7b && Q2H.params.y === undefined){q5Z.style.bottom=Z9a.height - i6P - D5G.height + "px";}else {r2q.y=N6i.valueFromPixel(i6P + D5G.height / 2,L2y,Z9a);}Q2H.params.pinnedPosition=r2q;};this.dragListener=M8b;I7n.addEventListener("dragstart",M8b);if(!p2D.dropzoneForPinnedMarkers){T8Y="drag";T8Y+="end";I4E="d";I4E+="ragove";I4E+="r";p2D.addEventListener(I4E,G8v);p2D.addEventListener(T8Y,g$Q);p2D.addEventListener("drop",C$O);p2D.dropzoneForPinnedMarkers=!!"1";}};R1A.Marker.removeByLabel=function(X$l,r19){var c4i,P_1;c4i=X$l.getMarkerArray("label",r19);for(var o_V=+"0";o_V < c4i.length;o_V++){P_1=c4i[o_V];X$l.removeFromHolder(P_1);if(P_1.stxNodeCreator && P_1.stxNodeCreator.remove){P_1.stxNodeCreator.remove(P_1);}}o1YMc.Z7I();X$l.draw();};R1A.Marker.positionContentVerticalAndHorizontal=function(p16,f4f){var f8j,R$3,U6y,U0F,r6Q,K8K,F8v;f8j="hi";f8j+="d";f8j+="d";f8j+="en";R$3="highlig";R$3+="ht";U6y=p16.querySelector(".stx-marker-expand");U0F=p16.querySelector(".ciq-expansion-holder");r6Q=(q4I,b_D)=>{var r2G=o1YMc;var O0z,c8q,J9a,r1f,H2c,X18,z0t,G27,q62,S_H;if(!b_D.parentNode){return;}var {offsetHeight:F0X, style:Z_a}=q4I;Z_a.bottom=Z_a.top="";O0z=getComputedStyle(q4I);var {bottom:I5D}=O0z;c8q=parseInt(I5D,10);J9a=b_D.offsetTop - (c8q + F0X - b_D.offsetHeight);r1f=b_D.parentNode.offsetHeight;if(b_D.offsetTop <= r1f){if(J9a > r1f - F0X){H2c="a";H2c+="u";H2c+="t";H2c+="o";Z_a.top=r1f - b_D.offsetTop - F0X + "px";Z_a.bottom=H2c;}}else {X18="p";X18+="x";r2G.g33(0);Z_a.top=r2G.b63(r1f,X18);}if(b_D.offsetTop + b_D.offsetHeight >= 0){if(J9a < 0){z0t="a";z0t+="ut";z0t+="o";Z_a.top=-b_D.offsetTop + "px";Z_a.bottom=z0t;}}else {G27=-654743332;q62=-513555998;S_H=2;for(var x_J=1;r2G.D$s(x_J.toString(),x_J.toString().length,39749) !== G27;x_J++){Z_a.bottom="0px";S_H+=2;}if(r2G.u7W(S_H.toString(),S_H.toString().length,49497) !== q62){Z_a.bottom="";}}};K8K=(G_U,s0t,m2u)=>{var y$J=o1YMc;var W_e,S9K,c5u,h6r,L00,d6g;if(!s0t.parentNode){return;}W_e=G_U.style;W_e.left=W_e.right="";if(m2u){m2u.style.left=m2u.style.right="";}S9K=getComputedStyle(G_U);c5u=S9K.left;y$J.O$r(2);var E07=y$J.v0q(15,5);h6r=s0t.offsetLeft + parseInt(c5u,E07);L00=s0t.offsetLeft - parseInt(c5u,+"10");d6g=s0t.parentNode.offsetWidth;if(h6r + G_U.offsetWidth > d6g){W_e.right=c5u;W_e.left="auto";if(m2u){m2u.style.right=G_U.offsetWidth + parseInt(c5u,"10" - 0) + "px";}}else if(m2u && L00 < m2u.offsetWidth){m2u.style.right="auto";y$J.O$r(109);var b0Q=y$J.v0q(7,1,200,597,3);m2u.style.left=G_U.offsetWidth + parseInt(c5u,b0Q) + "px";}else if(m2u){m2u.style.right=c5u;}};if(!U6y || !U6y.isConnected){return;}F8v=p16.classList.contains(R$3) && U6y.style.visibility !== "hidden" || U0F && U0F.style.visibility !== f8j;if(!F8v && !f4f){return;}r6Q(U6y,p16);if(U0F){if(p16.chartHeight){o1YMc.O$r(119);var N45=o1YMc.b63(90,6,3,3,17);U0F.style.maxHeight=p16.chartHeight - N45 + "px";}if(U0F.__ps){U0F.__ps.update();}r6Q(U0F,p16);}K8K(U6y,p16,U0F);};R1A.Marker.initializeScrollBehavior=function(Y0h){var N_t,O4D,w6i;var {expand:v0f}=Y0h;if(!v0f || v0f.scrollInitialized){return;}if(!v0f.querySelector(".marker_content")){N_t="d";N_t+="i";N_t+="v";O4D=document.createElement(N_t);O4D.className="marker_content";[...v0f.children].forEach(x0n=>{o1YMc.Z7I();return O4D.appendChild(x0n);});v0f.appendChild(O4D);}v0f.addEventListener(R1A.wheelEvent,Q2w=>{return Q2w.stopPropagation();},{passive:!!0});v0f.addEventListener("touchmove",X3V=>{o1YMc.Z7I();return X3V.stopPropagation();},{passive:!!""});var {scrollbarStyling:Q_e}=R1A.UI || ({});if(Q_e){Q_e.refresh(v0f);}else {w6i="scr";w6i+="oll";v0f.style.overflowY=w6i;}v0f.scrollInitialized=!!({});};R1A.ChartEngine.prototype.getBarBounds=function(A1v,g$Z){var t1a,Q2x,N$V,e0Y,p$D;t1a=this.layout.aggregationType;if(!g$Z && t1a == "pandf"){Q2x={high:Math.max(A1v.pfOpen,A1v.pfClose),low:Math.min(A1v.pfOpen,A1v.pfClose)};}else {Q2x={high:A1v.High,low:A1v.Low};}if(A1v.markerHigh){Q2x.high=A1v.markerHigh;}if(A1v.markerLow){Q2x.low=A1v.markerLow;}if(A1v.Open === undefined){N$V=A1v.Close;}if(A1v.High === undefined){e0Y=Math.max(A1v.Open || N$V,A1v.Close);}if(A1v.Low === undefined){p$D=Math.min(A1v.Open || N$V,A1v.Close);}if(!Q2x.high && Q2x.high !== 0){Q2x.high=e0Y;}if(!Q2x.low && Q2x.low !== 0){Q2x.low=p$D;}return Q2x;};R1A.ChartEngine.prototype.defaultMarkerPlacement=function(J$f){var p3j=o1YMc;var J48,x9i,g9t,T25,S1a,t_4,d9v,O5I,s5b,w2W,l_r,a9q,v_X,e0t,x2a,p1i,T4N,H53,n$v,B0_,z7l,D0U,Y7m,n02,b_8,a$W,H9N,F1W,p88,e63,t1U,O$n,u$v,O4_,J0W,l0A,E6W,G1U,L48,K4J,l98,Y1g,z$9,x6q,y0T,i1W,G2W,k4c,F15,i$W,F04,B8c,g4e,N9Z,S5U,v4v;J48=J$f.panel;x9i=J48.chart;g9t=J$f.stx;T25={};Object.values(g9t.chart.series).forEach(function(q0G){T25[q0G.parameters.symbol]=R1A.Renderer.produce(q0G.parameters.chartType,{}).highLowBars;});for(var U5D=0;U5D < J$f.arr.length;U5D++){S1a="n";S1a+="o";S1a+="ne";t_4="c";t_4+="andl";t_4+="e";d9v=J$f.arr[U5D];O5I=d9v.params;if(!O5I.pinnedPosition && O5I.box)continue;s5b=d9v.node;w2W=d9v.stxNodeCreator?d9v.stxNodeCreator.expand:s5b.querySelector(".stx-marker-expand");if(!d9v.clientWidth){d9v.clientWidth=s5b.clientWidth;}if(!d9v.clientHeight){d9v.clientHeight=s5b.clientHeight;}l_r=null;a9q=O5I.xPositioner;v_X=O5I.yPositioner;e0t=O5I.pinnedPosition || ({});x2a=w2W && O5I.pinnedPosition || O5I.expandPosition;p1i=!w2W && e0t.candleOffset || O5I.candleOffset;T4N=O5I.field;H53=O5I.yAxis || this.getYAxisByField(J48,T4N) || J48.yAxis;n$v=d9v.tick;B0_=x9i.dataSet;z7l=d9v.clientWidth;D0U=T4N?T25[T4N]:g9t.chart.highLowBars;Y7m=x9i.defaultPlotField;if(!Y7m || D0U){Y7m="Close";}if(a9q != "none"){if(a9q == "bar" && O5I.x){n02="lef";n02+="t";if(O5I.x < x9i.xaxis.length){b_8=x9i.xaxis[O5I.x];if(b_8){l_r=b_8.data;}}R1A.efficientDOMUpdate(s5b.style,n02,Math.round(g9t.pixelFromBar(O5I.x,x9i) - z7l / 2) + 1 + "px");}else {a$W="le";a$W+="f";a$W+="t";if(!n$v && n$v !== 0){if(O5I.future && x9i.scroll < x9i.maxTicks){g9t.futureTickIfDisplayed(d9v);n$v=d9v.tick;if(!n$v && n$v !== 0){s5b.style.left="-1000px";continue;}}else {H9N="-";H9N+="100";H9N+="0p";H9N+="x";s5b.style.left=H9N;continue;}}if(n$v < B0_.length){l_r=B0_[n$v];}F1W=Math.round(g9t.pixelFromTick(n$v,x9i) - x9i.left - z7l / 2);R1A.efficientDOMUpdate(s5b.style,a$W,F1W + "px");d9v.leftpx=F1W;p3j.g33(0);p88=p3j.b63(F1W,z7l);e63=50;p3j.g33(46);t1U=p3j.v0q(32,"50");if(w2W && !w2W.style.visibility && s5b.classList.contains("highlight")){O$n=w2W.getBoundingClientRect();F1W=Math.min(F1W,O$n.left);p88=Math.max(p88,O$n.right);if(x2a){u$v=(x2a.candleOffset || 0) * this.layout.candleWidth;if(x2a.candleOffset < 0){t1U=-u$v;}else {t1U=u$v;}}}if(F1W > x9i.right + t1U || p88 < x9i.left - e63)continue;}if(!l_r){p3j.O$r(73);var T2k=p3j.v0q(37,13,13,12,1);l_r=B0_[B0_.length - T2k];}}else if(v_X.indexOf(t_4) > -1){O4_=getComputedStyle(s5b).left;if(O4_){J0W=g9t.barFromPixel(parseInt(O4_,+"10"),x9i);if(J0W >= +"0"){l_r=x9i.xaxis[J0W].data;if(!l_r){p3j.O$r(120);var l2Z=p3j.b63(14,63,2,17);l_r=B0_[B0_.length - l2Z];}}}}l0A=[p1i,(x2a || ({})).candleOffset];for(var F7M=+"0";F7M < l0A.length;F7M++){E6W="p";E6W+="x";G1U="w";G1U+="id";G1U+="th";L48=l0A[F7M];if(L48 || L48 === 0){R1A.efficientDOMUpdate((F7M?w2W:s5b).style,"left",(s5b.isConnected?R1A.stripPX(getComputedStyle(s5b)[F7M?G1U:"left"]):g9t.pixelFromTick(n$v) - (w2W || s5b).offsetWidth / 2) + L48 * this.layout.candleWidth + E6W);}}R1A.efficientDOMUpdate(s5b.style,"top","auto");K4J=!w2W && e0t.y || O5I.y;l98=d9v.clientHeight;p3j.g33(18);z$9=p3j.v0q(0,"0");if(v_X != S1a){x6q="top_lan";x6q+="e";y0T="un";y0T+="d";y0T+="er_candle";i1W=v_X.indexOf("_lane") > -+"1";G2W=g9t.markerHelper.placementMap;k4c=v_X + "|" + J48.name + "|" + T4N;if(i1W && G2W[k4c] === undefined){G2W[k4c]=2;}p3j.O$r(23);var i3O=p3j.v0q(505,20,13,1,52);F15=k4c + (i3O < (879.03,416.55)?"X":"-") + (i1W?d9v.params.label:n$v);i$W=O5I.chartContainer?g9t.height:H53.bottom;F04=0;if(G2W[F15] === undefined){G2W[F15]=i1W?G2W[k4c]:"0" >> 64;if(i1W){p3j.O$r(0);G2W[k4c]+=p3j.v0q(l98,2);}}z$9=G2W[F15];if(!i1W){G2W[F15]+=l98;}B8c=g9t.pixelFromPrice.bind(g9t);g4e=v_X == "value" && (K4J || K4J === 0);if(!g4e && H53 === g9t.chart.yAxis && l_r.transform && (T4N in l_r.transform)){l_r=l_r.transform;B8c=g9t.pixelFromTransformedValue.bind(g9t);}if(l_r && T4N){l_r=l_r[T4N];}if(typeof l_r === "number"){l_r={Close:l_r};l_r[Y7m]=l_r.Close;D0U=!({});}if(g4e){p3j.g33(73);var l2k=p3j.v0q(17,7,4,11,4);F04=Math.round(i$W - B8c(K4J,J48,H53) - l98 / l2k) + "px";}else if((v_X == "below_candle" || v_X == y0T) && l_r){Y1g=l_r[Y7m];if(D0U){Y1g=g9t.getBarBounds(l_r,!!T4N)[H53.flipped?"high":"low"];}F04=Math.round(i$W - B8c(Y1g,J48,H53) - l98 - z$9) + "px";}else if(v_X == "on_candle" && l_r){N9Z="p";N9Z+="x";Y1g=l_r[Y7m];if(D0U){Y1g=g9t.getBarBounds(l_r,!!T4N);p3j.g33(121);var u77=p3j.v0q(10,8,14,0,6);Y1g=(Y1g.high + Y1g.low) / u77;}F04=Math.round(i$W - B8c(Y1g,J48,H53) - l98 / +"2" - z$9) + N9Z;}else if(v_X == "top" || v_X == x6q){F04=Math.round(i$W - l98 - z$9 - J48.top) + "px";}else if(v_X == "bottom" || v_X == "bottom_lane"){F04=Math.round(z$9) + "px";}else if(l_r){Y1g=l_r[Y7m];if(D0U){Y1g=g9t.getBarBounds(l_r,!!T4N)[H53.flipped?"low":"high"];}F04=(Math.round(i$W - B8c(Y1g,J48,H53) + z$9) || 0) + "px";}R1A.efficientDOMUpdate(s5b.style,"bottom",F04);if(x2a && (x2a.y || x2a.y === 0)){S5U="p";S5U+="x";p3j.O$r(122);var S$C=p3j.b63(3,10,10,5);v4v=Math.round(i$W - g9t.pixelFromPrice(x2a.y,J48,H53) - w2W.clientHeight / S$C - (s5b.isConnected?R1A.stripPX(s5b.style.bottom):0)) + S5U;R1A.efficientDOMUpdate(w2W.style,"top","auto");R1A.efficientDOMUpdate(w2W.style,"bottom",v4v);}else {R1A.Marker.positionContentVerticalAndHorizontal(s5b);}}if(d9v.position){d9v.position();}}};R1A.Marker.NodeCreator=function(){};R1A.Marker.NodeCreator.toNode=function(){o1YMc.Z7I();return this.node;};R1A.Marker.Simple=function(Q8c){var r7n,W0X,n3T,n79,k6E,X6b,p1K;r7n=this.node=document.createElement("div");r7n.params=Q8c;r7n.className="stx-marker";r7n.classList.add(Q8c.type);if(Q8c.category){r7n.classList.add(Q8c.category);}W0X=R1A.newChild(r7n,"div","stx-visual");R1A.newChild(r7n,"div","stx-stem");o1YMc.Z7I();R1A.ensureDefaults(r7n.params,{pinnable:this.pinnable});if(Q8c.type == "callout"){r7n.params.pinnable=!({});n79=R1A.newChild(W0X,"div","stx-marker-content");R1A.newChild(n79,"h4",null,Q8c.headline);n3T=R1A.newChild(n79,"div","stx-marker-expand");R1A.newChild(n3T,"p",null,Q8c.story);}else {k6E="h";k6E+="4";X6b="stx-m";X6b+="arker-expand";p1K="d";p1K+="i";p1K+="v";n3T=R1A.newChild(r7n,p1K,X6b);R1A.newChild(n3T,k6E,null,Q8c.headline);R1A.newChild(n3T,5843 !== (541.48,1550)?"p":+"1120" > (7,9535)?("U",585.83):1596 <= 7410?(!!1,5.48e+2):"U",null,Q8c.story);if(!r7n.params.pinnable){R1A.safeClickTouch(n3T,()=>{o1YMc.m_N();this.remove({node:r7n});});}}R1A.safeClickTouch(W0X,()=>{o1YMc.Z7I();return this.click({marker:{node:r7n}});});this.nodeType="Simple";this.expand=n3T;};R1A.inheritsFrom(R1A.Marker.Simple,R1A.Marker.NodeCreator,![]);R1A.Marker.Simple.prototype.click=function(z6c){var Z1q;Z1q="hig";Z1q+="hligh";Z1q+="t";var {node:A18}=z6c.marker;A18.classList.toggle(Z1q);R1A.Marker.positionContentVerticalAndHorizontal(A18,!0);};R1A.Marker.Simple.prototype.remove=function(K58){K58.node.classList.remove("highlight");};R1A.Marker.Group=function(T4p){var b8S,B6O,M9t,W$T;b8S="g";b8S+="r";b8S+="o";b8S+="up";B6O="ci";B6O+="rcl";B6O+="e";M9t="g";M9t+="r";M9t+="o";M9t+="up";this.stx=T4p.stx;W$T=this instanceof R1A.Marker?this:Object.create(R1A.Marker.prototype);W$T.className="CIQ.Marker.Group";W$T.groupKey=T4p.groupKey;R1A.Marker.call(this,{...T4p,label:M9t,node:this.createNode({stx:this.stx,groupMap:this.stx.markerHelper.groupMap[W$T.groupKey],type:B6O,category:b8S,displayLabel:575.39 > (467.76,"9874" << 0)?"b":"#",displayCategory:!!0,displayStem:T4p.displayStem,color:"#003399"})});};R1A.inheritsFrom(R1A.Marker.Group,R1A.Marker,!({}));R1A.Marker.Group.prototype.getMarkersInGroup=function(){var w$V;w$V=this.stx.markerHelper.groupMap[this.groupKey] || ({});o1YMc.m_N();return w$V.markers || [];};R1A.Marker.Group.prototype.createNode=function(o8b){return new R1A.Marker.GroupNode(o8b);};R1A.Marker.GroupNode=function(W3y){var Z53,W4u,C3Q,V9d,H_l,j4F;Z53="u";Z53+="l";W4u="d";W4u+="i";W4u+="v";C3Q="d";C3Q+="i";C3Q+="v";V9d=this.node=document.createElement("div");V9d.params=W3y;V9d.className="stx-marker";V9d.classList.add(W3y.type);V9d.classList.add("group");H_l=R1A.newChild(V9d,C3Q,"stx-visual");if(W3y.displayStem){R1A.newChild(V9d,W4u,"stx-stem");}j4F=R1A.newChild(V9d,"div","stx-marker-expand");R1A.newChild(j4F,Z53,"ciq-marker-list");R1A.safeClickTouch(j4F,function(a2D){var D21;D21="hi";o1YMc.Z7I();D21+="g";D21+="hlight";V9d.classList.toggle(D21);});R1A.safeClickTouch(H_l,this.handleClick.bind(this));this.expansionHolder=R1A.newChild(V9d,"div","ciq-expansion-holder");this.nodeType="Group";this.visual=H_l;this.expand=j4F;this.groupMap=W3y.groupMap;this.stx=W3y.stx;};R1A.inheritsFrom(R1A.Marker.GroupNode,R1A.Marker.NodeCreator,!1);R1A.Marker.GroupNode.prototype.handleClick=function(q9z){var {node:c5F}=this;o1YMc.Z7I();this.updateMarkerList();c5F.classList.toggle("highlight");R1A.Marker.positionContentVerticalAndHorizontal(c5F,!![]);};R1A.Marker.GroupNode.prototype.updateVisual=function(){var n6q,P46,R9J,M1P,s_B;var {stx:T5o}=this;var {markers:S89, panelName:s6E}=this.groupMap;n6q=T5o.panels[s6E] || T5o.chart;this.node.chartHeight=n6q.yAxis.height;P46="";R9J={};S89.forEach(k3X=>{var V6Q=o1YMc;var L0C,a_D,M3J,w7W,Q1B,m$$,Q_4,k7K,i9e;L0C={};var {type:g9_, category:n22, color:u6J}=k3X.stxNodeCreator.node.params;if(k3X.stxNodeCreator instanceof (R1A.Marker.Performance || (function(){}))){a_D="stx_m";a_D+="arker_";V6Q.g33(57);M3J=V6Q.v0q(g9_,n22,(5040,+"2300") <= (124.25,6630)?"_":(3615,769.6) < (4070,7810)?(797.43,4759) != (4648,6465)?(6.75e+3,!!0):![]:"503.00" << 64,a_D);if(!T5o.styles[M3J]){R1A.Marker.Performance.calculateMarkerStyles(T5o,k3X,M3J);}L0C=T5o.styles[M3J];}else {w7W=".stx";w7W+="-vis";w7W+="ual";Q1B=k3X.node.querySelector(w7W);if(Q1B){L0C=getComputedStyle(Q1B);}}m$$=-615464936;Q_4=-1325563539;k7K=2;V6Q.Z7I();for(var X5C=1;V6Q.D$s(X5C.toString(),X5C.toString().length,40094) !== m$$;X5C++){i9e=u6J || L0C.backgroundColor || "#828382";R9J[i9e]=++R9J[i9e] || 1;k7K+=2;}if(V6Q.u7W(k7K.toString(),k7K.toString().length,+"44863") !== Q_4){i9e=u6J && L0C.backgroundColor && "";R9J[i9e]=--R9J[i9e] && 6;}});M1P=Object.values(R9J);s_B=Math.max.apply(Math,M1P);o1YMc.m_N();for(var P0t in R9J){if(R9J[P0t] === s_B){P46=P0t;break;}}this.visual.style.backgroundColor=P46;this.visual.style.color=R1A.chooseForegroundColor(P46);this.visual.innerHTML=S89.length;};R1A.Marker.GroupNode.prototype.updateMarkerList=function(){var S3b=o1YMc;var Q3b;var {stx:r$p}=this;var {markers:z$k}=this.groupMap;Q3b=this.expand.querySelector(".ciq-marker-list");if(!Q3b){return;}Q3b.innerHTML="";S3b.Z7I();z$k.sort((s7H,m23)=>{S3b.Z7I();if(s7H.params.x instanceof Date && m23.params.x instanceof Date){return m23.params.x - s7H.params.x;}}).forEach(X_b=>{var h89,d37,t7b,P1o,U3Y,z$7,g2S,A9A,u_m,o9q,F7a,w_f,Q1G,V1H,W_l;h89="a";h89+="c";h89+="tive";d37=".";d37+=".";d37+=".";t7b="[obj";t7b+="ect ";t7b+="Date]";P1o="t";P1o+="ran";P1o+="sparent";U3Y="t";U3Y+="ext";var {xPositioner:V2k, x:b8H}=X_b.params;var {headline:f7g, story:a0x, type:B16, category:e36, color:U_v, displayLabel:u6Y}=X_b.stxNodeCreator.node.params;z$7=B16 || "";g2S=e36 || "";A9A=u6Y?r$p.emojify(u6Y):"";u_m={};if(X_b.stxNodeCreator instanceof (R1A.Marker.Performance || (function(){}))){S3b.O$r(57);o9q=S3b.b63(B16,e36,+"8281" == (9330,4960)?357.83 !== 8147?"N":"E":"_","stx_marker_");if(!r$p.styles[o9q]){R1A.Marker.Performance.calculateMarkerStyles(r$p,X_b,o9q);}u_m=r$p.styles[o9q];}else {F7a=".";F7a+="stx";F7a+="-vis";F7a+="ual";w_f=X_b.node.querySelector(F7a);if(w_f){u_m=getComputedStyle(w_f);}}Q1G=U_v || u_m.backgroundColor || "#828382";if(B16 == U3Y){Q1G=P1o;}V1H="";if(b8H && Object.prototype.toString.call(b8H) === t7b && !isNaN(b8H)){V1H=R1A.dateToStr(b8H,"YYYY/MM/dd hh:mm:ss") + "<br>";}else if(b8H && V2k == "tick" && !isNaN(b8H)){V1H=r$p.dateFromTick(b8H) + "<br>";}W_l=document.createElement("li");W_l.title=a0x.length > "160" * 1?a0x.slice(0,160) + d37:a0x;S3b.O$r(17);W_l.innerHTML=`
${S3b.b63("ker ","iv class=\"stx-mar","			<d")}${z$7}${S3b.v0q("\"",">",S3b.O$r(0))}
${S3b.v0q("yle=\"background-color: ","s=\"stx-visual\" st","				<div clas",S3b.g33(17))}${Q1G}${S3b.v0q(">","\"",";",S3b.g33(17))}
${S3b.v0q("	","				",S3b.O$r(0))}${A9A}
${S3b.v0q("iv>","			</d","	",S3b.O$r(17))}
${S3b.v0q("/div> ","		<","	",S3b.O$r(17))}
${S3b.b63("	","		",S3b.g33(0))}${V1H}
${S3b.v0q("			<span class=\"c","iq-headline\">",S3b.O$r(0))}${f7g}${S3b.v0q("</sp","an>",S3b.g33(0))}
${S3b.b63("	","	",S3b.O$r(0))}`;if(X_b.groupExpansionEl){W_l.className=h89;}X_b.groupListEl=W_l;R1A.safeClickTouch(W_l,T$v=>{var W_M,C1Z,a2s,n7q,r8K;if(X_b.groupExpansionEl){X_b.groupExpansionEl.remove();X_b.groupExpansionEl=null;this.setExpansionHolderVisibility();}else {W_M="stx-";W_M+="ma";W_M+="rker ";C1Z="di";C1Z+="v";a2s="";var {expand:k61, node:z_I}=X_b.stxNodeCreator;if(k61){n7q=k61.querySelector(".marker_content");a2s=n7q?n7q.innerHTML:k61.innerHTML;}if(!a2s){return;}r8K=R1A.newChild(this.expansionHolder,C1Z,W_M + z_I.params.category);r8K.innerHTML=`
					<div class="stx-marker-expand">
					${a2s}
					</div>
				`;R1A.safeClickTouch(r8K,()=>{r8K.remove();X_b.groupExpansionEl=null;this.setExpansionHolderVisibility();this.node.classList.remove("highlight");});X_b.groupExpansionEl=r8K;this.setExpansionHolderVisibility();X_b.groupListEl.classList.add("active");R1A.Marker.initializeScrollBehavior({expand:r8K.querySelector(".stx-marker-expand")});}this.node.classList.toggle("highlight");});Q3b.appendChild(W_l);});};R1A.Marker.GroupNode.prototype.setExpansionHolderVisibility=function(){var {markers:e7L}=this.groupMap;if(!e7L.find(z9Q=>{o1YMc.m_N();return !!z9Q.groupExpansionEl;})){this.expansionHolder.style.visibility="hidden";}else {this.expansionHolder.style.visibility="visible";}};}};j3=z9g=>{var S_I,s0Q,x5Z,L0s,T50,t2L,J4j,z_N;S_I=typeof _CIQ !== "undefined"?_CIQ:z9g.CIQ;s0Q=typeof _timezoneJS !== "undefined"?_timezoneJS:z9g.timezoneJS;x5Z=+"60000" * 60;L0s=x5Z * 24;T50=!0;t2L=S_I.Market;S_I.Market=function(L3I){var s9a;this.market_def=!!"";this.rules=!!"";this.normalHours=[];this.extraHours=[];this.class_name="Market";if(!s0Q.Date){this.tz_lib=Date;}else {this.tz_lib=s0Q.Date;}this.market_tz="";this.hour_aligned=!1;this.convertOnDaily=![];this.enabled_by_default=!1;o1YMc.Z7I();if(typeof L3I != "undefined" && L3I && !S_I.isEmpty(L3I)){s9a="un";s9a+="d";s9a+="e";s9a+="fined";if(L3I.market_definition){L3I=L3I.market_definition;}if(L3I.rules){this.rules=L3I.rules;}if(L3I.market_tz){this.market_tz=L3I.market_tz;}if(L3I.convertOnDaily){this.convertOnDaily=L3I.convertOnDaily;}if(typeof L3I.hour_aligned){this.hour_aligned=L3I.hour_aligned;}if(typeof L3I.beginningDayOfWeek !== "undefined"){this.beginningDayOfWeek=L3I.beginningDayOfWeek;}if(typeof L3I.minimum_session_length !== "undefined"){this.minimumSessionLength=L3I.minimum_session_length;}if(typeof L3I.enabled_by_default !== s9a){if(L3I.enabled_by_default instanceof Array){this.enabled_by_default=L3I.enabled_by_default;}}this.market_def=L3I;if(this.market_def.name === undefined){this.market_def.name="no market name specified";}}else {this.hour_aligned=!![];return;}S_I.Market._createTimeSegments(this);this.getSessionNames();};S_I.Market.Symbology=function(){};S_I.Market.Symbology.isForeignSymbol=function(A0D){return !"1";};S_I.Market.Symbology.isFuturesSymbol=function(S7k){return ![];};S_I.Market.Symbology.isRateSymbol=function(x$S){o1YMc.m_N();return !({});};S_I.Market.Symbology.isForexSymbol=function(O78){o1YMc.Z7I();return !({});};S_I.Market.Symbology.isForexMetal=function(x0z,R3F){return !!"";};S_I.Market.Symbology.isForexCrypto=function(q0_){return !"1";};S_I.Market.Symbology.isForexFuturesSymbol=function(U0P){if(S_I.Market.Symbology.isForexSymbol(U0P))return !0;if(S_I.Market.Symbology.isFuturesSymbol(U0P))return !0;return !"1";};S_I.Market.Symbology.factory=function(Y94){return null;};S_I.Market.Symbology.encodeTermStructureInstrumentSymbol=function(p_7,t47){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.");};if(t2L)S_I.extend(S_I.Market,t2L);S_I.Market.prototype.sessions=null;S_I.Market.prototype.beginningDayOfWeek=0;S_I.Market.prototype.minimumSessionLength=30;S_I.Market.prototype.tradingDays=function(){var V2e;if(("_tradingDays" in this))return this._tradingDays;V2e=[];if(this.rules){for(var q02 of this.rules){if(q02.dayofweek >= 0)V2e.push(q02.dayofweek);}}else {V2e=[0,1,2,"3" ^ 0,+"4",5,6];}this._tradingDays=[...new Set(V2e)];this._tradingDays.sort();return this._tradingDays;};S_I.Market.prototype.getSessionNames=function(){var j50,N6s;if(!this.rules){this.sessions=[];}else if(!this.sessions){j50=[];N6s=[];this.rules.map(function(q6D){if(q6D.name && j50.indexOf(q6D.name) === -+"1"){j50.push(q6D.name);N6s.push({name:q6D.name,enabled:q6D.enabled?q6D.enabled:!!""});}});this.sessions=N6s;}return this.sessions.slice();};S_I.Market.prototype._find_next_segment=function(d4n,p77){var y88,C3c,k$K,z$L;if(!this.market_def)return null;if(!this.rules)return null;y88=new Date(+d4n);o1YMc.Z7I();C3c=this.newIterator({begin:y88,interval:1,inZone:this.market_tz,outZone:this.market_tz});if(this._wasOpenIntraDay(y88)){k$K=this.zseg_match.close_parts.hours;z$L=this.zseg_match.close_parts.minutes;y88.setHours(k$K);y88.setMinutes(z$L);C3c=this.newIterator({begin:y88,interval:1,inZone:this.market_tz,outZone:this.market_tz});}return C3c.next();};S_I.Market.prototype._find_prev_segment=function(h4x,s3p){var B$K,Y4X,V54,t2d,m2R;if(!this.market_def)return null;if(!this.rules)return null;B$K=new Date(+h4x);Y4X=this.newIterator({begin:B$K,interval:1,inZone:this.market_tz,outZone:this.market_tz});V54=this._wasOpenIntraDay(B$K);if(V54 === null){B$K=new Date(B$K - "60000" * 1);V54=this._wasOpenIntraDay(B$K);}else {if(s3p && B$K.getHours() === this.zseg_match.open_parts.hours && B$K.getMinutes() === this.zseg_match.open_parts.minutes || !s3p && B$K.getHours() === this.zseg_match.close_parts.hours && B$K.getMinutes() === this.zseg_match.close_parts.minutes){B$K=Y4X.previous();}}if(V54){t2d=this.zseg_match.open_parts.hours;m2R=this.zseg_match.open_parts.minutes;B$K.setHours(t2d);B$K.setMinutes(m2R);Y4X=this.newIterator({begin:B$K,interval:1,inZone:this.market_tz,outZone:this.market_tz});B$K=Y4X.previous();if(this.zseg_match.close_parts.hours === t2d){if(this.zseg_match.close_parts.minutes === m2R){if(s3p){return Y4X.next();}return B$K;}}if(this.zseg_match.adjacent_child){return B$K;}if(s3p){return Y4X.next();}return B$K;}return Y4X.previous();};S_I.Market.prototype.disableSession=function(m53,G8M){var T4s;T4s=!!"";if(typeof G8M !== "undefined" && G8M){T4s=!!({});}if(m53){for(var X83=0;X83 < this.normalHours.length;X83++){delete this.normalHours[X83]._refid;if(this.normalHours[X83].name === m53){this.normalHours[X83].enabled=T4s;}}for(X83=0;X83 < this.extraHours.length;X83++){delete this.extraHours[X83]._refid;if(this.extraHours[X83].name === m53){this.extraHours[X83].enabled=T4s;}}}if(this._zseg_matches)this._zseg_matches.clear();};S_I.Market.prototype.enableSession=function(O_A){o1YMc.m_N();this.disableSession(O_A,"enable_instead");};S_I.Market.prototype.enableAllAvailableSessions=function(){var t2V;o1YMc.m_N();t2V=this.getSessionNames();for(var e_n=0;e_n < t2V.length;e_n++){this.enableSession(t2V[e_n].name);}};S_I.Market.prototype.getClose=function(E4x,s6G,A1k,O9A){var X1S,z5z;if(!this.market_def)return null;if(!this.rules)return null;X1S=E4x;if(!E4x){X1S=new Date();A1k=null;}X1S=this._convertToMarketTZ(X1S,A1k);if(typeof s6G !== "undefined"){if(this._wasOpenIntraDay(X1S)){if(this.zseg_match.name === s6G){X1S.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0);X1S=this._convertFromMarketTZ(X1S,O9A);return X1S;}}}else {if(this._wasOpenDaily(X1S)){z5z=this.zseg_match;while(z5z.child_){z5z=z5z.child_;}while(!z5z.enabled){z5z=z5z.parent_;}X1S.setHours(z5z.close_parts.hours,z5z.close_parts.minutes,0,0);X1S=this._convertFromMarketTZ(X1S,O9A);return X1S;}}return null;};S_I.Market.prototype.getNextClose=function(U_$,x8u,s_R){var o2M,X79,G$T,g_s;if(!this.market_def)return null;if(!this.rules)return null;o2M=U_$;if(!U_$){o2M=new Date();x8u=null;}o2M=this._convertToMarketTZ(o2M,x8u);if(!this._wasOpenIntraDay(o2M)){X79=this.newIterator({begin:o2M,interval:"1" * 1,inZone:this.market_tz,outZone:this.market_tz});o2M=X79.next();}G$T=o2M.getDate();o1YMc.Z7I();g_s=this.zseg_match;while(g_s.adjacent_child){g_s=g_s.adjacent_child;G$T+=1;}o2M.setDate(G$T);o2M.setHours(g_s.close_parts.hours,g_s.close_parts.minutes,"0" ^ 0,0);o2M=this._convertFromMarketTZ(o2M,s_R);return o2M;};S_I.Market.prototype.getNextOpen=function(E9P,U_8,h_r){var d78;if(!this.market_def)return null;if(!this.rules)return null;d78=E9P;if(!E9P){d78=new Date();U_8=null;}d78=this._convertToMarketTZ(d78,U_8);d78=this._find_next_segment(d78);if(this.zseg_match.adjacent_parent){d78=this.getNextOpen(d78,this.market_tz,this.market_tz);d78=this._convertFromMarketTZ(d78,h_r);return d78;}d78.setHours(this.zseg_match.open_parts.hours);d78.setMinutes(this.zseg_match.open_parts.minutes);d78=this._convertFromMarketTZ(d78,h_r);return d78;};S_I.Market.prototype.getOpen=function(k$J,N25,b1R,z7o){var D_g,Z5t;if(!this.market_def)return null;if(!this.rules)return null;D_g=k$J;if(!k$J){D_g=new Date();b1R=null;}o1YMc.Z7I();D_g=this._convertToMarketTZ(D_g,b1R);if(typeof N25 !== "undefined"){if(this._wasOpenIntraDay(D_g)){if(this.zseg_match.name == N25){D_g.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0);D_g=this._convertFromMarketTZ(D_g,z7o);return D_g;}}}else {if(this._wasOpenDaily(D_g)){Z5t=this.zseg_match;while(Z5t.parent_){Z5t=Z5t.parent_;}while(!Z5t.enabled){Z5t=Z5t.child_;}D_g.setHours(Z5t.open_parts.hours,Z5t.open_parts.minutes,"0" ^ 0,0);D_g=this._convertFromMarketTZ(D_g,z7o);return D_g;}}return null;};S_I.Market.prototype.getNormalOpen=function(){var c7e,A9p;c7e="17";c7e+=":00";A9p="0";A9p+="0";A9p+=":0";A9p+="0";var {market_def:r$f, rules:I6w}=this;if(!(r$f && I6w))return A9p;if(r$f.normal_daily_open)return r$f.normal_daily_open;if(r$f.name === "FOREX")return c7e;return I6w.find(({name:L5t})=>!L5t || L5t === "").open;};S_I.Market.prototype.getNormalClose=function(){var {market_def:O1w, rules:k2n}=this;if(!(O1w && k2n))return "24:00";if(O1w.normal_daily_close)return O1w.normal_daily_close;if(O1w.name === "FOREX")return "17:00";return k2n.filter(({dayofweek:y8P, name:U6F})=>y8P && (!U6F || U6F === "")).pop().close;};S_I.Market.prototype.getPreviousClose=function(D1c,H$q,r2j){var J_z;if(!this.market_def)return null;o1YMc.m_N();if(!this.rules)return null;J_z=D1c;if(!D1c){J_z=new Date();H$q=null;}J_z=this._convertToMarketTZ(J_z,H$q);J_z=this._find_prev_segment(J_z,![]);if(this.zseg_match.adjacent_child){return this.getPreviousClose(J_z,this.market_tz,this.market_tz);}J_z.setHours(this.zseg_match.close_parts.hours);J_z.setMinutes(this.zseg_match.close_parts.minutes);J_z=this._convertFromMarketTZ(J_z,r2j);return J_z;};S_I.Market.prototype.getPreviousOpen=function(f7f,w5J,O$B){var f9g;if(!this.market_def)return null;if(!this.rules)return null;f9g=f7f;if(!f7f){f9g=new Date();w5J=null;}f9g=this._convertToMarketTZ(f9g,w5J);f9g=this._find_prev_segment(f9g,!!({}));o1YMc.m_N();if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(f9g,this.market_tz,this.market_tz);}f9g.setHours(this.zseg_match.open_parts.hours);f9g.setMinutes(this.zseg_match.open_parts.minutes);f9g=this._convertFromMarketTZ(f9g,O$B);return f9g;};S_I.Market.prototype.getSession=function(x3d,S21){x3d=this._convertToMarketTZ(x3d,S21);o1YMc.Z7I();if(this._wasOpenIntraDay(x3d) && this.zseg_match){return this.zseg_match.name;}return null;};S_I.Market.prototype.marketZoneNow=function(){o1YMc.m_N();return this._convertToMarketTZ(new Date());};S_I.Market.prototype.isHourAligned=function(){o1YMc.m_N();return this.hour_aligned;};S_I.Market.prototype.isOpen=function(){var r0f;r0f=new Date();o1YMc.Z7I();if(this.market_tz){r0f=new this.tz_lib(r0f.getTime(),this.market_tz);}return this._wasOpenIntraDay(r0f);};S_I.Market.prototype.isMarketDay=function(){var e5S;e5S=new Date();if(this.market_tz){e5S=new this.tz_lib(e5S.getTime(),this.market_tz);}return this._wasOpenDaily(e5S);};S_I.Market.prototype.isMarketDate=function(i6O){return this._wasOpenDaily(i6O);};S_I.Market.prototype.isFirstMarketDayOfMonth=function(a_t){var e_a,Z8O;o1YMc.m_N();if(!this.isMarketDate(a_t))return !!0;e_a=new Date(+a_t);Z8O=a_t.getDate();for(var x0F=1;x0F < Z8O;x0F++){e_a.setDate(x0F);if(this.isMarketDate(e_a))return ![];}return !!"1";};S_I.Market.prototype.isFirstMarketDayOfWeek=function(i8p){var Q6T,M2z,j$u;if(!this.isMarketDate(i8p))return ![];o1YMc.m_N();Q6T=this.tradingDays();M2z=Math.max(this.beginningDayOfWeek,Q6T[0]) || 0;j$u=new Date(+i8p);while(j$u.getDay() !== M2z){j$u.setDate(j$u.getDate() - 1);if(this.isMarketDate(j$u))return !"1";}return !!({});};S_I.Market.prototype.newIterator=function(W8k){var J6g,Z9B,F$4,C5H,p7y;J6g="seco";o1YMc.Z7I();J6g+="nd";Z9B=![];if(W8k.periodicity){Z9B=W8k.periodicity;}else if(W8k.multiple){Z9B=W8k.multiple;}F$4=W8k.interval;if(!F$4){F$4="minute";}if(F$4 == "hour")F$4=60;if(!Z9B){Z9B=1;}if(!W8k.begin){W8k.begin=new Date();W8k.inZone=null;}if(F$4 == parseInt(F$4,10)){F$4=parseInt(F$4,"10" * 1);if(W8k.periodicity < 1 / +"60"){Z9B=Z9B * F$4 * 60000;F$4="millisecond";}else if(W8k.periodicity < 1){Z9B=Z9B * F$4 * 60;F$4="second";}else {Z9B=Z9B * F$4;F$4="minute";}}if(W8k.timeUnit){C5H="se";C5H+="co";C5H+="n";C5H+="d";p7y="milliseco";p7y+="nd";if(W8k.timeUnit === p7y){F$4=W8k.timeUnit;}else if(W8k.timeUnit === C5H){F$4=W8k.timeUnit;}else if(W8k.timeUnit === "tick"){F$4="second";}}if(F$4 == "tick")F$4=J6g;W8k.interval=F$4;W8k.multiple=Z9B;W8k.market=this;return new S_I.Market.Iterator(W8k);};S_I.Market.prototype._wasOpenDaily=function(n2E){return this._was_open(n2E,!"1");};S_I.Market.prototype._wasOpenIntraDay=function(o6S){return this._was_open(o6S,!!1);};S_I.Market.prototype._was_open=function(A7W,z8R){var P8V,d_D,f_8,H$7,E20,N2S,i08,I2q,l22,d1H,h9U,y_q,r04,l4z,t23,e1x;if(typeof z8R === "undefined"){z8R=!0;}P8V=this.zseg_match;this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour="0" >> 64;this.zclose_minute="0" >> 64;this.zmatch_open=![];this.zseg_match=null;if(!this.market_def || !this.rules){this.zclose_hour=24;return !!1;}if(this.tradingDays().indexOf(A7W.getDay()) < 0)return null;if(T50){if(!this._zseg_matches)this._zseg_matches=new Map();d_D=this._zseg_matches.get(+A7W * (z8R?1:-1));if(d_D === null)return null;if(d_D){d_D=this._zseg_matches.get(d_D);Object.assign(this,d_D);return this.zseg_match;}}f_8=!({});H$7=!1;E20=A7W.getFullYear();N2S=A7W.getMonth() + +"1";i08=A7W.getDay();I2q=A7W.getDate();l22=A7W.getHours();d1H=A7W.getMinutes();o1YMc.Z7I();h9U=A7W.getSeconds();l4z=l22 * 60 * 60 + d1H * ("60" >> 64) + h9U;for(t23=+"0";t23 < this.normalHours.length;t23++){y_q=this.normalHours[t23];if(!y_q.enabled){continue;}f_8=y_q.dayofweek === i08;if(f_8 && z8R){f_8=l4z >= y_q.open && l4z < y_q.close;}if(f_8){if(!z8R && this.zseg_match){if(y_q.open_parts.hours > this.zopen_hour || y_q.open_parts.hours == this.zopen_hour && y_q.open_parts.minutes > this.zopen_minute){continue;}}if(y_q !== P8V && !y_q.adjacent_parent && !y_q.adjacent_child){this.shouldResetToBeginningOfSegment=!!({});}r04=t23 + 1;this.zopen_hour=y_q.open_parts.hours;this.zopen_minute=y_q.open_parts.minutes;this.zclose_hour=y_q.close_parts.hours;this.zclose_minute=y_q.close_parts.minutes;this.zmatch_open=l4z === y_q.open;this.zseg_match=y_q;if(z8R)break;}}for(t23=0;t23 < this.extraHours.length;t23++){y_q=this.extraHours[t23];if(!y_q.enabled){continue;}if(((+"4861",5400) != "820.35" - 0?"*":17.31 === "4424" * 1?"S":(!!0,3.90e+3)) === y_q.year || E20 === y_q.year){if(N2S === y_q.month && I2q === y_q.day){H$7=!z8R && y_q.open || l4z >= y_q.open && l4z < y_q.close;if(!H$7 && this.zseg_match){f_8=![];this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!"1";this.zseg_match=null;}if(H$7){if(!z8R && this.zseg_match){if(y_q.open_parts.hours > this.zopen_hour || y_q.open_parts.hours == this.zopen_hour && y_q.open_parts.minutes > this.zopen_minute){continue;}}r04=-(t23 + 1);this.zopen_hour=y_q.open_parts.hours;this.zopen_minute=y_q.open_parts.minutes;this.zclose_hour=y_q.close_parts.hours;this.zclose_minute=y_q.close_parts.minutes;this.zmatch_open=l4z === y_q.open;this.zseg_match=y_q;if(z8R)break;}}}}if(T50){e1x=null;if(this.zseg_match){if(!this.zseg_match._refid){this.zseg_match._refid=r04;this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match});}e1x=this.zseg_match._refid;}this._zseg_matches.set(+A7W * (z8R?1:-1),e1x);}return this.zseg_match;};S_I.Market.prototype._wasClosed=function(f8z){return !this._was_open(f8z,!![]);};S_I.Market.prototype._wasOpen=function(K3c){return this._was_open(K3c,!!"1");};S_I.Market.prototype._tzDifferenceMillis=function(p9_,p8r,B0I){var x$t,U59,q5K,j6h;x$t=0;U59=p9_;q5K=p9_;j6h=U59.getTimezoneOffset() - q5K.getTimezoneOffset();x$t=j6h * 60 * 1000;return x$t;};S_I.Market._createTimeSegments=function(A1C){var Y3a,d9s,P27,d7r,z7O,i2N;Y3a=function(i6l,D90){if(i6l.close_parts.hours === 24 && D90.open_parts.hours === "0" - 0){if(D90.open_parts.minutes === 0){if(d9s.dayofweek === z7O.dayofweek - ("1" ^ 0)){return !![];}if(d9s.dayofweek === 6 && z7O.dayofweek === +"0"){return !"";}}}return ![];};o1YMc.m_N();for(var i$7=0;i$7 < A1C.rules.length;i$7++){P27="un";P27+="defi";P27+="n";P27+="ed";d7r=JSON.parse(JSON.stringify(A1C.rules[i$7]));if(typeof d7r.open === P27 && typeof d7r.close === "undefined"){d7r.open="00:00";d7r.close="00:00";}if(!d7r.hasOwnProperty("name")){d7r.name="";}try{if(typeof d7r.dayofweek !== "undefined"){d7r.year="*";z7O=J4j._createDayOfWeekSegment(A1C,d7r);if(d9s){if(d9s.dayofweek === z7O.dayofweek){d9s.child_=z7O;z7O.parent_=d9s;}else {if(Y3a(d9s,z7O)){d9s.adjacent_child=z7O;z7O.adjacent_parent=d9s;}}}d9s=z7O;}else if(typeof d7r.date !== "undefined"){d7r.isDayOfWeek=![];d7r.dayofweek=-1;z7O=J4j._createDateTimeSegment(A1C,d7r);}else {console.log("Error, unknown rule type " + d7r);}if(A1C.enabled_by_default){for(var M4F=+"0";M4F < A1C.enabled_by_default.length;M4F++){i2N=A1C.enabled_by_default[M4F];if(z7O.name === i2N){z7O.enabled=!!({});break;}}}else {}}catch(d8c){console.log("Error, creating market rules " + d8c);}}};S_I.Market._timeSegment={};J4j=S_I.Market._timeSegment;J4j.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;J4j.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;J4j.re_split_hours_minutes=/^(\d\d):(\d\d)$/;J4j.re_split_hour_minutes=/^(\d):(\d\d)$/;J4j._hashCode=function(o_Z){o1YMc.m_N();var j4w,E_E,z0s,X9v;j4w=0;if(o_Z.length === 0)return j4w;for((E_E=+"0",X9v=o_Z.length);E_E < X9v;E_E++){z0s=o_Z.charCodeAt(E_E);j4w=(j4w << 5) - j4w + z0s;j4w|=0;}return j4w;};J4j._splitHoursMinutes=function(W4O){var D1x,i2y;D1x=J4j.re_split_hour_minutes.exec(W4O);i2y={hours:NaN,minutes:NaN};if(D1x === null){D1x=J4j.re_split_hours_minutes.exec(W4O);if(D1x === null){return i2y;}}i2y.hours=parseInt(D1x[1],+"10");i2y.minutes=parseInt(D1x[2],10);return i2y;};J4j._createDayOfWeekSegment=function(H4d,s1J){var i_y;i_y={name:s1J.name,isDayOfWeek:!"",dayofweek:s1J.dayofweek,date_str:"*",open_parts:J4j._splitHoursMinutes(s1J.open),close_parts:J4j._splitHoursMinutes(s1J.close),open:J4j._secSinceMidnight(H4d,s1J.open,!![]),close:J4j._secSinceMidnight(H4d,s1J.close,!1),child_:!1,parent_:!1,adjacent_child:!({}),adjacent_parent:!({}),enabled:!({})};if(i_y.name === ""){i_y.enabled=!![];}i_y.hash_code=this._hashCode((i_y.open + i_y.close).toString());H4d.normalHours.push(i_y);return i_y;};J4j._createDateTimeSegment=function(n8f,X90){o1YMc.m_N();var k6V,D8T,h6X;k6V=this.re_regular_iso.exec(X90.date);if(k6V === null){k6V=this.re_wild_card_iso.exec(X90.date);if(k6V === null){console.log("Warning: invalid date format on rule -> " + X90.date);return;}D8T=(1834,900.7) != 4280?(5360,+"8867") > "7999" * 1?9790 != (+"501.54",+"1640")?"*":"n":("V","t"):+"0x2557";}else {D8T=parseInt(k6V[1],10);}h6X={name:X90.name,isDayOfWeek:!({}),dayofweek:-1,year:D8T,month:parseInt(k6V[2],10),day:parseInt(k6V[3],"10" | 0),date_str:X90.date,open_parts:J4j._splitHoursMinutes(X90.open),close_parts:J4j._splitHoursMinutes(X90.close),open:J4j._secSinceMidnight(n8f,X90.open,!!({})),close:J4j._secSinceMidnight(n8f,X90.close,!!0),enabled:![]};if(h6X.name === ""){h6X.enabled=!!"1";}h6X.hash_key=this._hashCode(h6X.date_str + h6X.open + h6X.close);n8f.extraHours.push(h6X);return h6X;};J4j._secSinceMidnight=function(p4F,X8P,S0j){var T3a,O0E,g0P,S53;T3a=X8P.split(3980 !== 3290?":":3.36e+3);O0E=parseInt(T3a[0],10);g0P=parseInt(T3a["1" << 0],10);S53=O0E * 60 * +"60" + g0P * 60;if(!S0j){if(O0E === 24){S53=O0E * 60 * 60 + 1;}}return S53;};S_I.Market.prototype._convertToMarketTZ=function(V4T,n0U){var V10;if(n0U){V10=new this.tz_lib(V4T.getFullYear(),V4T.getMonth(),V4T.getDate(),V4T.getHours(),V4T.getMinutes(),V4T.getSeconds(),V4T.getMilliseconds(),n0U);}else {V10=new this.tz_lib(V4T.getFullYear(),V4T.getMonth(),V4T.getDate(),V4T.getHours(),V4T.getMinutes(),V4T.getSeconds(),V4T.getMilliseconds());}if(V10.setTimezone)V10.setTimezone(this.market_tz);return new Date(V10.getFullYear(),V10.getMonth(),V10.getDate(),V10.getHours(),V10.getMinutes(),V10.getSeconds(),V10.getMilliseconds());};S_I.Market.prototype._convertFromMarketTZ=function(K3u,k0J){var x5w;x5w=new this.tz_lib(K3u.getFullYear(),K3u.getMonth(),K3u.getDate(),K3u.getHours(),K3u.getMinutes(),K3u.getSeconds(),K3u.getMilliseconds(),this.market_tz);if(k0J){if(x5w.setTimezone)x5w.setTimezone(k0J);}else {return new Date(x5w.getTime());}return new Date(x5w.getFullYear(),x5w.getMonth(),x5w.getDate(),x5w.getHours(),x5w.getMinutes(),x5w.getSeconds(),x5w.getMilliseconds());};S_I.Market.Iterator=function(n_e){this.market=n_e.market;o1YMc.m_N();this.begin=n_e.begin;this.interval=n_e.interval;this.multiple=n_e.multiple;this.inZone=n_e.inZone;this.outZone=n_e.outZone;this.clock=new S_I.Market.Iterator._Clock(n_e.market,n_e.interval,n_e.multiple);this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,n_e.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=!!0;this.clock.minimumScanMS=n_e.market.minimumSessionLength * 60000;};S_I.Market.Iterator.prototype.date=function(){o1YMc.Z7I();return this.clock._date();};S_I.Market.Iterator.prototype.futureTick=function(K8l){var X6m,m00,i80,e$0,b86,n50,y1l,y2s,D4k;this.clock.skip=1;X6m=0;if(this.intraDay)m00=this.market._convertToMarketTZ(K8l.end,this.inZone).getTime();else m00=K8l.end.getTime();i80=this.clock.ctime;if(m00 === i80){return X6m;}e$0=2;b86=1000;n50=+"0";if(K8l.sample_size){e$0=K8l.sample_size;}y1l=new Date().getTime();if(m00 > i80){this.clock.forward=!!"1";while(this.clock.ctime < m00){X6m+=1;n50+=+"1";this.clock._findNext();if(n50 === b86){n50=0;y2s=new Date().getTime();if(y2s - y1l >= e$0){D4k=(this.clock.ctime - i80) / X6m;X6m=Math.floor((m00 - i80) / D4k);break;}}}if(this.clock.ctime > m00){X6m--;}}else {this.clock.forward=![];while(this.clock.ctime > m00){X6m+=1;n50+="1" >> 32;this.clock._findPrevious();if(n50 === b86){n50=0;y2s=new Date().getTime();if(y2s - y1l >= e$0){D4k=(i80 - this.clock.ctime) / X6m;X6m=Math.floor((i80 - m00) / D4k);break;}}}}return X6m;};S_I.Market.Iterator.prototype.isHourAligned=function(){return !this.intraDay || this.market.isHourAligned();};S_I.Market.Iterator.prototype.isOpen=function(){o1YMc.m_N();return this.market.isOpen();};S_I.Market.Iterator.prototype.next=function(R7e){this.clock.skip=+"1";if(R7e){this.clock.skip=R7e;}this.clock.forward=!!"1";for(var J$W=0;J$W < this.clock.skip;J$W++)this.begin=this.clock._findNext();if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}o1YMc.m_N();return this.clock.display_date;};S_I.Market.Iterator.prototype.peek=function(){o1YMc.m_N();return this.clock._peek();};S_I.Market.Iterator.prototype.previous=function(d$N){this.clock.skip="1" << 0;if(d$N){this.clock.skip=d$N;}this.clock.forward=!!"";for(var D5a=0;D5a < this.clock.skip;D5a++)this.begin=this.clock._findPrevious();if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};S_I.Market.Iterator._Clock=function(n$u,V_0,t7B){var n6P,z8c,d5v,f7B;n6P="minu";o1YMc.m_N();n6P+="te";z8c="sec";z8c+="on";z8c+="d";if(t7B % 60 === 0 && V_0 === z8c){V_0="minute";t7B=t7B / 60;}this.market=n$u;this.interval=V_0;this.multiple=t7B;this.intra_day=!({});this.intervals=[];this.max_iters=10080;d5v=L0s;f7B=this._dayImpl;if(V_0 === "millisecond"){f7B=this._millisImpl;d5v=+"1";}else if(V_0 === "second"){f7B=this._secondImpl;d5v=1000;}else if(V_0 === n6P){f7B=this._minuteImpl;d5v=60000;}else if(V_0 === "hour"){f7B=this._hourImpl;d5v=x5Z;}else if(V_0 === "day"){f7B=this._dayImpl;d5v=L0s;}else if(V_0 === "week"){f7B=this._weekImpl;d5v=L0s * ("7" - 0);}else if(V_0 === "month"){f7B=this._monthImpl;d5v=L0s * 30;}else {console.log('Periodicity ERROR: "' + V_0 + '" is not a valid interval. Please see setPeriodicity() for details.');}this.tick_time=d5v * t7B;this.intra_day=this.tick_time < L0s;this._findPrevious=this._findNext=f7B;};z_N=S_I.Market.Iterator._Clock.prototype;z_N._total_minutes=function(q_Y,v2c,J6n,l0i){return (J6n - q_Y) * +"60" - v2c + l0i;};z_N._alignMinutes=function(){var u9D,s66,g9V,v6Q,f9i,U49;u9D=this.market.isHourAligned();if(!this.market.market_def && !u9D || this.market.zopen_minute === undefined){return [];}o1YMc.m_N();s66=this.market.zopen_minute;g9V=this.market.zseg_match;if(g9V && g9V.adjacent_parent){s66=g9V.adjacent_parent.open / 60 - 1440;}else {if(u9D && this.multiple % ("60" - 0) === 0)s66=0;}v6Q=this._total_minutes(this.market.zopen_hour,s66,this.market.zclose_hour,this.market.zclose_minute);f9i=[];U49=0;while(U49 < v6Q){f9i.push(s66 + U49);U49+=this.multiple;}return f9i;};z_N._alignBaseZero=function(c$E){var M_N,D5A;o1YMc.m_N();M_N=0;D5A=[M_N];while(!![]){M_N+=this.multiple;if(M_N >= c$E){break;}D5A.push(M_N);}return D5A;};z_N._date=function(){var I6B,t6w;I6B=Math.round(this.ctime);t6w=new Date(I6B);if(this.intra_day){this.display_date=new Date(I6B + this.shift_millis);}else {this.display_date=t6w;}o1YMc.m_N();return t6w;};z_N._alignToBoundary=function(M1U,u$e){var L2M,W$_,r83,I4N,J8W,W0b;o1YMc.m_N();L2M=0;W$_=-("506923687" * 1);r83=-2131170538;I4N="2" << 32;for(var b18=1;o1YMc.D$s(b18.toString(),b18.toString().length,90308) !== W$_;b18++){J8W=+"9";I4N+=2;}if(o1YMc.u7W(I4N.toString(),I4N.toString().length,25505) !== r83){J8W=1;}J8W=0;W0b=u$e;for(var E70=0;E70 < M1U.length - ("1" >> 0);E70++){L2M=M1U[E70];J8W=M1U[E70 + 1];if(u$e === L2M || u$e === J8W){break;}if(u$e > L2M && u$e < J8W){W0b=L2M;break;}else if(E70 + 1 === M1U.length - ("1" - 0)){W0b=J8W;}}return W0b;};z_N._peek=function(){o1YMc.m_N();return this._date().toString();};z_N._seekHr=function(){if(this.forward){this.ctime-=x5Z;}else {this.ctime+=x5Z;}};z_N._setStart=function(x1a){var f0j,B3y;f0j=this.market._tzDifferenceMillis(x1a);B3y=new Date(x1a.getTime() + f0j);o1YMc.m_N();this.shift_millis=f0j;this.ctime=B3y.getTime();this.shift_millis=0;this.ctime=x1a.getTime();};z_N._tickTock=function(){o1YMc.Z7I();if(this.forward){this.ctime+=this.tick_time;}else {this.ctime-=this.tick_time;}};z_N._tockTick=function(){if(this.forward){this.ctime-=this.tick_time;}else {this.ctime+=this.tick_time;}};z_N._tickTock24=function(){o1YMc.Z7I();this.ctime+=L0s;};z_N._tockTick24=function(){this.ctime-=L0s;};z_N._windMaybe=function(B6I,I3g){var K7h,r3e,t34,U6d;K7h=0;r3e=new Date(this.ctime);o1YMc.Z7I();t34=!1;while(!B6I.call(this.market,r3e)){I3g.call(this);t34=!!"1";r3e=new Date(this.ctime);K7h+=1;if(K7h > this.max_iters){U6d="Warning! max iterations (" + this.max_iters;U6d+=") reached with no rule match.";console.log(U6d);break;}}return t34;};z_N._millisImpl=function(){var L1H,v3I,U4$,Z2h,j6a,O8N,q3M,e2E,L$H,G2l;L1H=!({});o1YMc.m_N();if(!this.mperiods_aligned){v3I=this._alignBaseZero(1000);U4$=new Date(this.ctime);Z2h=U4$.getMilliseconds();Z2h=this._alignToBoundary(v3I,Z2h);U4$.setMilliseconds(0);this.ctime=U4$.getTime() + Z2h;this.mperiods_aligned=!!"1";L1H=!![];}j6a=this._date().getMinutes();this._tickTock();O8N=this._date().getMinutes();if((L1H || j6a != O8N) && !this.market._wasOpenIntraDay(this._date())){q3M=this._date().getSeconds();e2E=this._date().getMilliseconds();L$H=this.tick_time;this.tick_time=60000;G2l=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=L$H;this.multiple=G2l;this.ctime+=1000 * q3M + e2E;}return this._date();};z_N._secondImpl=function(){var V8o,z1J,n6j,f9h,r1t,e1a,w5q,q9n,r6t;V8o=!!"";o1YMc.Z7I();if(!this.speriod_aligned){z1J=this._alignBaseZero(60);n6j=new Date(this.ctime);f9h=n6j.getSeconds();f9h=this._alignToBoundary(z1J,f9h);n6j.setSeconds(f9h);n6j.setMilliseconds(0);this.ctime=n6j.getTime();this.speriod_aligned=!!({});V8o=!!({});}r1t=this._date().getMinutes();this._tickTock();e1a=this._date().getMinutes();if((V8o || r1t != e1a) && !this.market._wasOpenIntraDay(this._date())){w5q=this._date().getSeconds();q9n=this.tick_time;this.tick_time=60000;r6t=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=q9n;this.multiple=r6t;this.ctime+=1000 * w5q;}return this._date();};z_N._minuteImpl=function(){var l6H,q2$,k3g,V$v,v7M,Q01,l$8,h2c,x_O,S0L,T7z,b0J,o0S,I38;l6H=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);q2$=new Date(this.ctime);k3g=q2$.getTimezoneOffset();V$v=q2$.getMinutes();v7M=q2$.getHours();Q01=this._alignMinutes();l$8=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,v7M,V$v) + this.market.zopen_minute;if(l6H){if(this.forward){l$8=Q01[Q01.length - 1];}else {l$8=Q01[0];}}else {l$8=this._alignToBoundary(Q01,l$8);}v7M=Math.floor(l$8 / 60) + this.market.zopen_hour;q2$.setHours(v7M,l$8 % 60,"0" | 0,+"0");h2c=q2$.getTimezoneOffset() - k3g;if(this.forward && h2c < 0 || !this.forward && h2c > 0){q2$.setTime(q2$.getTime() - h2c * 60000);}this.ctime=q2$.getTime();x_O=this.market.zseg_match;this._tickTock();S0L=this.market.hour_aligned && this.multiple % 60 === 0;l6H=this._scanForNextSession();T7z=x_O !== this.market.zseg_match;b0J=x_O && x_O.adjacent_child;o0S=this.shouldResetToBeginningOfSegment || T7z && !b0J;if(l6H || o0S && !S0L){q2$=new Date(this.ctime);if(this.forward){q2$.setMinutes(this.market.zopen_minute);q2$.setHours(this.market.zopen_hour);}else {Q01=this._alignMinutes();I38=Q01[Q01.length - 1];q2$.setMinutes(I38 % 60);q2$.setHours(Math.floor(I38 / 60) + this.market.zopen_hour);}this.ctime=q2$.getTime();}return this._date();};z_N._hourImpl=function(){var V3F,z_1,a7Y,R91,t1L;this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);V3F=new Date(this.ctime);if(this.market.isHourAligned()){V3F.setMinutes(0);}else {V3F.setMinutes(this.market.zopen_minute);}V3F.setSeconds(0);V3F.setMilliseconds(0);this.ctime=V3F.getTime();this._tickTock();z_1=this.market.zseg_match;if(this._scanForNextSession() || !this.market.hour_aligned && z_1 != this.market.zseg_match){a7Y=new Date(this.ctime);if(this.forward){a7Y.setMinutes(this.market.zopen_minute);a7Y.setHours(this.market.zopen_hour);}else {R91=this._alignMinutes();t1L=R91[R91.length - 1];a7Y.setMinutes(t1L % 60);a7Y.setHours(Math.floor(t1L / 60) + this.market.zopen_hour);}this.ctime=a7Y.getTime();}return this._date();};z_N._dayImpl=function(){var M$D,V$3;this._windMaybe(this.market._wasOpenDaily,this._seekHr);M$D=new Date(this.ctime);M$D.setHours(12,+"0",0,0);this.ctime=M$D.getTime();o1YMc.Z7I();V$3="0" >> 0;while(V$3 < this.multiple){if(this.forward){this._tickTock24();}else {this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}V$3+=1;}M$D=new Date(this.ctime);M$D.setHours(0);this.ctime=M$D.getTime();return this._date();};z_N._weekImpl=function(){var q10,q9u;q10=this.market;q9u=new Date(this.ctime);q9u.setHours("12" | 12);this.ctime=q9u.getTime();o1YMc.m_N();this._tickTock();q9u=new Date(this.ctime);while(q9u.getDay() !== q10.beginningDayOfWeek){this._tockTick24();q9u=new Date(this.ctime);}this._windMaybe(q10._wasOpenDaily,this._tickTock24);q9u=new Date(this.ctime);q9u.setHours(0,+"0",0,+"0");this.ctime=q9u.getTime();return this._date();};z_N._monthImpl=function(){var h4J;h4J=new Date(this.ctime);h4J.setDate(15);this.ctime=h4J.getTime();this._tickTock();h4J=new Date(this.ctime);h4J.setDate(1);h4J.setHours("12" >> 32);this.ctime=h4J.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);h4J=new Date(this.ctime);h4J.setHours(0,0,0,0);o1YMc.m_N();this.ctime=h4J.getTime();return this._date();};z_N._findNext=null;z_N._findPrevious=null;z_N._scanForNextSession=function(){o1YMc.m_N();return this._windMaybe(this.market._wasOpenIntraDay,(function(){o1YMc.Z7I();this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS;}).bind(this));};};U8=z$2=>{var H3B=o1YMc;var A7B,H5m,P$Q,f7m;A7B=typeof _CIQ !== "undefined"?_CIQ:z$2.CIQ;H5m="v";H5m+="al";H5m+="i";H5m+="d";H3B.g33(46);A7B.valid=H3B.v0q(32,"0");P$Q="CPE1704TKS";A7B['\x43\x68\x61\u0072\u0074\u0045\x6e\u0067\u0069\x6e\x65']['\x70\u0072\x6f\x74\u006f\u0074\x79\u0070\u0065']['\x6d\u006f\u0075\x73\x65\u006d\x6f\u0076\u0065\u0069\u006e\x6e\u0065\u0072']=function(d9K,K$J){var x5p,t67,W0f,v6W,o4Q,r4q,m5o,P9p,x5L,Y27,k8X,x7D,y3x,R$L,O8V,q9c,X5N,f0T,Y2_,F9F,k2i,e$o,T1o,b_7,j3V,z23,Z5u,T0y,n0E,C9n;x5p='\u0070';x5p+='\x78';t67='\u006d\x6f\u0075';t67+='\u0073\u0065\u006d\x6f\u0076\x65\x69\x6e\x6e\u0065\u0072';if(!this['\u0063\u0068\u0061\x72\u0074']['\u0063\u0061\u006e\x76\u0061\u0073']){return;}if(!this['\x64\x69\x73\x61\u0062\u006c\x65\x42\x61\u0063\x6b\x69\x6e\x67\x53\x74\x6f\u0072\x65\x44\u0075\u0072\u0069\x6e\x67\x54\x6f\u0075\x63\u0068']){if(this['\u0063\x68\u0061\u0072\u0074']['\u0063\x61\u006e\x76\x61\u0073']['\x68\x65\u0069\u0067\x68\x74'] != Math['\x66\u006c\u006f\x6f\u0072'](this['\u0064\x65\u0076\x69\x63\x65\x50\x69\u0078\u0065\x6c\u0052\u0061\u0074\u0069\x6f'] * this['\u0063\u0068\u0061\u0072\u0074']['\x63\x6f\u006e\x74\x61\u0069\x6e\x65\x72']['\x63\u006c\u0069\u0065\x6e\u0074\u0048\x65\x69\x67\x68\u0074']) || this['\u0063\x68\u0061\u0072\x74']['\u0063\u0061\x6e\x76\x61\x73']['\u0077\u0069\u0064\u0074\x68'] != Math['\x66\x6c\x6f\x6f\x72'](this['\x64\x65\x76\x69\u0063\x65\u0050\x69\u0078\x65\u006c\x52\x61\x74\u0069\x6f'] * this['\x63\u0068\x61\u0072\u0074']['\x63\x6f\u006e\x74\x61\u0069\u006e\u0065\u0072']['\x63\x6c\u0069\x65\x6e\x74\u0057\x69\x64\x74\x68'])){this['\x72\x65\x73\u0069\x7a\x65\u0043\u0068\u0061\x72\u0074']();return;}}if(this['\u0072\u0075\u006e\x50\x72\x65\x70\x65\u006e\x64'](t67,arguments)){return;}v6W=arguments;I$L();if(!I$L[P$Q]){H3B.y$U();;}o4Q=this['\u0063\x6f\x6e\u0074\x61\x69\x6e\x65\u0072']['\u0067\x65\u0074\x42\u006f\u0075\x6e\x64\u0069\u006e\u0067\u0043\x6c\u0069\u0065\u006e\x74\u0052\x65\u0063\u0074']();this['\x74\x6f\u0070']=o4Q['\x74\u006f\u0070'];this['\u006c\x65\u0066\x74']=o4Q['\u006c\x65\x66\x74'];this['\u0072\u0069\u0067\u0068\x74']=this['\u006c\x65\x66\x74'] + this['\x77\u0069\u0064\u0074\u0068'];this['\u0062\x6f\x74\x74\u006f\u006d']=this['\x74\x6f\u0070'] + this['\x68\x65\u0069\x67\x68\x74'];this['\x68\x61\u0073\u0044\u0072\x61\u0067\x67\u0065\x64']=!![];A7B['\u0043\u0068\x61\x72\u0074\x45\x6e\x67\x69\x6e\u0065']['\u0063\u0072\x6f\u0073\x73\x68\x61\u0069\x72\x58']=d9K;A7B['\x43\x68\x61\u0072\u0074\x45\u006e\x67\x69\x6e\u0065']['\u0063\x72\x6f\u0073\u0073\u0068\x61\u0069\u0072\u0059']=K$J;function t7w(b_t){b_t['\u0063\u0075\u0072\x72\x65\x6e\u0074\u0042\u0061\x73\u0065\x6c\x69\u006e\x65']=null;b_t['\u0072\x75\x6e\x41\u0070\u0070\u0065\u006e\u0064']('\x6d\x6f\u0075\u0073\u0065\x6d\u006f\x76\u0065\u0069\x6e\x6e\x65\x72',v6W);}this['\x63\x72\x6f\x73\x73\u0068\u0061\u0069\x72\x58']=d9K;this['\u0063\x72\x6f\x73\x73\x68\u0061\x69\x72\x59']=K$J;r4q=this['\u0063\u0079']=this['\x63\u0072\x6f\u0073\x73\u0059\u0041\x63\x74\x75\x61\u006c\u0050\x6f\x73']=this['\x62\x61\x63\x6b\u004f\x75\x74\x59'](A7B['\u0043\x68\u0061\x72\x74\u0045\u006e\u0067\u0069\x6e\x65']['\u0063\u0072\u006f\u0073\u0073\u0068\x61\u0069\u0072\x59']);m5o=this['\x63\u0078']=this['\x63\u0072\u006f\u0073\u0073\u0058\u0041\x63\u0074\x75\x61\u006c\u0050\x6f\u0073']=this['\x62\u0061\x63\x6b\u004f\u0075\u0074\u0058'](A7B['\x43\u0068\x61\x72\x74\u0045\u006e\x67\u0069\u006e\u0065']['\x63\x72\u006f\u0073\x73\x68\x61\u0069\x72\x58']);if(this['\u0067\x72\x61\u0062\x62\u0069\u006e\u0067\x53\u0063\u0072\u0065\x65\u006e'] && this['\x61\x6e\x79\x48\u0069\x67\x68\u006c\u0069\u0067\x68\u0074\x65\x64']){H3B['\x4f\u0024\u0072'](74);var m9K=H3B['\x62\x36\x33'](11,7,0,3);H3B['\u004f\x24\x72'](37);var S2R=H3B['\x62\u0036\u0033'](4,1006,18,14);P9p=Math['\u0070\u006f\u0077'](this['\u0067\u0072\x61\x62\u0053\x74\x61\x72\x74\u0058'] - d9K,m9K) + Math['\x70\x6f\x77'](this['\x67\x72\u0061\u0062\x53\x74\u0061\u0072\u0074\x59'] - K$J,S2R);if(P9p < 36){return;}}this['\u0063\u0061\u006e\x63\u0065\x6c\x4c\x6f\x6e\u0067\u0048\u006f\u006c\x64']=!![];x5L=function(m2W,Z4Z){if(A7B[H5m] === 0){return m2W['\x77\x68\x69\u0063\u0068\u0050\x61\x6e\x65\x6c'](Z4Z) || m2W['\u0063\u0068\u0061\u0072\x74']['\u0070\x61\x6e\u0065\x6c'];}if(!m2W['\u0064\x72\u0061\u0077'][H5m]){m2W['\x64\u0072\u0061\x77']=function(){A7B['\x63\u006c\x65\u0061\u0072\x43\x61\x6e\u0076\u0061\u0073'](this['\u0063\u0068\x61\x72\u0074']['\x63\x61\u006e\u0076\u0061\u0073'],this);};m2W['\u0064\x72\u0061\x77'][H5m]=!!'\u0031';}};this['\u0063\u0075\x72\x72\x65\u006e\u0074\x50\u0061\u006e\x65\x6c']=x5L(this,r4q);if(!this['\x63\x75\x72\x72\x65\x6e\u0074\u0050\x61\u006e\u0065\x6c']){return;}Y27=this['\x63\x75\u0072\x72\u0065\u006e\u0074\x50\x61\x6e\u0065\u006c']['\u0063\x68\x61\u0072\x74'];if(Y27['\x64\u0061\x74\x61\x53\u0065\x74']){k8X='\u0063';k8X+='\u0068';k8X+='\x61';k8X+='\x72\x74';this['\x63\x72\u006f\u0073\u0073\u0068\x61\u0069\u0072\u0054\x69\u0063\u006b']=this['\x74\x69\u0063\u006b\u0046\x72\x6f\x6d\u0050\u0069\u0078\u0065\u006c'](m5o,Y27);W0f=this['\u0076\x61\u006c\x75\u0065\u0046\u0072\x6f\u006d\x50\u0069\x78\u0065\u006c'](r4q,this['\x63\u0075\u0072\x72\x65\u006e\u0074\x50\x61\x6e\x65\u006c']);this['\x63\x72\u006f\x73\x73\u0068\u0061\u0069\u0072\u0056\x61\x6c\u0075\u0065']=this['\u0061\x64\x6a\x75\u0073\x74\u0049\u0066\u004e\u0065\u0063\x65\u0073\u0073\x61\u0072\x79'](this['\x63\x75\u0072\x72\u0065\u006e\x74\u0050\u0061\x6e\u0065\u006c'],this['\x63\x72\x6f\u0073\x73\x68\x61\u0069\x72\u0054\u0069\x63\x6b'],W0f);x7D=this['\u0063\x75\u0072\x72\x65\u006e\x74\u0050\u0061\x6e\x65\x6c']['\u006e\x61\u006d\x65'] == k8X?this['\x70\x72\x65\x66\x65\u0072\u0065\x6e\u0063\x65\x73']['\u0068\x6f\x72\u0069\x7a\x6f\x6e\x74\u0061\x6c\x43\x72\u006f\x73\u0073\x68\x61\x69\u0072\x46\x69\u0065\u006c\u0064']:this['\x63\u0075\u0072\x72\u0065\x6e\x74\u0050\u0061\x6e\u0065\u006c']['\x68\u006f\u0072\x69\u007a\x6f\x6e\u0074\u0061\x6c\x43\u0072\x6f\u0073\u0073\x68\u0061\u0069\u0072\u0046\x69\x65\u006c\u0064'];if(x7D && this['\x63\x72\u006f\u0073\x73\u0068\u0061\u0069\x72\x54\x69\x63\u006b'] < Y27['\u0064\u0061\x74\x61\x53\u0065\u0074']['\x6c\u0065\x6e\u0067\u0074\x68'] && this['\x63\x72\u006f\x73\x73\x68\x61\u0069\x72\u0054\u0069\u0063\u006b'] > -1){W0f=Y27['\u0064\x61\u0074\u0061\u0053\x65\x74'][this['\x63\x72\u006f\u0073\u0073\u0068\x61\u0069\x72\x54\u0069\x63\x6b']][x7D];this['\x63\x72\u006f\x73\x73\x59\x41\x63\u0074\x75\x61\u006c\x50\u006f\u0073']=this['\x70\x69\u0078\x65\x6c\u0046\x72\x6f\u006d\u0050\x72\x69\u0063\x65'](W0f,this['\u0063\u0075\x72\x72\x65\u006e\u0074\x50\u0061\x6e\u0065\x6c']);}}if(A7B['\u0043\u0068\x61\x72\x74\x45\u006e\x67\u0069\u006e\x65']['\x63\u0072\x6f\u0073\x73\u0068\u0061\u0069\u0072\x58'] >= this['\u006c\u0065\u0066\x74'] && A7B['\u0043\x68\u0061\x72\u0074\u0045\x6e\u0067\u0069\u006e\x65']['\x63\x72\u006f\x73\u0073\x68\u0061\x69\u0072\u0058'] <= this['\x72\x69\x67\x68\x74'] && A7B['\x43\u0068\x61\x72\u0074\x45\x6e\x67\u0069\u006e\u0065']['\x63\x72\u006f\x73\u0073\x68\x61\u0069\u0072\u0059'] >= this['\x74\x6f\x70'] && A7B['\x43\u0068\x61\x72\x74\u0045\x6e\x67\x69\x6e\u0065']['\u0063\u0072\u006f\u0073\x73\u0068\u0061\x69\x72\u0059'] <= this['\u0062\x6f\u0074\x74\u006f\x6d']){this['\u0069\x6e\u0073\u0069\x64\x65\u0043\u0068\x61\x72\x74']=!!({});}else {this['\x69\x6e\u0073\x69\x64\u0065\x43\x68\u0061\x72\x74']=!1;}y3x=this['\x78\u0041\u0078\u0069\x73\x41\x73\u0046\x6f\u006f\u0074\x65\x72'] === !![]?this['\u0063\x68\u0061\x72\u0074']['\u0063\u0061\u006e\u0076\u0061\u0073\u0048\x65\u0069\u0067\u0068\u0074']:this['\u0063\x68\x61\x72\x74']['\u0070\x61\u006e\u0065\u006c']['\x62\u006f\u0074\x74\x6f\x6d'];this['\x6f\x76\u0065\x72\u0058\u0041\u0078\u0069\x73']=this['\u0069\x6e\u0073\u0069\u0064\u0065\x43\x68\x61\u0072\x74'] && this['\x63\x79'] <= y3x && this['\x63\u0079'] > y3x - this['\x78\x61\x78\u0069\x73\x48\u0065\u0069\x67\x68\x74'];this['\u006f\x76\x65\u0072\x59\x41\u0078\x69\x73']=(this['\u0063\u0078'] >= this['\u0063\u0075\u0072\u0072\x65\u006e\x74\x50\x61\u006e\x65\u006c']['\u0072\u0069\u0067\x68\u0074'] || this['\u0063\u0078'] <= this['\u0063\u0075\x72\u0072\x65\x6e\x74\u0050\x61\x6e\x65\x6c']['\x6c\x65\x66\x74']) && this['\u0069\u006e\u0073\x69\x64\x65\x43\u0068\u0061\u0072\u0074'];if(this['\x6f\u0076\x65\u0072\u0058\u0041\u0078\x69\x73'] || this['\x6f\u0076\x65\u0072\u0059\u0041\u0078\x69\u0073'] || !this['\x69\x6e\u0073\u0069\u0064\u0065\x43\x68\x61\x72\u0074'] && !this['\x67\x72\u0061\x62\x62\x69\x6e\x67\x53\x63\x72\u0065\x65\u006e']){this['\u0075\x6e\x64\x69\x73\x70\u006c\u0061\u0079\u0043\u0072\x6f\u0073\u0073\u0068\u0061\x69\u0072\x73']();if(!this['\x6f\x76\u0065\u0072\x58\u0041\u0078\x69\x73'] && !this['\x6f\u0076\u0065\u0072\x59\u0041\x78\x69\x73']){return;}}if(!this['\u0064\x69\u0073\u0070\u006c\u0061\u0079\x43\u0072\x6f\x73\u0073\x68\u0061\u0069\u0072\u0073'] && !A7B['\x43\u0068\x61\x72\x74\x45\u006e\x67\u0069\u006e\x65']['\x72\u0065\u0073\u0069\x7a\u0069\u006e\x67\u0050\x61\u006e\u0065\u006c']){this['\u0075\x6e\x64\u0069\x73\u0070\u006c\x61\x79\u0043\u0072\u006f\x73\x73\u0068\u0061\x69\x72\u0073']();return;}if(this['\x72\x65\x70\x6f\x73\x69\u0074\u0069\x6f\x6e\x69\u006e\x67\u0042\u0061\u0073\u0065\x6c\u0069\u006e\x65']){this['\x73\x65\u0074\u0042\u0061\x73\u0065\x6c\x69\u006e\u0065\x55\x73\u0065\u0072\u004c\x65\x76\u0065\u006c']();return t7w(this);}if(this['\x72\x65\x70\x6f\u0073\u0069\u0074\u0069\x6f\x6e\u0069\u006e\u0067\x41\x6e\x63\u0068\u006f\x72\u0053\u0065\x6c\u0065\x63\u0074\x6f\x72']){R$L=this['\u0072\u0065\x70\u006f\x73\x69\u0074\u0069\x6f\u006e\x69\x6e\x67\x41\u006e\u0063\x68\u006f\u0072\x53\x65\x6c\x65\u0063\x74\u006f\x72']['\u0068\u006f\x76\x65\x72\u0054\x69\u0063\u006b'];O8V=this['\x74\u0069\u0063\x6b\x46\x72\u006f\u006d\u0050\u0069\x78\x65\x6c'](this['\u0063\u0078'],this['\x63\u0068\x61\x72\u0074']);if(O8V >= 0 && O8V < this['\x63\u0068\u0061\x72\u0074']['\u0064\u0061\x74\x61\u0053\u0065\u0074']['\x6c\u0065\x6e\u0067\x74\u0068'] && (!(R$L && R$L !== 0) || O8V !== R$L)){this['\x72\x65\x70\x6f\u0073\x69\u0074\u0069\x6f\x6e\u0069\x6e\u0067\u0041\x6e\x63\u0068\u006f\u0072\u0053\x65\u006c\u0065\u0063\u0074\x6f\u0072']['\x68\x6f\u0076\x65\u0072\x54\u0069\x63\x6b']=O8V;this['\x64\x72\x61\u0077']();}return t7w(this);}if(this['\u0067\u0072\u0061\x62\x62\x69\x6e\x67\u0053\u0063\u0072\u0065\u0065\u006e'] && !A7B['\x43\u0068\u0061\u0072\u0074\u0045\u006e\x67\x69\u006e\u0065']['\x72\x65\x73\u0069\x7a\x69\u006e\u0067\x50\x61\u006e\x65\x6c'] && !this['\u0063\x68\u0061\u0072\u0074']['\x64\u0072\x61\x67\x67\u0069\u006e\u0067\u0043\u006f\x6e\x74\u0072\x6f\u006c\x73']){q9c='\x70';q9c+='\u0061';q9c+='\u006e';if(this['\x68\x69\x67\u0068\x6c\x69\u0067\u0068\u0074\u0065\u0064\u0044\u0072\u0061\x67\x67\x61\x62\x6c\x65']){this['\x64\u0069\x73\x70\x6c\x61\u0079\u0044\x72\u0061\u0067\x4f\u004b'](!![]);this['\u0064\u0072\x61\u0067\x50\u006c\u006f\x74\x4f\u0072\x41\u0078\u0069\x73'](m5o,r4q);return t7w(this);}if(this['\x61\x6e\u0079\u0048\u0069\x67\x68\x6c\x69\u0067\u0068\x74\x65\u0064']){A7B['\x63\u006c\u0065\x61\u0072\u0043\x61\u006e\u0076\u0061\u0073'](this['\u0063\u0068\u0061\x72\x74']['\u0074\u0065\u006d\x70\x43\x61\u006e\x76\x61\u0073'],this);this['\u0061\u006e\u0079\x48\u0069\u0067\u0068\u006c\x69\x67\x68\x74\x65\x64']=!'\x31';for(X5N in this['\x6f\u0076\x65\u0072\u006c\u0061\u0079\u0073']){this['\x6f\x76\x65\u0072\x6c\x61\u0079\u0073'][X5N]['\x68\x69\x67\x68\x6c\u0069\x67\u0068\u0074']=!({});}for(X5N in Y27['\x73\u0065\u0072\u0069\x65\u0073']){Y27['\u0073\x65\u0072\u0069\u0065\u0073'][X5N]['\u0068\x69\u0067\u0068\x6c\x69\u0067\u0068\u0074']=![];}this['\u0064\x69\x73\x70\u006c\u0061\x79\x53\u0074\x69\u0063\u006b\x79']();}if(this['\x67\u0072\x61\x62\u0053\u0074\u0061\x72\x74\x58'] == -1){this['\u0067\u0072\u0061\u0062\u0053\u0074\x61\u0072\u0074\x58']=A7B['\u0043\x68\x61\u0072\u0074\u0045\x6e\x67\u0069\u006e\x65']['\u0063\u0072\u006f\u0073\x73\x68\x61\x69\x72\u0058'];this['\u0067\u0072\x61\u0062\u0053\u0074\u0061\u0072\u0074\u0053\u0063\u0072\x6f\u006c\u006c\u0058']=Y27['\x73\x63\u0072\x6f\u006c\x6c'];}if(this['\u0067\x72\x61\u0062\u0053\x74\x61\u0072\u0074\x59'] == -1){this['\u0067\x72\u0061\x62\x53\u0074\u0061\x72\u0074\x59']=A7B['\u0043\x68\u0061\u0072\x74\u0045\u006e\x67\x69\x6e\x65']['\x63\u0072\u006f\x73\u0073\x68\x61\x69\u0072\u0059'];this['\u0067\u0072\u0061\u0062\u0053\u0074\x61\x72\u0074\x53\u0063\u0072\u006f\x6c\x6c\x59']=this['\u0063\u0075\x72\u0072\u0065\x6e\x74\x50\x61\x6e\u0065\x6c']['\x79\x41\u0078\x69\x73']['\x73\u0063\x72\u006f\x6c\x6c'];}f0T=this['\u006c\u0061\u0073\u0074\x4d\x6f\u0076\u0065'] === '\u0068\u006f\u0072\x69\u007a\u006f\u006e\x74\x61\x6c'?A7B['\u0043\x68\x61\x72\u0074\x45\u006e\x67\u0069\u006e\u0065']['\x63\u0072\x6f\x73\u0073\x68\x61\u0069\u0072\u0058']:Math['\x6d\x61\u0078'](this['\u006c\u0065\x66\u0074'],Math['\u006d\u0069\x6e'](this['\u0072\u0069\u0067\x68\x74'],A7B['\x43\x68\u0061\u0072\u0074\x45\u006e\u0067\u0069\x6e\u0065']['\x63\u0072\u006f\x73\x73\u0068\x61\u0069\x72\x58']));Y2_=this['\u006c\x61\u0073\u0074\u004d\u006f\u0076\x65'] === '\u0076\x65\u0072\u0074\x69\u0063\x61\u006c'?A7B['\u0043\x68\u0061\x72\u0074\u0045\x6e\x67\x69\u006e\u0065']['\x63\u0072\x6f\x73\u0073\x68\x61\u0069\u0072\u0059']:Math['\u006d\x61\x78'](this['\x74\x6f\x70'],Math['\u006d\u0069\u006e'](this['\x62\x6f\x74\x74\x6f\u006d'],A7B['\x43\u0068\u0061\x72\u0074\x45\x6e\u0067\x69\x6e\u0065']['\u0063\u0072\x6f\x73\x73\x68\x61\u0069\u0072\u0059']));F9F=f0T - this['\x67\x72\u0061\x62\u0053\u0074\u0061\x72\u0074\u0058'];k2i=Y2_ - this['\x67\x72\u0061\u0062\u0053\x74\x61\u0072\u0074\u0059'];if(F9F === 0 && k2i === '\u0030' * 1){return;}if(Math['\u0061\x62\x73'](F9F) + Math['\x61\u0062\x73'](k2i) > 5){this['\u0067\x72\u0061\x62\x4f\u0076\x65\x72\x72\x69\u0064\u0065\x43\u006c\x69\x63\x6b']=!![];}T1o=this['\x6c\x61\x79\x6f\u0075\u0074']['\x63\x61\u006e\u0064\x6c\x65\u0057\u0069\x64\x74\u0068'];if(this['\u0061\x6c\x6c\x6f\x77\u005a\u006f\u006f\u006d'] && this['\u0067\x72\x61\u0062\u004d\u006f\x64\x65'] != q9c && (this['\u0067\u0072\x61\x62\u004d\u006f\x64\x65']['\x69\u006e\x64\x65\u0078\u004f\u0066']('\x7a\u006f\u006f\x6d') === 0 || this['\x6f\u0076\x65\x72\u0058\x41\x78\u0069\u0073'] || this['\x67\u0072\x61\u0062\x53\x74\x61\x72\u0074\u0059\u0041\u0078\x69\x73'])){b_7='\u007a\u006f\u006f\u006d';b_7+='\x2d\u0079';if(this['\u0067\u0072\x61\u0062\x4d\u006f\x64\u0065'] === ""){if(this['\u006f\u0076\x65\u0072\u0058\x41\u0078\x69\x73']){this['\x67\u0072\x61\u0062\x4d\u006f\x64\u0065']='\x7a\x6f\x6f\u006d\x2d\x78';}else if(this['\x67\x72\x61\x62\x53\u0074\u0061\x72\x74\u0059\u0041\x78\x69\u0073']){this['\u0067\u0072\u0061\u0062\u004d\u006f\u0064\x65']='\u007a\u006f\x6f\u006d\x2d\u0079';}}if(this['\x67\u0072\x61\x62\u004d\x6f\u0064\u0065'] == '\x7a\x6f\u006f\u006d\x2d\x78'){k2i=0;}else if(this['\x67\x72\u0061\x62\u004d\x6f\x64\x65'] == b_7){H3B['\x4f\x24\x72'](3);F9F=H3B['\x62\x36\x33']('\x30',1);}if(F9F){this['\u0067\u0072\x61\x62\u0053\u0074\u0061\x72\u0074\u0058']=A7B['\x43\x68\u0061\u0072\x74\u0045\u006e\x67\x69\u006e\x65']['\x63\u0072\x6f\x73\x73\x68\x61\u0069\x72\x58'];j3V=T1o - F9F / this['\u0063\x68\x61\x72\u0074']['\x6d\u0061\u0078\u0054\u0069\u0063\x6b\x73'];this['\u007a\u006f\u006f\u006d\x53\u0065\x74'](j3V,this['\x63\x68\x61\x72\x74']);}if(this['\u006c\u0061\u0079\u006f\u0075\x74']['\x73\x65\u0074\x53\u0070\u0061\x6e']){this['\u006c\u0061\u0079\x6f\x75\u0074']['\x73\u0065\u0074\x53\x70\u0061\x6e']=null;this['\u0063\u0068\x61\x6e\u0067\x65\x4f\x63\u0063\u0075\x72\x72\x65\u0064']('\u006c\u0061\u0079\u006f\u0075\u0074');}e$o=this['\x67\u0072\u0061\u0062\u0053\u0074\u0061\x72\x74\x59\u0041\u0078\u0069\u0073'];if(e$o && e$o['\x61\u006c\u006c\x6f\u0077\u005a\x6f\u006f\x6d']){if(e$o['\u0066\u006c\u0069\x70\u0070\u0065\x64']){k2i*=-1;}e$o['\x7a\u006f\x6f\x6d']=Math['\u0072\x6f\x75\u006e\x64'](this['\x67\x72\x61\x62\u0053\u0074\u0061\u0072\u0074\u005a\u006f\u006f\u006d'] + k2i);if(this['\x67\x72\x61\x62\u0053\x74\u0061\x72\u0074\u005a\u006f\u006f\u006d'] < e$o['\u0068\x65\u0069\x67\u0068\u0074']){if(e$o['\x7a\u006f\u006f\x6d'] >= e$o['\u0068\x65\u0069\x67\u0068\x74']){H3B['\x4f\x24\x72'](78);var S4y=H3B['\u0076\u0030\x71'](20,14,0,7);e$o['\x7a\u006f\u006f\u006d']=e$o['\x68\u0065\u0069\x67\u0068\u0074'] - S4y;}}else {if(e$o['\u007a\x6f\u006f\x6d'] <= e$o['\u0068\x65\x69\x67\u0068\x74']){H3B['\u0067\u0033\x33'](123);var p$2=H3B['\u0062\u0036\u0033'](17,17,19,11,5303);e$o['\x7a\x6f\u006f\u006d']=e$o['\x68\u0065\u0069\u0067\x68\u0074'] + p$2;}}}}else if(!this['\x6f\u0076\x65\x72\u0059\x41\x78\u0069\u0073']){this['\x64\u0069\x73\u0070\u0061\u0074\x63\u0068']('\x6d\x6f\x76\x65',{stx:this,panel:this['\u0063\u0075\x72\x72\x65\u006e\u0074\u0050\x61\x6e\x65\u006c'],x:this['\u0063\x78'],y:this['\u0063\u0079'],grab:!!1});if(this['\x61\x6c\x6c\x6f\u0077\u0053\x63\u0072\x6f\u006c\x6c']){z23='\x73\x63\x72\u006f';z23+='\x6c\x6c';if(Math['\x61\u0062\u0073'](k2i) < this['\x79\u0054\x6f\u006c\x65\x72\x61\u006e\x63\x65']){if(!this['\u0079\x54\u006f\u006c\u0065\u0072\u0061\x6e\x63\x65\u0042\x72\x6f\x6b\u0065\u006e']){k2i=0;if(F9F === 0){return;}}}else {this['\x79\u0054\x6f\u006c\u0065\u0072\u0061\x6e\u0063\u0065\x42\x72\u006f\u006b\u0065\x6e']=!!1;}if(!this['\x67\x72\x61\x62\u0053\u0074\u0061\x72\x74\u004d\x69\x63\u0072\u006f\u0070\x69\x78\x65\u006c\x73']){this['\x67\x72\x61\u0062\u0053\x74\x61\x72\x74\x4d\x69\x63\x72\u006f\x70\u0069\u0078\x65\u006c\u0073']=0;}this['\u0067\u0072\x61\x62\u004d\x6f\u0064\u0065']='\u0070\u0061\u006e';Y27['\x73\u0063\x72\u006f\u006c\u006c']=this['\x67\x72\u0061\x62\u0053\u0074\x61\u0072\x74\u0053\u0063\x72\x6f\u006c\u006c\x58'];H3B['\x4f\u0024\u0072'](12);var t_B=H3B['\u0076\x30\x71'](65,17,11,693);H3B['\u0067\x33\u0033'](16);var k0e=H3B['\x62\u0036\u0033'](14,13);this['\x6d\u0069\u0063\x72\x6f\x70\u0069\u0078\x65\x6c\x73']=this['\u0067\x72\u0061\x62\x53\u0074\x61\u0072\u0074\u004d\u0069\x63\u0072\u006f\x70\u0069\x78\x65\u006c\x73'] + F9F * (this['\x73\u0068\x69\x66\u0074']?t_B:k0e);if(!this['\x6c\x69\u006e\u0065\u0054\x72\u0061\x76\u0065\x6c\x53\x70\u0061\u0063\x69\u006e\u0067']){while(this['\u006d\u0069\u0063\u0072\u006f\u0070\x69\x78\x65\u006c\x73'] > 0){this['\u006d\u0069\x63\x72\u006f\u0070\u0069\u0078\u0065\x6c\u0073']-=T1o;Y27['\u0073\u0063\x72\u006f\x6c\u006c']++;}while(this['\x6d\x69\u0063\x72\x6f\x70\x69\x78\u0065\x6c\u0073'] < -T1o){this['\u006d\x69\u0063\u0072\u006f\x70\u0069\u0078\u0065\u006c\u0073']+=T1o;Y27['\x73\u0063\u0072\u006f\u006c\u006c']--;}}if(Y27['\u0073\u0063\x72\x6f\u006c\u006c'] >= Y27['\x6d\u0061\u0078\x54\x69\x63\u006b\x73']){this['\x70\x72\u0065\x66\x65\u0072\u0065\x6e\u0063\u0065\u0073']['\x77\x68\u0069\x74\x65\u0073\u0070\u0061\u0063\x65']=this['\x69\u006e\u0069\x74\x69\x61\x6c\x57\u0068\u0069\x74\u0065\u0073\x70\x61\u0063\u0065'];}else {this['\u0070\x72\u0065\x66\u0065\u0072\x65\x6e\x63\u0065\u0073']['\u0077\x68\u0069\x74\x65\x73\u0070\x61\x63\x65']=(Y27['\x6d\u0061\u0078\u0054\u0069\x63\u006b\x73'] - Y27['\x73\x63\x72\u006f\u006c\u006c']) * T1o;}if(this['\x63\x75\u0072\u0072\x65\x6e\u0074\u0050\x61\u006e\x65\u006c'] == this['\x67\x72\x61\u0062\u0053\u0074\x61\u0072\x74\x50\x61\u006e\x65\u006c']){e$o=this['\u0063\x75\u0072\u0072\u0065\u006e\x74\x50\u0061\u006e\u0065\u006c']['\u0079\x41\u0078\u0069\u0073'];if(e$o['\x66\x6c\u0069\x70\u0070\x65\x64']){k2i*=-1;}e$o['\u0073\x63\u0072\u006f\x6c\u006c']=this['\x67\x72\x61\u0062\x53\x74\u0061\x72\x74\x53\x63\x72\u006f\x6c\x6c\u0059'] + k2i;}this['\x64\u0069\u0073\u0070\u0061\x74\x63\u0068'](z23,{stx:this,panel:this['\u0063\x75\u0072\x72\x65\u006e\u0074\u0050\x61\x6e\u0065\x6c'],x:this['\x63\u0078'],y:this['\x63\u0079']});}}Z5u=function(O0S){H3B.m_N();return function(){O0S['\x64\x72\x61\x77']();O0S['\u0075\x70\x64\u0061\u0074\x65\u0043\u0068\u0061\x72\x74\x41\u0063\u0063\u0065\x73\u0073\x6f\x72\u0069\u0065\u0073']();};};if(A7B['\u0043\u0068\u0061\u0072\u0074\x45\x6e\u0067\x69\x6e\u0065']['\x75\x73\x65\u0041\u006e\x69\u006d\x61\u0074\u0069\x6f\x6e']){this['\u006f\u0077\u006e\x65\x72\x57\x69\u006e\u0064\u006f\u0077']['\u0072\u0065\x71\x75\u0065\x73\u0074\u0041\u006e\u0069\u006d\u0061\u0074\x69\u006f\x6e\u0046\u0072\x61\x6d\u0065'](Z5u(this));}else {this['\u0064\u0072\x61\x77']();this['\x75\x70\x64\x61\u0074\u0065\x43\x68\u0061\x72\x74\x41\u0063\u0063\x65\x73\x73\u006f\u0072\x69\u0065\u0073']();}if(this['\u0061\x63\u0074\x69\u0076\x65\u0044\x72\u0061\u0077\x69\u006e\x67']){A7B['\x63\x6c\u0065\u0061\x72\x43\u0061\x6e\u0076\x61\x73'](this['\u0063\u0068\x61\x72\u0074']['\u0074\u0065\u006d\u0070\u0043\x61\x6e\u0076\u0061\u0073'],this);this['\x61\u0063\u0074\x69\u0076\x65\x44\x72\x61\x77\x69\u006e\u0067']['\u0072\u0065\u006e\u0064\u0065\u0072'](this['\x63\x68\x61\x72\u0074']['\x74\u0065\x6d\u0070\x43\x61\x6e\x76\u0061\x73']['\u0063\u006f\u006e\x74\x65\u0078\u0074']);this['\u0061\u0063\x74\u0069\u0076\x65\u0044\u0072\x61\u0077\u0069\u006e\x67']['\u006d\x65\x61\x73\u0075\x72\u0065']();}this['\u0075\x6e\u0064\u0069\u0073\u0070\u006c\x61\x79\u0043\u0072\x6f\x73\u0073\u0068\u0061\x69\x72\x73']();return;}this['\u0067\u0072\u0061\u0062\u004d\u006f\x64\x65']="";if(this['\u006f\u0076\x65\x72\x58\x41\x78\u0069\x73'] || this['\x6f\x76\u0065\x72\u0059\u0041\u0078\x69\x73']){this['\u0075\x70\u0064\u0061\u0074\x65\u0043\u0068\u0061\u0072\u0074\x41\x63\u0063\x65\u0073\x73\x6f\u0072\u0069\u0065\u0073']();if(!this['\x74\x61\u0070\x46\x6f\x72\u0048\u0069\u0067\x68\x6c\u0069\u0067\u0068\u0074\x69\x6e\u0067'] || !this['\u0074\x6f\u0075\u0063\u0068\u0069\u006e\u0067'] || this['\x61\u006e\x79\x48\u0069\x67\u0068\u006c\x69\x67\u0068\x74\u0065\u0064']){this['\u0066\u0069\x6e\x64\u0048\u0069\x67\u0068\x6c\u0069\u0067\x68\u0074\u0073']();}return t7w(this);}if(this['\x63\u006f\u006e\u0074\u0072\u006f\x6c\x73']['\x63\u0072\x6f\u0073\x73\x58']){this['\u0063\u006f\u006e\u0074\x72\u006f\u006c\u0073']['\u0063\x72\u006f\u0073\x73\x58']['\x73\u0074\u0079\x6c\u0065']['\x6c\u0065\u0066\u0074']=this['\u0070\x69\x78\x65\x6c\u0046\x72\u006f\u006d\x54\x69\u0063\u006b'](this['\u0063\x72\x6f\u0073\u0073\x68\u0061\u0069\u0072\u0054\u0069\x63\x6b'],Y27) - 0.5 + '\x70\x78';}if(this['\x63\u006f\u006e\x74\u0072\u006f\u006c\u0073']['\x63\u0072\x6f\u0073\u0073\x59']){this['\x63\u006f\u006e\u0074\x72\x6f\x6c\u0073']['\x63\u0072\x6f\x73\x73\x59']['\u0073\u0074\u0079\u006c\x65']['\u0074\u006f\u0070']=this['\x63\u0072\u006f\u0073\x73\x59\x41\u0063\x74\x75\x61\u006c\x50\u006f\u0073'] + x5p;}if(this['\u0069\x6e\x73\x69\x64\x65\u0043\x68\x61\x72\x74'] && !A7B['\u0043\x68\u0061\u0072\x74\x45\x6e\u0067\x69\u006e\u0065']['\x72\u0065\u0073\x69\u007a\x69\x6e\x67\u0050\x61\u006e\u0065\x6c']){T0y=this['\x63\x75\u0072\x72\u0065\u006e\x74\x56\x65\u0063\u0074\u006f\x72\u0050\u0061\x72\u0061\u006d\x65\u0074\u0065\u0072\x73']['\x76\x65\x63\x74\u006f\x72\u0054\u0079\u0070\u0065'];if(this['\x6c\x61\x79\x6f\x75\x74']['\x73\u0074\u0075\x64\u0069\u0065\x73']){n0E=this['\u006c\u0061\x79\x6f\x75\x74']['\u0073\x74\x75\x64\x69\x65\u0073'][this['\u0063\x75\u0072\x72\u0065\x6e\u0074\u0050\u0061\x6e\u0065\u006c']['\x6e\u0061\x6d\u0065']];if(n0E){if(!this['\u0070\x72\u0065\x66\u0065\x72\x65\x6e\u0063\x65\x73']['\x64\u0072\x61\x67\x67\x69\u006e\u0067'] || !this['\x70\u0072\u0065\u0066\x65\x72\x65\x6e\x63\x65\u0073']['\x64\x72\x61\u0067\u0067\u0069\x6e\u0067']['\x73\u0074\u0075\x64\u0079']){delete this['\x6f\x76\x65\u0072\x6c\u0061\x79\u0073'][n0E['\x6e\u0061\x6d\u0065']];}if(T0y){this['\u006f\x76\u0065\x72\x6c\u0061\x79\u0073'][n0E['\x6e\x61\x6d\u0065']]=n0E;}}}if(!A7B['\x44\x72\u0061\x77\x69\u006e\u0067'] || !T0y || !A7B['\x44\x72\u0061\u0077\x69\x6e\x67'][T0y] || !new A7B['\x44\x72\x61\x77\u0069\x6e\x67'][T0y]()['\x64\u0072\x61\x67\x54\u006f\u0044\u0072\x61\x77']){this['\x64\x6f\u0044\x69\x73\x70\x6c\x61\x79\u0043\x72\u006f\x73\u0073\x68\u0061\u0069\x72\u0073']();}this['\u0075\x70\x64\x61\x74\u0065\x43\u0068\x61\x72\u0074\x41\x63\u0063\u0065\x73\x73\u006f\x72\x69\x65\x73']();}else {this['\u0075\x6e\x64\u0069\u0073\u0070\u006c\u0061\u0079\x43\u0072\u006f\x73\x73\x68\x61\u0069\x72\u0073']();}if(this['\x6d\x61\u0067\x6e\x65\u0074\u0069\u007a\u0065']){this['\x6d\u0061\u0067\u006e\x65\x74\u0069\u007a\u0065']();}if(this['\x72\u0065\u0070\x6f\u0073\x69\x74\u0069\x6f\u006e\x69\x6e\u0067\x44\u0072\u0061\x77\u0069\x6e\u0067']){this['\x72\x65\x70\x6f\u0073\x69\u0074\x69\u006f\u006e\u0044\x72\u0061\x77\u0069\x6e\x67'](this['\u0072\x65\u0070\x6f\x73\x69\u0074\x69\x6f\x6e\u0069\u006e\x67\u0044\x72\x61\x77\u0069\x6e\x67']);}else if(A7B['\x43\x68\x61\x72\x74\u0045\x6e\x67\x69\u006e\x65']['\x64\x72\u0061\u0077\x69\x6e\u0067\u004c\u0069\x6e\u0065']){if(this['\x61\u0063\x74\x69\x76\x65\x44\u0072\x61\u0077\x69\x6e\u0067']){if(this['\x6d\x61\u0067\x6e\u0065\x74\x69\u007a\x65\u0064\u0050\x72\u0069\u0063\x65'] === null){C9n=this['\u0070\u0061\x6e\u0065\u006c\x73'][this['\u0061\u0063\x74\x69\x76\u0065\x44\x72\x61\u0077\x69\x6e\x67']['\x70\x61\x6e\x65\x6c\u004e\u0061\u006d\x65']];W0f=this['\x61\x64\x6a\u0075\x73\x74\x49\u0066\u004e\x65\x63\u0065\u0073\u0073\x61\x72\x79'](C9n,this['\u0063\u0072\x6f\x73\x73\x68\u0061\x69\u0072\x54\u0069\x63\x6b'],this['\u0061\x63\u0074\u0069\u0076\x65\x44\u0072\x61\u0077\u0069\u006e\u0067']['\u0076\x61\x6c\x75\u0065\x46\x72\u006f\x6d\u0050\u0069\x78\u0065\u006c'](this['\u0062\u0061\u0063\x6b\u004f\u0075\u0074\u0059'](A7B['\u0043\x68\u0061\u0072\u0074\u0045\u006e\x67\x69\u006e\u0065']['\x63\x72\u006f\u0073\u0073\u0068\u0061\x69\u0072\u0059']),C9n,this['\u0067\x65\x74\u0059\u0041\u0078\x69\u0073\u0042\u0079\x46\x69\x65\u006c\u0064'](C9n,this['\x61\x63\x74\x69\x76\x65\u0044\u0072\u0061\u0077\u0069\u006e\x67']['\u0066\x69\x65\x6c\u0064'])));A7B['\x63\x6c\x65\u0061\u0072\x43\x61\u006e\u0076\u0061\x73'](this['\x63\u0068\u0061\u0072\x74']['\x74\u0065\u006d\u0070\u0043\u0061\u006e\x76\u0061\u0073'],this);this['\u0073\x74\u0061\x72\x74\x43\x6c\x69\u0070'](C9n['\x6e\u0061\u006d\u0065']);this['\u0061\u0063\u0074\u0069\u0076\u0065\x44\u0072\u0061\u0077\x69\x6e\x67']['\x6d\u006f\x76\u0065'](this['\u0063\u0068\u0061\u0072\x74']['\x74\x65\u006d\x70\u0043\x61\x6e\x76\x61\u0073']['\x63\x6f\x6e\u0074\x65\x78\x74'],this['\u0063\u0072\u006f\x73\u0073\u0068\u0061\u0069\x72\u0054\u0069\u0063\u006b'],W0f);this['\u0065\u006e\x64\u0043\u006c\x69\x70']();}if(this['\u0061\x63\u0074\u0069\u0076\u0065\x44\u0072\u0061\x77\x69\x6e\u0067']['\x6d\u0065\u0061\x73\x75\x72\x65']){this['\x61\x63\u0074\x69\u0076\u0065\x44\x72\u0061\u0077\u0069\u006e\x67']['\x6d\x65\u0061\x73\u0075\u0072\u0065']();}}}else if(A7B['\u0043\u0068\u0061\x72\u0074\x45\u006e\u0067\x69\x6e\u0065']['\u0072\u0065\x73\x69\u007a\u0069\u006e\x67\u0050\u0061\x6e\x65\u006c']){this['\u0072\u0065\u0073\u0069\u007a\x65\x50\x61\x6e\x65\u006c\x73']();}if(this['\x69\x6e\u0073\u0069\x64\u0065\x43\x68\x61\x72\x74']){this['\u0064\u0069\u0073\u0070\x61\u0074\x63\u0068']('\x6d\x6f\u0076\x65',{stx:this,panel:this['\u0063\x75\u0072\x72\x65\x6e\x74\x50\u0061\x6e\u0065\x6c'],x:this['\u0063\x78'],y:this['\x63\u0079'],grab:!1});if(!this['\u0074\u0061\x70\u0046\u006f\u0072\x48\x69\x67\u0068\x6c\x69\x67\x68\u0074\u0069\u006e\x67'] || !this['\x74\u006f\x75\x63\x68\u0069\x6e\u0067'] || this['\u0061\u006e\u0079\x48\x69\u0067\u0068\u006c\x69\u0067\x68\x74\u0065\u0064']){this['\u0066\x69\x6e\u0064\u0048\u0069\u0067\u0068\x6c\x69\x67\x68\u0074\x73']();}}return t7w(this);};A7B.ChartEngine.prototype.swipeStart=function(i9T){var m4A,K2R;m4A=this.swipe;if(m4A && m4A.interval){clearInterval(m4A.interval);}m4A.velocity=0;H3B.g33(11);m4A.amplitude=H3B.v0q(64,"0");m4A.frame=i9T.scroll;m4A.micropixels=this.micropixels;m4A.timestamp=Date.now();m4A.chart=i9T;m4A.end=!({});H3B.m_N();m4A.timeConstant=325;m4A.cb=null;K2R=this;this.ownerWindow.requestAnimationFrame(function(){K2R.swipeSample();});};A7B.ChartEngine.prototype.swipeSample=function(){var f8y,J4q,A8I,J7s,s63,E2R,p37,O6E,a_V;f8y=this.swipe;if(f8y.end){return;}J4q=this;p37=+"20";A8I=Date.now();J7s=A8I - f8y.timestamp;if(J7s < p37){this.ownerWindow.requestAnimationFrame(function(){J4q.swipeSample();});return;}O6E=A7B.touchDevice?+"0.4":0.8;f8y.timestamp=A8I;s63=(f8y.chart.scroll - f8y.frame) * this.layout.candleWidth + this.micropixels - f8y.micropixels;f8y.frame=f8y.chart.scroll;f8y.micropixels=this.micropixels;H3B.g33(124);E2R=H3B.b63(1000,J7s,1,s63);a_V=O6E * E2R + 0.2 * f8y.velocity;if(Math.abs(a_V) > Math.abs(f8y.velocity)){f8y.velocity=a_V;}if(Math.abs(s63) < 6){H3B.g33(18);f8y.velocity=H3B.v0q(0,"0");}this.ownerWindow.requestAnimationFrame(function(){J4q.swipeSample();});};A7B.ChartEngine.prototype.swipeRelease=function(){var b44,f8V;b44=this.swipe;if(b44.velocity > 3000){b44.velocity=3000;}if(b44.velocity < -3000){b44.velocity=-3000;}if(b44.velocity > 10 || b44.velocity < -10){b44.amplitude=0.8 * b44.velocity;b44.scroll=b44.chart.scroll;b44.target=b44.amplitude;b44.timestamp=Date.now();f8V=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}this.ownerWindow.requestAnimationFrame(function(){f8V.autoscroll();});}};A7B.ChartEngine.prototype.allowDragControls=function(){H3B.Z7I();var w9W;w9W={down:(function(T73){return function(n_E){T73.modalBegin();T73.chart.draggingControls={bottom:T73.chart.chartControls.style.bottom};};})(this),move:(function(i8H){H3B.m_N();return function(N7y){var C6P,k2Z,x4l,d8K;H3B.m_N();var {draggingControls:e8S, chartControls:U7O, home:p9i}=i8H.chart;if(e8S){C6P="p";C6P+="x";var {style:U5i, offsetHeight:V74}=U7O;k2Z=i8H.height - V74;x4l=0;d8K=A7B.stripPX(e8S.bottom) - N7y.displacementY;d8K=Math.min(Math.max(d8K,x4l),k2Z);H3B.O$r(0);U5i.bottom=H3B.b63(d8K,C6P);p9i.style.bottom=U5i.bottom;}};})(this),up:(function(J3y){return function(O8i){J3y.chart.draggingControls=null;H3B.m_N();J3y.modalEnd();};})(this)};if(this.chart.chartControls){A7B.safeDrag(this.chart.chartControls,w9W);}if(this.chart.home){A7B.safeDrag(this.chart.home,w9W);}};A7B.ChartEngine.prototype.dragPlotOrAxis=function(T_v,Y5p){var L8U,o5b,W3g,h4F,n7I,N_X,H_8,t9a,y3t,G0G,p_t,Q$N,f5b,A3I,H6R,q4y,r17,g3p,s6L,T7P,c07,U2R,a3Y,K4k,i9u,G7K,e8o,B85,l8r,x_Z,p3U,z7M,d4v,V3l,G_k,w7R,o0K,w8Z,u51,i5J,N$t,J3r,c3o,u0m,U_U,a5u,M_U,o5p,m97,D2B,T2X,j_l,C7l,O5C,P_C,y1T,F42,L9a,K$j,v3k,q7n,T8n,N$N;L8U="ri";L8U+="gh";L8U+="t";o5b=this;if(!q1X.call(this) && !this.grabbingScreen){return;}W3g=null;h4F=this.whichPanel(Y5p);n7I=this.highlightedDraggable;H3B.g33(18);N_X=H3B.v0q(0,"0");if(!h4F){return;}if(n7I.undraggable && n7I.undraggable(this)){return;}if(this.xAxisAsFooter && h4F == Object.values(this.panels).filter(function(R6z){return !R6z.hidden;}).pop()){N_X=this.xaxisHeight;if(W3g){W3g+=N_X;}}H_8=Math.min(20,(h4F.height - N_X) / 3);t9a=Math.min(10,h4F.width / 3);y3t=this.whichYAxis(h4F,T_v,Y5p);H3B.O$r(2);G0G=this.whichYAxis(h4F,H3B.v0q(T_v,t9a),Y5p);H3B.O$r(0);p_t=this.whichYAxis(h4F,H3B.b63(T_v,t9a),Y5p);H3B.O$r(2);Q$N=this.whichPanel(H3B.v0q(Y5p,H_8));H3B.O$r(17);f5b=this.whichPanel(H3B.b63(N_X,H_8,Y5p));A3I=![];H6R=!!"";q4y=!!0;if(A7B.Renderer){A3I=n7I instanceof A7B.Renderer;}if(A7B.Studies){H6R=n7I instanceof A7B.Studies.StudyDescriptor;}q4y=n7I instanceof A7B.ChartEngine.YAxis;r17=function(K3d){var F7F;if(!q4y){F7F="lef";F7F+="t";if(K3d == "right"){H3B.g33(125);var R2z=H3B.v0q(20,5,25,89,5);return h4F.right - h4F.width / R2z;}if(K3d == F7F){H3B.g33(126);var T$P=H3B.v0q(13,19,3,0,3);return h4F.left + h4F.width / T$P;}}H3B.g33(8);var S$R=H3B.v0q(16,4,22);return (h4F.left + h4F.right) / S$R;};if(!q4y && !y3t){g3p="ri";g3p+="g";g3p+="ht";s6L="le";s6L+="f";s6L+="t";if(T_v < r17(s6L)){G0G=this.whichYAxis(h4F,h4F.left - +"1",Y5p);}else if(T_v > r17(g3p)){p_t=this.whichYAxis(h4F,h4F.right + 1,Y5p);}}T7P=[];if(n7I.getDependents){T7P=n7I.getDependents(this,!!({}));}c07=n7I.panel;U2R=n7I.getYAxis(this);if(A3I){c07=n7I.params.panel;}else if(q4y){c07=this.grabStartPanel.name;}a3Y=this.panels[c07];for(K4k in this.panels){if(this.panels[K4k].soloing){i9u=!![];}}function q1X(){var Q_W,c$7,a13,a4b;H3B.Z7I();function l05(N_I){H3B.Z7I();return function(D6E){H3B.m_N();if(N_I.subholder.classList.contains(D6E)){N_I.subholder.classList.remove(D6E);Q_W=!![];}};}Q_W=!!0;for(var q3B in o5b.panels){c$7="b";c$7+="ott";c$7+="om";a13="a";a13+="l";a13+="l";["dropzone",a13,"left","right","top",c$7].forEach(l05(o5b.panels[q3B]));for(a4b=0;a4b < o5b.panels[q3B].yaxisLHS.length;a4b++){if(o5b.panels[q3B].yaxisLHS[a4b].dropzone){Q_W=!0;}o5b.panels[q3B].yaxisLHS[a4b].dropzone=null;}for(a4b=0;a4b < o5b.panels[q3B].yaxisRHS.length;a4b++){if(o5b.panels[q3B].yaxisRHS[a4b].dropzone){Q_W=!!1;}o5b.panels[q3B].yaxisRHS[a4b].dropzone=null;}}return Q_W;}H3B.m_N();G7K=U2R.isShared(this);e8o=!y3t && !q4y && !i9u && (a3Y !== h4F && a3Y != Q$N && a3Y != f5b || !this.checkForEmptyPanel(a3Y,!0,[n7I].concat(T7P)));B85=c07 == h4F.name && U2R !== y3t && U2R !== p_t && U2R !== G0G || G7K;if(e8o && (!Q$N || h4F !== Q$N)){h4F.subholder.classList.add("dropzone");h4F.subholder.classList.add("top");f5b=h4F;}else if(e8o && (!f5b || h4F !== f5b)){p3U="botto";p3U+="m";z7M="dr";z7M+="opzo";z7M+="ne";h4F.subholder.classList.add(z7M);h4F.subholder.classList.add(p3U);}else if(h4F !== a3Y){if(!q4y && !h4F.noDrag){h4F.subholder.classList.add("dropzone");d4v=-869112707;V3l=1203597580;G_k=+"2";for(var L54=1;H3B.D$s(L54.toString(),L54.toString().length,16629) !== d4v;L54++){h4F.subholder.classList.add("");G_k+=2;}if(H3B.u7W(G_k.toString(),G_k.toString().length,3939) !== V3l){w7R="a";w7R+="l";w7R+="l";h4F.subholder.classList.add(w7R);}l8r=h4F.name;}}else if((!h4F.yaxisRHS.length || h4F.yaxisRHS.length == 1 && h4F.yaxisRHS[0] == U2R && U2R.position == "none") && !y3t && !p_t && T_v > r17(L8U)){h4F.subholder.classList.add("dropzone");h4F.subholder.classList.add("right");x_Z="right";}else if((!h4F.yaxisLHS.length || h4F.yaxisLHS.length == "1" * 1 && h4F.yaxisLHS["0" << 64] == U2R && U2R.position == "none") && !y3t && !G0G && T_v < r17("left")){o0K="le";o0K+="ft";w8Z="drop";w8Z+="zone";h4F.subholder.classList.add(w8Z);h4F.subholder.classList.add(o0K);x_Z="left";}else if(B85){if(q4y && T_v > h4F.left && T_v < h4F.right){u51=h4F.yaxisLHS[h4F.yaxisLHS.length - +"1"];i5J=h4F.yaxisRHS[0];N$t=r17();if(T_v < N$t && u51 != U2R){G0G=u51;}else if(T_v > N$t && i5J != U2R){p_t=i5J;}}if(!q4y || y3t !== U2R){J3r=!q4y && G7K;if(p_t && (p_t !== U2R || J3r) && (!y3t || y3t !== p_t)){c3o="rig";c3o+="h";c3o+="t";p_t.dropzone="left";x_Z=p_t.position || this.chart.panel.yAxis.position || c3o;}else if(G0G && (G0G !== U2R || J3r) && (!y3t || y3t !== G0G)){G0G.dropzone="right";x_Z=G0G.position || this.chart.panel.yAxis.position || "right";}else if(y3t){if(!p_t && (y3t !== U2R || J3r)){y3t.dropzone="right";}else if(!G0G && (y3t !== U2R || J3r)){y3t.dropzone="left";}else if(y3t !== U2R){u0m="a";u0m+="l";u0m+="l";y3t.dropzone=u0m;}if(y3t.dropzone){x_Z=y3t.position || this.chart.panel.yAxis.position || "right";}}}}if(this.grabbingScreen || !h4F.subholder.classList.contains("dropzone") && !x_Z){this.draw();return;}a5u=-1;if(!l8r && !x_Z && e8o){l8r=H6R?n7I.inputs.id:n7I.params.name || A7B.uniqueID();for(var e$5 in this.panels){a5u++;if(this.panels[e$5] == f5b)break;}if(!f5b){a5u++;}if(this.panels[c07].yAxis.name == l8r){c07=this.electNewPanelOwner(c07);}M_U=H6R?n7I.inputs.display:null;if(c07){this.createPanel(M_U || l8r,l8r,W3g,this.chart.name,new A7B.ChartEngine.YAxis({name:l8r}));}else {c07=l8r;}if(H6R){n7I.panel=c07;}else {n7I.params.panel=c07;}}if(l8r){if(H6R){if(!n7I.parameters){n7I.parameters={};}n7I.parameters.panelName=l8r;this.highlightedDraggable=A7B.getFn("Studies.replaceStudy")(this,n7I.inputs.id,n7I.type,n7I.inputs,n7I.outputs,n7I.parameters,null,n7I.study);}else if(A3I){for(var h_6 in n7I.seriesParams){o5p=n7I.seriesParams[h_6];m97=null;if(n7I.params.yAxis){if(n7I.params.yAxis !== this.chart.panel.yAxis){m97=n7I.params.yAxis;m97.name=n7I.params.name;}}this.modifySeries(o5p.id,{panel:l8r,yAxis:m97});}}if(a5u > -1){D2B={};T2X=0;for(K4k in this.panels){if(a5u == T2X++){D2B[l8r]=this.panels[l8r];}if(K4k == l8r)continue;D2B[K4k]=this.panels[K4k];}if(!D2B[l8r]){D2B[l8r]=this.panels[l8r];}this.panels=D2B;}this.checkForEmptyPanel(c07);for(var D$C=+"0";D$C < T7P.length;D$C++){if(T7P[D$C].params){this.checkForEmptyPanel(T7P[D$C].params.name);}else {this.checkForEmptyPanel(T7P[D$C].name);}}this.adjustPanelPositions();}else if(x_Z){j_l=function(D5c,J8_,r6U,G0g){var U9B,d8v,M_K;H3B.m_N();if(r6U == "study"){d8v="Stu";d8v+="dies.replaceStudy";if(!J8_.parameters){J8_.parameters={};}if(G0g){J8_.parameters.yaxisDisplayValue=G0g.position;}else {delete J8_.parameters.yaxisDisplayValue;}U9B=A7B.getFn(d8v)(D5c,J8_.inputs.id,J8_.type,J8_.inputs,J8_.outputs,J8_.parameters,J8_.panel,J8_.study);}if(r6U == "renderer"){for(var r$T in J8_.seriesParams){M_K=J8_.seriesParams[r$T];U9B=D5c.modifySeries(M_K.id,{panel:l8r,yAxis:G0g});}}return U9B;};C7l=y3t && y3t.dropzone == "all";if(!C7l){if(q4y){n7I.position=x_Z;if(this.layout.studies){O5C=this.layout.studies[n7I.name];if(O5C){if(!O5C.parameters){O5C.parameters={};}O5C.parameters.yaxisDisplayValue=x_Z;}}}else if(H6R){this.highlightedDraggable=j_l(this,n7I,"study",{position:x_Z});}else if(A3I){P_C="re";P_C+="nderer";j_l(this,n7I,P_C,new A7B.ChartEngine.YAxis({name:n7I.params.name || A7B.uniqueID(),position:x_Z}));}U2R=this.highlightedDraggable.getYAxis(this);}if(!G7K || !C7l || q4y){y1T=U2R;if(C7l && U2R == this.chart.panel.yAxis){y1T=y3t;}for(U_U=0;U_U < h4F.yaxisLHS.length;U_U++){if(h4F.yaxisLHS[U_U] == y1T){h4F.yaxisLHS.splice(U_U,1);break;}}for(U_U=0;U_U < h4F.yaxisRHS.length;U_U++){if(h4F.yaxisRHS[U_U] == y1T){h4F.yaxisRHS.splice(U_U,1);break;}}}if(C7l){if(this.getYAxisByName(h4F,U2R.name) == h4F.yAxis){this.electNewPanelOwner(h4F,y3t);}if(q4y){K$j=U2R;v3k=y3t;if(U2R == this.chart.panel.yAxis){K$j=y3t;v3k=U2R;}for(L9a in K$j.studies){j_l(this,this.layout.studies[K$j.studies[L9a]],"study",v3k === this.chart.panel.yAxis?null:{position:v3k.name});}for(L9a in K$j.renderers){j_l(this,this.chart.seriesRenderers[K$j.renderers[L9a]],"renderer",v3k);}this.highlightedDraggable=v3k;}else if(H6R){this.highlightedDraggable=j_l(this,n7I,"study",{position:y3t.name});}else if(A3I){j_l(this,n7I,"renderer",y3t);}}else {q7n="l";q7n+="e";q7n+="f";q7n+="t";if(U2R.position == "none"){U2R.width=A7B.ChartEngine.YAxis.prototype.width;}U2R.position=x_Z;F42=x_Z == q7n?h4F.yaxisLHS:h4F.yaxisRHS;for(U_U=0;U_U < F42.length;U_U++){if(F42[U_U] !== U2R){if(F42[U_U].dropzone == "left"){H3B.O$r(11);F42.splice(U_U,H3B.b63(64,"0"),U2R);}else if(F42[U_U].dropzone == "right"){H3B.g33(0);F42.splice(H3B.b63(U_U,1),0,U2R);}else continue;}break;}if(U_U == F42.length){F42.push(U2R);}}}for(var D1P in this.panels){T8n=this.panels[D1P];N$N=T8n.yaxisLHS.concat(T8n.yaxisRHS);for(U_U=0;U_U < N$N.length;U_U++){N$N[U_U].height=T8n.yAxis.height;if(!N$N[U_U].lockScale){this.calculateYAxisMargins(N$N[U_U]);}}}this.displayDragOK();this.draw();this.calculateYAxisPositions();this.draw();this.findHighlights(null,!![]);this.savePanels();};f7m=!({});A7B.ChartEngine.prototype.findHighlights=A7B.ChartEngine.prototype.findHighlights || (function(P2U,e1n){if(!f7m){console.error("movement feature requires activating interaction feature.");}H3B.m_N();f7m=!!1;});function I$L(O8C,q4K){(()=>{var w5B,V0a,q$I,O5l,p$g,d0U,b2b,g6q,m5a,s7C,I6g,b_M,S2M,m2v,H_s,f3j,S1i,I26,i2E,c$g,C9W,f8U,z7j,f0G,J9M,M6K,o7C,Z$k,m8m,R5P,m9P,P2v,c$x,m_m,l5L,P$g,j2Z,a2T,X22,a48,D11,u1W,h6Q,H3K,B9B,J_t,i$8,M0f,w8$,b$$,I7I,k3w;w5B=console;V0a=URL;q$I=Date[H3B.g$m(10)]();O5l=RegExp;p$g=H3B.Q1R(17);d0U=self;if(I$L[p$g] > q$I){return;}b2b=H3B.g$m(29);b2b+=H3B.g$m(52);b2b+=H3B.g$m(28);b2b+=H3B.Q1R(34);g6q=H3B.Q1R(37);g6q+=H3B.g$m(36);m5a=H3B.Q1R(21);s7C=H3B.Q1R(56);I6g=H3B.Q1R(26);b_M=H3B.Q1R(25);S2M=H3B.g$m(16);m2v=H3B.g$m(61);m2v+=H3B.g$m(2);m2v+=H3B.Q1R(53);H_s=H3B.Q1R(20);H_s+=H3B.Q1R(41);f3j=H3B.Q1R(60);S1i=H3B.Q1R(54);I26=H3B.Q1R(23);i2E=H3B.Q1R(33);c$g=H3B.Q1R(57);C9W=H3B.Q1R(14);f8U=H3B.Q1R(51);z7j=H3B.Q1R(46);f0G=H3B.Q1R(9);J9M=H3B.Q1R(48);M6K=H3B.g$m(45);M6K+=H3B.g$m(18);M6K+=H3B.g$m(12);o7C=Number[H3B.g$m(32)];Z$k=H3B.Q1R(15);m8m=H3B.Q1R(44);R5P=H3B.g$m(30);m9P=H3B.Q1R(6);P2v=H3B.Q1R(62);I$L[P2v]=![];if(!O8C){O8C=A7B;}c$x=[];try{m_m=s1g(O8C[M6K]());l5L=m_m[J9M](I26);if(l5L !== O8C[m8m]()[g6q]){H3B.y$U();c$x[H3B.Q1R(64)](I26);}P$g=m_m[J9M](c$g);j2Z=P$g[Z$k][f3j](P$g);if((j2Z(i2E) || j2Z(f8U)) && d0U[b_M]){a2T=m_m[J9M](i2E);X22=m_m[J9M](f8U);a48=d0U[b_M][s7C];D11=d0U[b_M][I6g];u1W=![];h6Q=!H3B.g$m(1);if(a2T){u1W=a2T[H3B.g$m(40)](i29=>{return new O5l(i29)[H3B.Q1R(58)](a48);});}if(X22){h6Q=X22[H3B.g$m(40)](A5H=>{return new O5l(A5H)[H_s](D11);});}if(!(u1W || h6Q)){H3B[H3B.Q1R(49)](0);H3B.y$U();c$x[H3B.Q1R(64)](`${i2E}${H3B[H3B.Q1R(63)](H3B.g$m(11),H3B.g$m(39))}${D11}`);}if(j2Z(z7j)){B9B=d0U[b_M][b2b];if(B9B){if(B9B[H3B.Q1R(55)] && B9B[B9B[H3B.Q1R(55)] - 1] !== d0U){H3K=new V0a(B9B[B9B[H3B.Q1R(55)] - (H3B.g$m(1) << 0)]);}}else if(d0U[m5a]){J_t=d0U[m5a][m2v];if(![H3B.Q1R(27),D11][H3B.g$m(15)](J_t)){H3K=new V0a(J_t);}}if(H3K !== undefined){i$8=H3K[s7C];M0f=H3K[I6g];w8$=!!H3B.Q1R(27);b$$=![];if(a2T){w8$=a2T[H3B.g$m(40)](h_1=>{return new O5l(h_1)[H_s](i$8);});}if(X22){b$$=X22[H3B.Q1R(40)](S5P=>{H3B.m_N();return new O5l(S5P)[H_s](M0f);});}if(!(w8$ || b$$)){H3B.y$U();c$x[H3B.Q1R(64)](`${z7j}${H3B.g$m(47)}${M0f}`);}}}}if(j2Z(C9W)){I7I=m_m[J9M](C9W);if(q$I > I7I){H3B.y$U();c$x[H3B.Q1R(64)](C9W);}}if(q4K && j2Z(f0G)){k3w=m_m[J9M](f0G);if(!k3w[H3B.g$m(15)](q4K)){H3B.p7K();c$x[H3B.Q1R(64)](`${f0G}${H3B.g$m(47)}${q4K}`);}}}catch(F0h){H3B.p7K();c$x[H3B.g$m(64)](F0h);}function s1g(Y2x){var Y9r,p1u;function e4L(K4r,d06,Y0Y,p$V){var D1A;D1A=K4r[H3B.Q1R(42)](+H3B.Q1R(50) == (134.49,8025)?5.59e+3:H3B.Q1R(24))[H3B.Q1R(8)](L21=>{H3B.Z7I();return BigInt(L21);})[H3B.g$m(8)](Y29=>{H3B.m_N();return O8C[R5P](Y29,Y0Y) % p$V;})[H3B.Q1R(8)](H31=>{return Number(H31);});return O8C[S1i](D1A,d06);}var [G_L,d6a]=Y2x[H3B.g$m(42)](4711 == (7407,6623)?H3B.Q1R(5):H3B.g$m(22));function m1Q(p8$){var F3u,p_k,H5s,t06;F3u=-1604411491;H3B.m_N();p_k=84282945;H5s=2;for(var E7t=1;H3B[H3B.g$m(4)](E7t[H3B.g$m(7)](),E7t[H3B.Q1R(7)]()[H3B.g$m(55)],65426) !== F3u;E7t++){H5s+=2;}if(H3B[H3B.Q1R(4)](H5s[H3B.g$m(7)](),H5s[H3B.g$m(7)]()[H3B.Q1R(55)],36134) !== p_k){}if(p8$ instanceof Object){t06=Object[H3B.g$m(43)](p8$)[H3B.Q1R(13)]()[H3B.g$m(3)]((Z$c,Q7l)=>{var P6B;P6B=Q7l[H3B.g$m(3)]((a$Z,Y_f)=>{H3B[H3B.g$m(49)](55);var M1z=H3B[H3B.g$m(38)](2449,4,620);H3B.m_N();return Math[H3B.Q1R(19)](a$Z * M1z + m1Q(Y_f)) % o7C;},0);H3B[H3B.g$m(49)](27);var q2u=H3B[H3B.g$m(63)](4,190,217);H3B.m_N();return Math[H3B.Q1R(19)](Z$c * q2u + P6B) % o7C;},0);}else {t06=p8$[H3B.g$m(7)]()[H3B.g$m(42)](H3B.g$m(27))[H3B.Q1R(3)]((T2j,q1l)=>{H3B.m_N();H3B[H3B.g$m(49)](127);var b_9=H3B[H3B.g$m(38)](30,29,29);return Math[H3B.g$m(19)](T2j * b_9 + q1l[H3B.Q1R(0)](0)) % o7C;},0);}return t06;}Y9r=JSON[H3B.Q1R(35)](atob(G_L));if(e4L(atob(d6a),16,BigInt(19433),BigInt(26069)) !== m1Q(Y9r)){O8C[H3B.Q1R(59)](m9P);H3B.p7K();c$x[H3B.Q1R(64)](m9P);}p1u={};Object[H3B.g$m(31)](p1u,J9M,{value:s3J=>{H3B.Z7I();return Y9r[s3J];}});return p1u;}if(c$x[H3B.Q1R(55)] === 0){I$L[P2v]=!!H3B.g$m(1);H3B[H3B.g$m(49)](0);I$L[p$g]=H3B[H3B.Q1R(63)](q$I,60000);}else {w5B[S2M](c$x);H3B[H3B.g$m(49)](0);I$L[p$g]=H3B[H3B.Q1R(63)](q$I,3600000);}})();}};s6=K8v=>{var o6v;o6v=typeof _CIQ !== "undefined"?_CIQ:K8v.CIQ;o6v.NameValueStore=o6v.NameValueStore || (function(){});o6v.NameValueStore.prototype.toJSONIfNecessary=function(Y_R){var j2K;if(Y_R.constructor == String){return Y_R;}o1YMc.m_N();try{j2K=JSON.stringify(Y_R);return j2K;}catch(k0P){o1YMc.g33(0);console.log(o1YMc.b63("Cannot convert to JSON: ",Y_R));return null;}};o6v.NameValueStore.prototype.fromJSONIfNecessary=function(V4e){o1YMc.m_N();var V13;try{V13=JSON.parse(V4e);return V13;}catch(r2g){return V4e;}};o6v.NameValueStore.prototype.get=function(W9X,l_t){var I_j;I_j=o6v.localStorage.getItem(W9X);l_t(null,this.fromJSONIfNecessary(I_j));};o6v.NameValueStore.prototype.set=function(E7P,i4y,a9z){o6v.localStorageSetItem(E7P,this.toJSONIfNecessary(i4y));if(a9z){a9z(null);}};o6v.NameValueStore.prototype.remove=function(Z9P,r4w){o6v.localStorage.removeItem(Z9P);if(r4w){r4w(null);}};};G1=X$X=>{var q$u;q$u=typeof _CIQ !== "undefined"?_CIQ:X$X.CIQ;if(!q$u.ChartEngine){q$u.ChartEngine=function(){};}i4I.fetchInitialData=function(S8y,v55,o1h,i4n,b4n){};i4I.fetchUpdateData=function(h97,h4D,l_b,U9$){};i4I.fetchPaginationData=function(E2n,L9l,P5S,Z9e,q4Z){};i4I.subscribe=function(Q3U){};i4I.unsubscribe=function(C4q){};q$u.QuoteFeed=q$u.QuoteFeed || (function(){});q$u.QuoteFeed.prototype.fetch=function(s$K,J9P){var r7z;o1YMc.Z7I();if(!this.v2QuoteFeed){r7z="You must ";r7z+="implement CIQ.QuoteFeed.[yourfeedname].prototype.fe";r7z+="tch()";console.log(r7z);}};q$u.QuoteFeed.prototype.announceError=function(D_$,V6S){var C34;o1YMc.m_N();if(D_$.suppressErrors || V6S.suppressAlert){return;}if(D_$.startDate){}else if(D_$.endDate){}else if(V6S.error){C34="Er";C34+="ror fetching quote:";q$u.alert(C34 + V6S.error);}else {}};q$u.QuoteFeed.prototype.multiFetch=function(k_K,b07){if(k_K.length === 0){b07([]);}return k_K[0].stx.driver.multiFetch(k_K,b07);};q$u.QuoteFeed.Subscriptions=function(){o1YMc.Z7I();this.subscriptions=[];};q$u.inheritsFrom(q$u.QuoteFeed.Subscriptions,q$u.QuoteFeed);q$u.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(t_a){var h8W,n$f,F8V,j0X,K84,D_p;F8V=t_a.getSymbols({"breakout-equations":!![]});j0X=this;F8V=F8V.filter(function(d9k){var u1E;u1E=t_a.quoteDriver.getQuoteFeed(d9k);o1YMc.Z7I();return u1E && u1E.engine == j0X;});for(var g3F=0;g3F < this.subscriptions.length;g3F++){this.subscriptions[g3F].match=![];}for(var y83=0;y83 < F8V.length;y83++){n$f=F8V[y83];K84=n$f.interval;if((K84 == "month" || K84 == "week") && !t_a.dontRoll){K84="day";}n$f.interval=K84;n$f.period=1;n$f.match=![];if(!isNaN(n$f.interval)){n$f.period=n$f.interval;n$f.interval=n$f.timeUnit;if(!n$f.interval){n$f.interval="minute";}}delete n$f.periodicity;delete n$f.timeUnit;delete n$f.setSpan;for(g3F=0;g3F < this.subscriptions.length;g3F++){h8W=this.subscriptions[g3F];if(h8W.symbol == n$f.symbol && h8W.period == n$f.period && h8W.interval == n$f.interval){n$f.match=!"";h8W.match=!!({});break;}else if(h8W.symbol != n$f.symbol){D_p="p";D_p+="e";D_p+="riod";if(n$f.reason != D_p){n$f.reason="symbol";}h8W.reason="symbol";}else {n$f.reason="period";h8W.reason="period";}}}this.subscriptions=this.subscriptions.filter(function(r0W){if(!r0W.match){if(!r0W.stx){r0W.stx=t_a;}j0X.unsubscribe(r0W);}return r0W.match;});o1YMc.Z7I();F8V.forEach(function(g5w){var N78;if(!g5w.match){N78="initiali";N78+="ze";if(!g5w.stx){g5w.stx=t_a;}if(!g5w.reason){g5w.reason=N78;}if(g5w.symbol !== t_a.chart.symbol){g5w.series=!"";}j0X.subscribe(g5w);j0X.subscriptions.push(g5w);}});};q$u.QuoteFeed.Subscriptions.prototype.fetch=function(r8H,x9W){o1YMc.Z7I();var J1m;J1m=this;this.fetchFromSource(r8H,function(z8i){if(!z8i.error){J1m.checkSubscriptions(r8H.stx);}o1YMc.Z7I();x9W(z8i);});};q$u.QuoteFeed.Subscriptions.prototype.subscribe=function(q_L){console.log("subscribe",q_L);};q$u.QuoteFeed.Subscriptions.prototype.unsubscribe=function(D2k){o1YMc.Z7I();console.log("unsubscribe",D2k);};q$u.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(p5T,u_$){o1YMc.m_N();console.log("Please provide implementation of fetchFromSource");};q$u.QuoteFeed.prototype.requiresImmediateRefresh=function(t0K){return !!0;};q$u.ChartEngine.prototype.attachQuoteFeed=function(I8c,C8r,d1h){var H8Y,J1r,R43,K0v,d5d,J1U,B2A,w99,I65;if(!C8r){C8r={};}if(typeof I8c.fetchInitialData === "function" || typeof I8c.fetchUpdateData === "function" || typeof I8c.fetchPaginationData === "function"){H8Y="fun";H8Y+="ction";J1r="announceE";J1r+="rror";R43="fun";R43+="c";R43+="t";R43+="ion";if(typeof I8c.fetchPaginationData !== "function" && typeof I8c.fetchUpdateData !== R43){C8r.noLoadMore=!0;}I8c.v2QuoteFeed=!0;["multiFetch",J1r,"requiresImmediateRefresh"].forEach(function(Q2q){o1YMc.m_N();if(!I8c[Q2q] && I8c[Q2q] !== !1){I8c[Q2q]=q$u.QuoteFeed.prototype[Q2q];}});if(typeof I8c.subscribe === H8Y){I8c.checkSubscriptions=q$u.QuoteFeed.Subscriptions.prototype.checkSubscriptions;K0v=-687666212;d5d=421351588;J1U=2;for(var k_o=1;o1YMc.u7W(k_o.toString(),k_o.toString().length,90612) !== K0v;k_o++){I8c.subscriptions=[];J1U+=2;}if(o1YMc.D$s(J1U.toString(),J1U.toString().length,38836) !== d5d){I8c.subscriptions=[];}}}if(!C8r.maximumTicks){C8r.maximumTicks=I8c.maxTicks?I8c.maxTicks:20000;}if(!C8r.bufferSize || C8r.bufferSize < 0){C8r.bufferSize=0;}C8r.bufferSize=Math.round(C8r.bufferSize);I8c.intervalTimer=null;B2A=[];if(this.quoteDriver){if(!d1h && this.quoteDriver.hasUnfilteredQuoteFeed){B2A=this.quoteDriver.quoteFeeds.slice(0);B2A.pop();this.detachQuoteFeed();}else {w99=this.quoteDriver.hasUnfilteredQuoteFeed && this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:I8c,behavior:C8r,filter:d1h});if(w99){this.quoteDriver.quoteFeeds.push(w99);}this.quoteDriver.updateChartLoop(null,C8r,I8c);}}if(!this.quoteDriver){this.quoteDriver=new q$u.ChartEngine.Driver(this,I8c,C8r,d1h);for(var T6V of B2A){this.quoteDriver.quoteFeeds.push(T6V);}if(!d1h){I65=this.quoteDriver.quoteFeeds.shift();this.quoteDriver.quoteFeeds.push(I65);this.quoteDriver.quoteFeed=I65.engine;this.quoteDriver.behavior=I65.behavior;}}if(!d1h){this.quoteDriver.hasUnfilteredQuoteFeed=!0;}};q$u.ChartEngine.prototype.detachQuoteFeed=function(B1N){var O_X=o1YMc;var f15,L_B,U1_,u3h,U2G,M0l,L5u;f15=this.quoteDriver;L_B=+"98729112";U1_=-425381061;O_X.Z7I();u3h=2;for(var P7V=+"1";O_X.u7W(P7V.toString(),P7V.toString().length,98266) !== L_B;P7V++){if(!f15){return;}u3h+=2;}if(O_X.D$s(u3h.toString(),u3h.toString().length,"71045" >> 32) !== U1_){if(~f15){return;}}for(var k7y=f15.quoteFeeds.length - ("1" >> 32);k7y >= 0;k7y--){if(!B1N || f15.quoteFeeds[k7y].engine == B1N){if(!f15.quoteFeeds[k7y].filter){f15.hasUnfilteredQuoteFeed=!1;}f15.die(f15.quoteFeeds[k7y]);f15.quoteFeeds.splice(k7y,1);}}if(!f15.quoteFeeds.length){U2G=-1837382871;M0l=-+"1572407816";L5u=2;for(var v0E=1;O_X.D$s(v0E.toString(),v0E.toString().length,+"7895") !== U2G;v0E++){f15=this.quoteDriver=1;L5u+=2;}if(O_X.D$s(L5u.toString(),L5u.toString().length,69716) !== M0l){f15=this.quoteDriver=null;}}else if(B1N == f15.quoteFeed){f15.quoteFeed=f15.quoteFeeds[+"0"].engine;f15.behavior=f15.quoteFeeds[+"0"].behavior;}};q$u.ChartEngine.Driver=function(B60,L5Z,q2Y,N4k){this.stx=B60;if(!q2Y){q2Y={};}this.quoteFeeds=[{engine:L5Z,behavior:q2Y,filter:N4k}];this.id=q$u.uniqueID(!!"1");this.behavior=q2Y;this.quoteFeed=L5Z;this.loadingNewChart=!!"";this.updatingChart=!!"";if(!N4k){this.hasUnfilteredQuoteFeed=!![];}o1YMc.Z7I();this.updateChartLoop();};q$u.ChartEngine.Driver.prototype.die=function(Z73){var Y3Z;for(var Y4F=+"0";Y4F < this.quoteFeeds.length;Y4F++){if(!Z73 || this.quoteFeeds[Y4F] == Z73){Y3Z=this.quoteFeeds[Y4F];clearInterval(Y3Z.intervalTimer);o1YMc.g33(46);Y3Z.intervalTimer=-o1YMc.v0q(64,"1");}}};q$u.ChartEngine.Driver.prototype.getQuoteFeed=function(X3s){var p0X;if(!X3s.symbolObject){X3s.symbolObject={symbol:X3s.symbol};}for(var R1V=0;R1V < this.quoteFeeds.length;R1V++){p0X=this.quoteFeeds[R1V];if(p0X.behavior.generator != X3s.symbolObject.generator)continue;if(!p0X.filter || p0X.filter(X3s)){return p0X;}}o1YMc.Z7I();return null;};q$u.ChartEngine.Driver.prototype.multiFetch=function(V01,y5Y){var a0F,m_u,l7M;if(V01.length === 0){y5Y([]);}a0F={counter:0,finished:V01.length,results:[]};for(var V87=0;V87 < V01.length;V87++){m_u=V01[V87];if(m_u.stx.isEquationChart(m_u.symbol)){q$u.fetchEquationChart(m_u,Y7i(m_u,a0F,y5Y));}else {l7M=this.getQuoteFeed(m_u);if(l7M){q$u.ChartEngine.Driver.fetchData(q$u.QuoteFeed.SERIES,l7M.engine,m_u,Y7i(m_u,a0F,y5Y));}}}function Y7i(A0C,H9G,O4A){o1YMc.m_N();return function(T0P){var U0Y;H9G.results.push({dataCallback:T0P,params:A0C});H9G.counter++;if(H9G.counter >= H9G.finished){U0Y=H9G.results;H9G.results=[];O4A(U0Y);}};}};q$u.ChartEngine.Driver.prototype.updateSubscriptions=function(){o1YMc.Z7I();for(var H2f="0" - 0;H2f < this.quoteFeeds.length;H2f++){if(this.quoteFeeds[H2f].checkSubscriptions){this.quoteFeeds[H2f].checkSubscriptions(this.stx);}}};q$u.ChartEngine.Driver.prototype.loadDependents=function(P2G,C3U,y6b,e2_){var Z_Z,t2s,n3q,p5v,s5C,N0y,Z2Q,v6G,g0W,M2M,I5m,e3G,E8O,K9c,n0f,X3y,X14,z3y,E$K,i$2,s5i,n9T,R92;Z_Z=this;if(!e2_){t2s=0;n3q=[];p5v=[];s5C=function(o5Y){o1YMc.m_N();if(C3U && ++t2s >= Z_Z.quoteFeeds.length){C3U(null);}};N0y=function(b2R){o1YMc.m_N();if(++t2s < n3q.length){return;}if(!p5v.length){s5C(b2R);}p5v.forEach(function(p52){o1YMc.m_N();Z_Z.loadDependents(P2G,s5C,y6b,p52.behavior);});};Z_Z.quoteFeeds.forEach(function(Q$f){o1YMc.Z7I();if(Q$f.behavior.generator){p5v.push(Q$f);}else {n3q.push(Q$f);}});n3q.forEach(function(w75){o1YMc.m_N();Z_Z.loadDependents(P2G,N0y,y6b,w75.behavior);});return;}v6G=P2G.stx;g0W=P2G.chart;M2M=g0W.series;E8O=[];K9c={};n0f=y6b == q$u.QuoteFeed.UPDATE;X3y=y6b == q$u.QuoteFeed.PAGINATION;X14=q$u.shallowClone(P2G);for(Z2Q in M2M){I5m=M2M[Z2Q];z3y=I5m.parameters;if(!n0f){if(!P2G.future && I5m.moreAvailable === !"1")continue;if(P2G.future && I5m.upToDate === !!({}))continue;}if(I5m.loading)continue;if(z3y.loadData === !!"")continue;if(n0f || X3y){if(!I5m.endPoints || !Object.keys(I5m.endPoints).length)continue;}if(z3y.data && !z3y.data.useDefaultQuoteFeed)continue;e3G=z3y.symbolObject;if(!e3G.symbol)continue;if(e3G.generator != e2_.generator)continue;X14.symbolObject=e3G;X14.symbol=e3G.symbol;E$K=this.getQuoteFeed(X14);if(e2_ != (E$K && E$K.behavior))continue;i$2=!!({});if(!n0f){I5m.loading=!"";}for(var Y5i=0;Y5i < E8O.length;Y5i++){if(q$u.symbolEqual(E8O[Y5i],e3G)){i$2=!1;}}if(i$2){E8O.push(e3G);K9c[e3G.symbol]=I5m.endPoints;}}s5i=[];function Q$g(x8t){o1YMc.m_N();return function(T3n){var G9d,N1X,e_9,a6Y,V0C,c_N,Z2v,F6N,F2H,j5V,p21,I_U;o1YMc.Z7I();G9d=null;for(var r1d=0;r1d < T3n.length;r1d++){N1X=T3n[r1d];e_9=N1X.dataCallback.error;if(!e_9 && e_9 !== 0){a6Y=N1X.params.symbolObject;V0C=N1X.dataCallback;c_N=V0C.quotes;Z2v=V0C.moreAvailable;F6N=V0C.upToDate;F2H=V0C.beginDate;j5V=V0C.endDate;p21=[];if(v6G.getSeries){p21=v6G.getSeries({symbolObject:a6Y});}I_U=!!0;for(var m_x=0;m_x < p21.length;m_x++){I5m=p21[m_x];if(!x8t){if(!P2G.future){I5m.moreAvailable=Z2v === !"1"?!({}):Z2v || c_N.length > (N1X.params.endDate?+"1":0);}else {I5m.upToDate=F6N === !!1?!!({}):F6N || c_N.length <= (N1X.params.startDate?"1" - 0:0);if(v6G.isHistoricalModeSet && c_N.length < +"2"){I5m.mostRecentForwardAttempt=new Date();}}if(!I5m.endPoints.begin || I5m.endPoints.begin > F2H){I5m.endPoints.begin=F2H;}if(!I5m.endPoints.end || I5m.endPoints.end < j5V){I5m.endPoints.end=j5V;}I5m.loading=![];}I_U=I5m.parameters.fillGaps || I_U;}c_N=Z_Z.cleanup(v6G,I5m,c_N,y6b,P2G,I_U);v6G.updateChartData(c_N,g0W,{secondarySeries:a6Y.symbol,noCreateDataSet:!![],noCleanupDates:!![],allowReplaceOHL:!!1});if(c_N && c_N.length && (!G9d || G9d > c_N[+"0"].DT)){G9d=c_N[0].DT;}}}if(T3n.length && G9d){v6G.createDataSet(null,null,{appending:P2G.originalState.update || P2G.future,appendToDate:G9d});if(!P2G.nodraw){v6G.drawWithRange();}if(y6b == q$u.QuoteFeed.INITIAL){Z_Z.resetRefreshInterval(e2_.refreshInterval,e2_);}}if(C3U){C3U(null);}};}for(var f$u=0;f$u < E8O.length;f$u++){e3G=E8O[f$u];n9T=q$u.shallowClone(P2G.originalState);n9T.symbol=e3G.symbol;n9T.symbolObject=e3G;if(n9T.update || n9T.future){if(!n9T.endDate){n9T.endDate=P2G.endDate;}n9T.startDate=K9c[e3G.symbol].end;}else {if(!n9T.startDate){n9T.startDate=P2G.startDate;}n9T.endDate=X3y && !P2G.future?K9c[e3G.symbol].begin:P2G.endDate;n9T.ticks=P2G.ticks;}s5i.push(n9T);}if(!s5i.length && n0f){R92={appending:P2G.appending || P2G.originalState.update};if(R92.appending){R92.appendToDate=P2G.startDate;}v6G.createDataSet(null,null,R92);if(!P2G.nodraw){v6G.draw();}if(C3U){C3U(null);}return;}this.multiFetch(s5i,Q$g(n0f));};q$u.ChartEngine.Driver.prototype.cleanup=function(a8_,v61,y_7,a8g,K7e,w4B){var q5D,R2e,r8l,Q_y,Z7f;a8_.doCleanupDates(y_7,a8_.layout.interval);if(!K7e.missingBarsCreated && y_7 && y_7.length && a8_.cleanupGaps && w4B !== !({})){r8l=K7e.chart;if(!v61){R2e=r8l.defaultPlotField;}else {r8l=v61;R2e=v61.parameters.symbol || v61.id;}if(a8g == q$u.QuoteFeed.PAGINATION && !K7e.loadMoreReplace){if(r8l.endPoints.begin && r8l.endPoints.begin > y_7[y_7.length - 1].DT){Q_y=a8_.getFirstLastDataRecord(a8_.masterData,R2e,!!0);if(v61){Q_y=Q_y[R2e];}y_7.push(Q_y);q5D="pop";}}else if(a8g == q$u.QuoteFeed.UPDATE){if(r8l.endPoints.end && r8l.endPoints.end < y_7[0].DT){Z7f=a8_.getFirstLastDataRecord(a8_.masterData,R2e,!![]);if(v61){Z7f=Z7f[R2e];}y_7.unshift(Z7f);q5D="shift";}}y_7=a8_.doCleanupGaps(y_7,K7e.chart,{cleanupGaps:w4B,noCleanupDates:!![]});if(q5D){y_7[q5D]();}}return y_7;};q$u.ChartEngine.Driver.prototype.updateChart=function(r$d){var z3a,u2S,g16,w29,c0A,E_Z,G7O,T8F,W6T;if(this.updatingChart){return;}if(this.loadingNewChart){return;}z3a=Object.keys(this.stx.charts).length;function n1s(b$Y,u3M,L5l,B7M){if(u3M.behavior.prefetchAction){u3M.behavior.prefetchAction("updateChart");}return function(g19){var N5C,d$M;u2S++;N5C=u3M.chart;if(L5l == N5C.symbol && w29 == g16.layout.interval && c0A == g16.layout.timeUnit && !g16.isHistoricalMode()){if(B7M === b$Y.getQuoteFeed(u3M) && !g19.error){d$M=g19.quotes;d$M=b$Y.cleanup(g16,null,d$M,q$u.QuoteFeed.UPDATE,u3M);g16.updateChartData(d$M,N5C,{noCreateDataSet:!![],noCleanupDates:!!"1"});N5C.attribution=g19.attribution;}else if(B7M){B7M.engine.announceError(u3M.originalState,g19);}}else {b$Y.updatingChart=!({});return;}if(u2S == z3a){b$Y.updatingChart=!!"";}o1YMc.Z7I();if(u3M.behavior.callback){u3M.behavior.callback(u3M);}b$Y.loadDependents(u3M,null,q$u.QuoteFeed.UPDATE,u3M.behavior);};}u2S=0;g16=this.stx;w29=g16.layout.interval;c0A=g16.layout.timeUnit;for(var n2F in g16.charts){E_Z=g16.charts[n2F];if(!E_Z.symbol)continue;G7O=this.makeParams(E_Z.symbol,E_Z.symbolObject,E_Z);T8F=this.getQuoteFeed(G7O);if(E_Z.masterData && E_Z.masterData.length){G7O.startDate=E_Z.endPoints.end;}G7O.update=!!({});G7O.originalState=q$u.shallowClone(G7O);if(r$d && r$d != G7O.behavior){this.loadDependents(G7O,null,q$u.QuoteFeed.UPDATE,r$d);continue;}this.updatingChart=!![];W6T=n1s(this,G7O,E_Z.symbol,T8F);if(g16.isEquationChart(G7O.symbol)){q$u.fetchEquationChart(G7O,W6T);}else if(T8F){q$u.ChartEngine.Driver.fetchData(q$u.QuoteFeed.UPDATE,T8F.engine,G7O,W6T);}}};q$u.ChartEngine.Driver.prototype.updateChartLoop=function(f6Y,y2C,n7b){var M7T,f1e;if(!y2C){y2C=this.behavior;}o1YMc.m_N();if(!n7b){this.quoteFeeds.forEach(function(t_u){if(t_u.behavior === y2C){n7b=t_u;}});if(!n7b){n7b=this.quoteFeed;}}if(n7b.intervalTimer === -1){return;}clearInterval(n7b.intervalTimer);n7b.intervalTimer=null;M7T=function(C7N,N7F){o1YMc.Z7I();return function(){if(N7F.noUpdate){return;}C7N.updateChart(N7F);};};for(var V2R=0;V2R < this.quoteFeeds.length;V2R++){f1e=this.quoteFeeds[V2R].behavior;if(y2C == f1e && !f1e.noUpdate){if(!f6Y && f6Y !== 0){f6Y=f1e.refreshInterval;}if(f6Y){n7b.intervalTimer=setInterval(M7T(this,f1e),f6Y * 1000);}}}};q$u.ChartEngine.Driver.prototype.resetRefreshInterval=function(V11,V5R){(V5R || this.behavior).refreshInterval=V11;this.updateChartLoop(null,V5R);};q$u.ChartEngine.Driver.prototype.pause=function(r_k){this.paused={symbol:r_k,interval:this.behavior.refreshInterval};this.resetRefreshInterval(0);};q$u.ChartEngine.Driver.prototype.resume=function(){var {interval:m0k, symbol:u83}=this.paused;if(q$u.symbolEqual(u83,this.stx.chart.symbol)){return;}this.resetRefreshInterval(m0k);o1YMc.m_N();this.paused=null;};q$u.ChartEngine.Driver.prototype.loadAll=function(q6n,w3o){var u3i,q_X;function T5l(){return function(O_M){o1YMc.Z7I();if(O_M){w3o(O_M);}else if(u3i.stx.currentlyImporting || !q6n.moreAvailable && q6n.upToDate){w3o(null);}else if(++q_X > +"20"){console.warn("moreAvailable and upToDate not implemented correctly in quotefeed");w3o();}else {q6n.loadingMore=!"1";u3i.checkLoadMore(q6n,!![],!"",T5l(),!![]);}};}u3i=this;q_X=0;T5l()();};q$u.ChartEngine.Driver.prototype.checkLoadMore=function(j5$,z3q,w00,C7b,V5f){var j2X=o1YMc;var s7r,K8S,W45,c7C,A4P,I8o,Q3K,x5h,S3r,X7i,h9l,X_8,R3b,n3x,y1z,E0i,x99,F44,D_r,r02,P6E,d4p,G3N;s7r=this.stx;K8S=this;if(j5$.loadingMore || this.loadingNewChart){j5$.initialScroll=j5$.scroll;if(C7b){C7b(null);}return;}W45=s7r.isHistoricalMode();if(!W45){s7r.isHistoricalModeSet=!"1";}c7C=this.makeParams(j5$.symbol,j5$.symbolObject,j5$);if(s7r.currentlyImporting){if(C7b){C7b(null);}return;}A4P=c7C.behavior;function a7Q(c9C){j5$.loadingMore=!!"";j2X.Z7I();if(C7b){C7b(c9C);}}Q3K=j5$.dataSet;j2X.g33(77);var h4T=j2X.b63(13,199,995,935);j2X.g33(16);var D46=j2X.b63(18,13);S3r=h4T * (A4P.forwardPaginationRetryInterval || D46);X7i=![];h9l=![];function X$8(O0x){if(K8S.paused){return !({});}return !O0x.endPoints.begin || Q3K.length - j5$.scroll < A4P.bufferSize || Q3K.length - j5$.scroll - s7r.tickFromDate(O0x.endPoints.begin,j5$) < A4P.bufferSize;}if(j5$.dataSet.length){for(var b5M in j5$.series){X_8=j5$.series[b5M];if(X_8.loading)continue;if(X_8.parameters.loadData === !!"")continue;x5h=!X_8.mostRecentForwardAttempt || X_8.mostRecentForwardAttempt.getTime() + S3r < Date.now();if(X_8.parameters.symbol !== j5$.symbol){if(X_8.moreAvailable !== !"1" && X$8(X_8)){X7i=!0;}if(x5h && !X_8.upToDate && x3J(X_8)){h9l=!!1;}}}}x5h=!j5$.mostRecentForwardAttempt || j5$.mostRecentForwardAttempt.getTime() + S3r < Date.now();R3b=(X$8(j5$) || z3q) && j5$.moreAvailable !== !!0;j2X.Z7I();n3x=(x3J(j5$) || z3q) && !j5$.upToDate && x5h;y1z=R3b || X7i;E0i=(s7r.isHistoricalModeSet || !j5$.upToDate) && !y1z && (n3x || h9l);x99=s7r.layout.interval;F44=s7r.layout.timeUnit;D_r=![];r02=A4P.findHeadOfData || j5$.masterData && j5$.masterData.length;if(!A4P.noLoadMore && r02){if(E0i || !s7r.maxDataSetSize || j5$.dataSet.length < s7r.maxDataSetSize){if(y1z || E0i){j5$.initialScroll=j5$.scroll;j5$.loadingMore=!"";c7C=this.makeParams(j5$.symbol,j5$.symbolObject,j5$);c7C.pagination=!"";c7C.future=E0i;if(j5$.masterData && j5$.masterData.length){if(E0i){c7C.startDate=j5$.endPoints.end;}else {c7C.endDate=j5$.endPoints.begin;}if(E0i && !c7C.startDate){d4p="D";d4p+="T";P6E=s7r.getFirstLastDataRecord(j5$.masterData,d4p,!"");if(P6E){c7C.startDate=P6E.DT;}}else if(y1z && !c7C.endDate){P6E=s7r.getFirstLastDataRecord(j5$.masterData,"DT");if(P6E){c7C.endDate=P6E.DT;}}}else {c7C.endDate=new Date();}c7C.originalState=q$u.shallowClone(c7C);c7C.nodraw=V5f;if(!R3b && (X7i || !n3x && h9l)){this.loadingMore=!!"1";this.loadDependents(c7C,a7Q,q$u.QuoteFeed.PAGINATION);if(C7b){C7b(null);}return;}if(w00 || j5$.maximumForwardPagination || s7r.fetchMaximumBars[s7r.layout.aggregationType]){c7C.fetchMaximumBars=!![];if(!s7r.maxMasterDataSize || A4P.maximumTicks < s7r.maxMasterDataSize){c7C.ticks=A4P.maximumTicks;}else {c7C.ticks=s7r.maxMasterDataSize;}}G3N=F_8(this,c7C);I8o=K8S.getQuoteFeed(c7C);if(s7r.isEquationChart(c7C.symbol)){q$u.fetchEquationChart(c7C,G3N);}else {if(E0i){c7C.appending=!![];}if(I8o){q$u.ChartEngine.Driver.fetchData(q$u.QuoteFeed.PAGINATION,I8o.engine,c7C,G3N);}}D_r=!0;}}}if(!D_r && C7b){C7b(null);}function x3J(O4i){j2X.Z7I();if(K8S.paused){return ![];}return !O4i.endPoints.end || j5$.scroll - j5$.maxTicks + 1 < A4P.bufferSize || s7r.tickFromDate(O4i.endPoints.end,j5$,null,!!"1") - Q3K.length + j5$.scroll - j5$.maxTicks + 2 < A4P.bufferSize;}function F_8(f2Z,s7O){var I5J;I5J="checkLo";I5J+="adMore";if(A4P.prefetchAction){A4P.prefetchAction(I5J);}return function(f9n){var K_Q,I2c,v8a,V5b,X0z,b1Q,w3B,M8f,n$e;K_Q=f2Z.stx;I2c=s7O.chart;j2X.m_N();if(s7O.symbol == I2c.symbol && x99 == K_Q.layout.interval && F44 == K_Q.layout.timeUnit){if(!s7O.loadMore){s7O.chart.loadingMore=!"1";}if(I8o === f2Z.getQuoteFeed(s7O) && !f9n.error){if(!f9n.quotes){f9n.quotes=[];}v8a=f9n.quotes;V5b=I2c.masterData;v8a=f2Z.cleanup(K_Q,null,v8a,q$u.QuoteFeed.PAGINATION,s7O);if(v8a.length && I2c.masterData && I2c.masterData.length){if(s7O.future){X0z=v8a[0];if(X0z.DT && X0z.DT == I2c.masterData[I2c.masterData.length - 1].DT){V5b.pop();}}else {j2X.g33(16);var R$r=j2X.v0q(5,4);b1Q=v8a[v8a.length - R$r];if(b1Q.DT && +b1Q.DT == +I2c.masterData[0].DT){v8a.pop();}}}if(!s7O.future){if(f9n.moreAvailable){I2c.moreAvailable=!!"1";}else if(f9n.moreAvailable === !!0 || !v8a.length){I2c.moreAvailable=!!0;}else {I2c.moreAvailable=!!"1";}}else {I2c.maximumForwardPagination=null;if(f9n.upToDate){I2c.upToDate=!![];}else if(f9n.upToDate === !"1" || v8a.length > 1){I2c.upToDate=!1;}else if(!v8a.length || v8a.length === 1 && +s7O.startDate === +f9n.quotes[0].DT){if(s7O.fetchMaximumBars){I2c.upToDate=!0;}else {I2c.maximumForwardPagination=!![];}}if(K_Q.isHistoricalModeSet && v8a.length < 2){I2c.mostRecentForwardAttempt=new Date();}}f2Z.tickMultiplier=v8a.length?2:f2Z.tickMultiplier * 2;w3B=v8a[0]?v8a[+"0"].DT:s7O.startDate;M8f=v8a[0]?v8a[v8a.length - 1].DT:s7O.endDate;if(f9n.beginDate){w3B=f9n.beginDate;}if(!I2c.endPoints.begin || I2c.endPoints.begin > w3B){I2c.endPoints.begin=w3B;}if(f9n.endDate){M8f=f9n.endDate;}if(!I2c.endPoints.end || I2c.endPoints.end < M8f){I2c.endPoints.end=M8f;}I2c.loadingMore=!({});if(s7O.loadMoreReplace){K_Q.setMasterData(v8a,I2c,{noCleanupDates:!![]});}else if(s7O.future){K_Q.updateChartData(v8a,I2c,{noCreateDataSet:!!"1",noCleanupDates:!0});}else {q$u.addMemberToMasterdata({stx:K_Q,chart:I2c,data:v8a,fields:["*"],noCleanupDates:!!"1"});}if(s7O.future){n$e={appending:!![],appendToDate:v8a[+"0"] && v8a[0].DT};}K_Q.createDataSet(undefined,undefined,n$e);if(!V5f){K_Q.draw();}if(A4P.callback){A4P.callback(s7O);}f2Z.loadDependents(s7O,C7b,q$u.QuoteFeed.PAGINATION);}else {f2Z.quoteFeed.announceError(s7O.originalState,f9n);s7O.chart.loadingMore=![];if(C7b){C7b(f9n.error);}}}else {return;}};}};q$u.ChartEngine.Driver.prototype.extendHistoricalData=function({from:a8O},j9h = ()=>{}){var I51,n6W,b_y,t79,F98;function W8H(j4k,E5H){o1YMc.m_N();return function({quotes:s26, moreAvailable:k2v, error:J4s, beginDate:G1z}){if(E5H.symbol !== W8M.symbol || X4v !== q25.interval || n2C !== q25.timeUnit){return;}W8M.loadingMore=!({});if(J4s){return j9h(J4s);}s26=j4k.cleanup(u2H,null,s26,q$u.QuoteFeed.PAGINATION,E5H);if(typeof k2v === "boolean"){W8M.moreAvailable=k2v;}else {W8M.moreAvailable=!!s26.length;}W8M.endPoints.begin=G1z || a8O;q$u.addMemberToMasterdata({stx:u2H,chart:W8M,data:s26,fields:["*"],noCleanupDates:!!1});o1YMc.m_N();u2H.createDataSet();u2H.draw();};}var {stx:u2H}=this;var {chart:W8M, layout:q25}=u2H;var {masterData:v1Y, dataSet:X9J}=W8M;I51=1183366575;n6W=429080856;b_y=2;for(var n26=1;o1YMc.D$s(n26.toString(),n26.toString().length,56879) !== I51;n26++){var {interval:X4v, timeUnit:n2C}=q25;b_y+=2;}if(o1YMc.u7W(b_y.toString(),b_y.toString().length,62797) !== n6W){var {interval:X4v, timeUnit:n2C}=q25;}t79=this.makeParams(W8M.symbol,W8M.symbolObject,W8M);F98=this.getQuoteFeed(t79);if(W8M.loadingMore || this.loadingNewChart || u2H.currentlyImporting || !v1Y.length || !F98 || u2H.maxDataSetSize && X9J.length > u2H.maxDataSetSize){return j9h(null);}W8M.loadingMore=!"";t79.originalState=Object.assign({},t79);t79.startDate=a8O;t79.endDate=v1Y[0].DT;q$u.ChartEngine.Driver.fetchData(q$u.QuoteFeed.PAGINATION,F98.engine,t79,W8H(this,t79));};q$u.ChartEngine.Driver.prototype.barsToFetch=function(g21){var d2G,D42,U_B,H4Z,k2R,W1E;d2G="we";d2G+="ek";D42="m";D42+="o";D42+="n";D42+="th";if(!q$u.isValidNumber(this.tickMultiplier)){this.tickMultiplier=2;}U_B=this.stx.layout.interval;H4Z=g21.stx.layout.periodicity;if((U_B == D42 || U_B == d2G) && !this.stx.dontRoll){k2R="w";k2R+="ee";k2R+="k";H4Z*=U_B == k2R?"7" >> 64:+"30";}W1E=g21.stx.chart.maxTicks * H4Z;return W1E * this.tickMultiplier;};q$u.ChartEngine.Driver.determineStartDate=function(z__,R3I,y0P){return this.determineStartOrEndDate(z__,R3I,y0P,!0);};q$u.ChartEngine.Driver.determineStartOrEndDate=function(i6h,B1C,g3d,Y7g){o1YMc.Z7I();var s6J;if(Y7g){s6J=i6h.startDate || B1C.previous(g3d);}else {s6J=i6h.future?B1C.next(g3d):new Date();}return s6J;};q$u.ChartEngine.Driver.prototype.makeParams=function(o9s,P8q,J5K){var f3w,V5p,S6a,y$W,v6z,T8r,H__,G6D,O6i,P3l,v20;f3w="w";f3w+="eek";V5p="m";V5p+="o";V5p+="n";V5p+="th";S6a=this.stx;y$W=S6a.layout.interval;v6z=this.barsToFetch({stx:S6a});if((y$W == V5p || y$W == f3w) && !S6a.dontRoll){T8r="da";T8r+="y";y$W=T8r;}H__=this.getQuoteFeed({interval:y$W,symbol:o9s,symbolObject:P8q});G6D=H__ && H__.behavior;O6i=q$u.shallowClone(G6D) || ({});O6i.behavior=G6D;P3l=!({});v20=[];if(J5K.market && J5K.market.getSessionNames){v20=J5K.market.getSessionNames();}if(S6a.extendedHours){if(S6a.extendedHours.filter){P3l=!!({});}else {P3l=S6a.layout.extended;v20=v20.filter(function(b8k){o1YMc.m_N();return b8k.enabled || S6a.layout.marketSessions[b8k.name];});}}else {v20=v20.filter(function(F_I){o1YMc.m_N();return F_I.enabled;});}for(var u4q=+"0";u4q < v20.length;u4q++){v20[u4q]=v20[u4q].name;}q$u.extend(O6i,{stx:S6a,symbol:o9s,symbolObject:P8q,chart:J5K,interval:y$W,extended:P3l,period:1,ticks:v6z,additionalSessions:v20,quoteDriverID:this.id},!"");if(!O6i.symbolObject){O6i.symbolObject={symbol:o9s};}if(!isNaN(O6i.interval)){O6i.period=parseInt(O6i.interval,10);O6i.interval=S6a.layout.timeUnit;if(!O6i.interval){O6i.interval="minute";}}return O6i;};q$u.ChartEngine.Driver.prototype.newChart=function(q61,O1d){var A7E,q87,B2j,z1P,R74,B3N,X7c,M7i,M5J;o1YMc.Z7I();A7E=this.stx;q87=q61.symbol;B2j=A7E.layout.interval;z1P=A7E.layout.timeUnit;R74=q61.chart;R74.moreAvailable=null;R74.upToDate=null;R74.loadingMore=!({});R74.attribution=null;B3N=this.makeParams(q87,q61.symbolObject,R74);q$u.extend(B3N,q61,!!({}));X7c=this.getQuoteFeed(B3N);M7i=B3N.behavior || ({});if(A7E.fetchMaximumBars[A7E.layout.aggregationType] || q61.fetchMaximumBars){if(!A7E.maxMasterDataSize || M7i.maximumTicks < A7E.maxMasterDataSize){B3N.ticks=M7i.maximumTicks;}else {B3N.ticks=A7E.maxMasterDataSize;}B3N.fetchMaximumBars=!0;}this.loadingNewChart=!"";this.updatingChart=![];B3N.originalState=q$u.shallowClone(B3N);M5J=e0Q(this,B3N);if(this.stx.isEquationChart(B3N.symbol)){q$u.fetchEquationChart(B3N,M5J);}else if(X7c){q$u.ChartEngine.Driver.fetchData(q$u.QuoteFeed.INITIAL,X7c.engine,B3N,M5J);}function e0Q(Y_2,u9m){if(M7i.prefetchAction){M7i.prefetchAction("newChart");}return function(K5S){var N$$,c$B,W0r,r_u,k5W,O5M,k6C,J4W,l$v;N$$=u9m.chart;c$B=K5S.quotes;W0r=!!"";if(q87 == N$$.symbol && B2j == A7E.layout.interval && z1P == A7E.layout.timeUnit){Y_2.loadingNewChart=!!"";if(X7c === Y_2.getQuoteFeed(u9m) && !K5S.error){c$B=Y_2.cleanup(A7E,null,c$B,q$u.QuoteFeed.INITIAL,u9m);A7E.setMasterData(c$B,N$$,{noCleanupDates:!!({})});N$$.endPoints={};r_u=K5S.beginDate || (c$B[0]?c$B[0].DT:u9m.startDate);N$$.endPoints.begin=r_u;k5W=K5S.endDate || (c$B["0" << 64]?c$B[c$B.length - +"1"].DT:u9m.endDate);N$$.endPoints.end=k5W;if(!c$B){N$$.moreAvailable=![];N$$.upToDate=!![];}else {N$$.moreAvailable=K5S.moreAvailable === !!0?!!"":!![];N$$.upToDate=K5S.hasOwnProperty("upToDate")?K5S.upToDate:!A7E.isHistoricalModeSet;}N$$.attribution=K5S.attribution;if(q61.initializeChart){A7E.initializeChart();}A7E.createDataSet();W0r=!!({});}else {X7c.engine.announceError(u9m.originalState,K5S);}}else {if(O1d){O1d("orphaned");}return;}for(var C5I in N$$.series){O5M=N$$.series[C5I];O5M.endPoints={};O5M.moreAvailable=null;O5M.upToDate=null;if(O5M.parameters.takedownResults){O5M.parameters.takedownResults(A7E,C5I);}}k6C=N$$.masterData;if(k6C && k6C.length){u9m.startDate=k6C[0].DT;J4W=new Date();l$v=k6C[k6C.length - +"1"].DT;u9m.endDate=l$v < J4W && !A7E.isHistoricalMode()?J4W:l$v;}if(M7i.callback){M7i.callback(u9m);}Y_2.loadDependents(u9m,function(){if(W0r && !u9m.nodraw){Y_2.stx.home();}if(O1d){O1d(K5S.error);}Y_2.stx.dispatch("newChart",{stx:Y_2.stx,symbol:Y_2.stx.chart.symbol,symbolObject:Y_2.stx.chart.symbolObject,moreAvailable:Y_2.stx.chart.moreAvailable,upToDate:Y_2.stx.chart.upToDate,quoteDriver:Y_2});Y_2.resetRefreshInterval(M7i.refreshInterval,M7i);},q$u.QuoteFeed.INITIAL);};}};q$u.QuoteFeed.INITIAL=1;function i4I(){}q$u.QuoteFeed.UPDATE=2;q$u.QuoteFeed.PAGINATION=3;q$u.QuoteFeed.SERIES=4;q$u.ChartEngine.Driver.fetchData=function(l7E,C0I,R0h,l2v){var F6I;o1YMc.Z7I();if(!R0h.symbol){return l2v({quotes:[]});}if(C0I.v2QuoteFeed){F6I="func";F6I+="ti";F6I+="on";if(typeof C0I.subscribe !== F6I){q$u.ChartEngine.Driver.fetchDataInContext(l7E,C0I,R0h,l2v);}else {q$u.ChartEngine.Driver.fetchDataInContext(l7E,C0I,R0h,(function(n6w){o1YMc.m_N();if(!n6w.error){this.checkSubscriptions(R0h.stx);}l2v(n6w);}).bind(C0I));}}else {R0h.stx.convertToDataZone(R0h.startDate);R0h.stx.convertToDataZone(R0h.endDate);C0I.fetch(R0h,l2v);}};q$u.ChartEngine.Driver.fetchDataInContext=function(U06,x0y,A4j,o_s){var h5F,F7m,N_w,O30,J5C,C8z,U7b,g47,J0T,I7Z,a7L;J5C=A4j.stx;if(!J5C.chart.market.newIterator){console.error("quoteFeed feature requires first activating market feature.");return;}if(U06 === q$u.QuoteFeed.SERIES){A4j.series=!!({});U06=q$u.QuoteFeed.INITIAL;if(A4j.endDate && !A4j.startDate || A4j.future){U06=q$u.QuoteFeed.PAGINATION;}else if(A4j.startDate && !A4j.endDate){U06=q$u.QuoteFeed.UPDATE;}}C8z=Math.min(A4j.ticks,A4j.maximumTicks);o1YMc.m_N();if(x0y.maxTicks){C8z=Math.min(C8z,x0y.maxTicks);}U7b=A4j.symbolObject.masterSymbol || A4j.symbol;switch(U06){case q$u.QuoteFeed.UPDATE:if(J5C.isHistoricalModeSet){J5C.quoteDriver.updatingChart=!!0;return;}if(A4j.startDate){g47=A4j.startDate;}else {g47=new Date();g47.setHours(0,0,0,0);}if(typeof x0y.fetchUpdateData === "function"){x0y.fetchUpdateData(U7b,J5C.convertToDataZone(g47),A4j,o_s);}break;case q$u.QuoteFeed.INITIAL:O30=A4j.endDate || new Date();h5F={begin:O30,interval:A4j.interval,periodicity:A4j.interval == "tick"?J5C.chart.xAxis.futureTicksInterval:A4j.period,outZone:J5C.dataZone};F7m=J5C.chart.market.newIterator(h5F);N_w=q$u.ChartEngine.Driver.determineStartDate(A4j,F7m,C8z);if(A4j.endDate){O30=A4j.endDate;}if(typeof x0y.fetchInitialData === "function"){x0y.fetchInitialData(U7b,N_w,J5C.convertToDataZone(O30),A4j,o_s);}break;case q$u.QuoteFeed.PAGINATION:J0T="tic";J0T+="k";h5F={begin:A4j.endDate || A4j.startDate,interval:A4j.interval,periodicity:A4j.interval == J0T?J5C.chart.xAxis.futureTicksInterval:A4j.period,outZone:J5C.dataZone};F7m=J5C.chart.market.newIterator(h5F);I7Z=q$u.ChartEngine.Driver.determineStartOrEndDate(A4j,F7m,C8z,!A4j.future);N_w=A4j.startDate || I7Z;O30=A4j.endDate || I7Z;if(!A4j.startDate){A4j.stx.convertToDataZone(O30);}else {A4j.stx.convertToDataZone(N_w);}if(typeof x0y.fetchPaginationData === "function"){if(J5C.maxMasterDataSize && J5C.maxMasterDataSize <= J5C.masterData.length){return;}x0y.fetchPaginationData(U7b,N_w,O30,A4j,function(Y6E){o1YMc.Z7I();if(O30 >= Date.now()){J5C.isHistoricalModeSet=!!"";}if(o_s){o_s(Y6E);}});}break;default:a7L="Illeg";a7L+="al fetchData con";a7L+="stant";console.error(a7L);}};};l3=P3L=>{var D9I=o1YMc;var w3w,H52,z4s,q17;w3w=-440179282;H52=1925749957;z4s=2;for(var j3f=1;D9I.D$s(j3f.toString(),j3f.toString().length,78190) !== w3w;j3f++){q17=~_CIQ === ""?_CIQ:P3L.CIQ;z4s+=2;}if(D9I.D$s(z4s.toString(),z4s.toString().length,31434) !== H52){q17=typeof _CIQ !== "undefined"?_CIQ:P3L.CIQ;}q17.ChartEngine.prototype.addSeries=function(q7r,t4U,o9G){var L4w,U4Z,a6R,t2i,o_n,Y_v,h4I,y07,x93,f_i,X41,m9M,K01,l9v,M6q,I4F,f6e,L2w,N50;L4w="di";L4w+="s";L4w+="pla";L4w+="y";U4Z=this.runPrepend("addSeries",arguments);if(U4Z){return U4Z;}a6R=q7r?q7r:null;t2i=q7r;if(!q7r){q7r=q17.uniqueID();}if(t4U && t4U.panel === !!({})){t4U.panel=q7r;}o_n={parameters:t4U?q17.clone(t4U):{},yValueCache:[],display:a6R,id:q7r,loading:t4U?t4U.loadData !== !1:!!1};o_n.parameters.yAxis=t4U && t4U.yAxis;t4U=o_n.parameters;if(t4U.symbol){t2i=t4U.symbol;}if(t4U.isComparison){t4U.shareYAxis=!![];}if(t4U.yAxis && !(t4U.yAxis instanceof q17.ChartEngine.YAxis)){t4U.yAxis=new q17.ChartEngine.YAxis(t4U.yAxis);}q17.ensureDefaults(t4U,{chartName:this.chart.name,symbolObject:{symbol:t2i},panel:this.chart.panel.name,fillGaps:!1,action:"add-series"});if((L4w in t4U)){o_n.display=t4U.display;}Y_v=this.charts[t4U.chartName];h4I=t4U.symbolObject;t2i=t4U.symbol=h4I.symbol;if(t4U.isEvent){h4I.isEvent=!!"1";}if(!o_n.display){o_n.display=t2i || t4U.field;}o_n.endPoints={};if(!t4U.gapDisplayStyle && t4U.gapDisplayStyle !== !!""){t4U.gapDisplayStyle=t4U.gaps;}function O6C(Y2M,O2x){var w14,D6e,U6C,V4b,J$6;w14="Line";w14+="s";D6e=t4U.renderer || w14;U6C=t4U.name || q7r;if(t4U.yAxis && !(t4U.yAxis instanceof q17.ChartEngine.YAxis) && !m9M){t4U.yAxis.name=U6C;}if(!t4U.renderer && !t4U.name && !t4U.color && !t4U.chartType){return;}V4b=Y2M.getSeriesRenderer(U6C);if(!V4b){J$6={name:U6C,overChart:t4U.overChart !== !!0,useChartLegend:!!({})};if(t4U.chartType){V4b=q17.Renderer.produce(t4U.chartType,q17.extend({highlightable:t4U.highlightable,dependentOf:t4U.dependentOf,panel:t4U.panel,yAxis:t4U.yAxis,baseline:t4U.baseline},J$6));}else {q17.ensureDefaults(t4U,J$6);V4b=new q17.Renderer[D6e]({params:t4U});}if(!V4b){return;}Y2M.setSeriesRenderer(V4b);}V4b.attachSeries(q7r,t4U);if(t4U.loadData !== !"1"){V4b.ready();}Y2M.layout.symbols=Y2M.getSymbols({"include-parameters":!0,"exclude-studies":!!({})});Y2M.changeOccurred("layout");}if(t4U.isComparison){if(t4U.gapDisplayStyle === undefined){t4U.gapDisplayStyle="transparent";}}y07=this.getSeries({symbolObject:h4I,chart:Y_v,includeMaster:!!"1"});x93=t4U.panel;if(!this.panels[x93]){f_i=t4U.yAxis || new q17.ChartEngine.YAxis();f_i.name=q7r;this.createPanel(q7r,x93,null,null,f_i);if(!this.preferences.dragging || !this.preferences.dragging.series){t4U.highlightable=!!"";}}else {if(!t4U.yAxis && !t4U.shareYAxis){t4U.yAxis=new q17.ChartEngine.YAxis({name:q7r,position:"none"});}}Y_v.series[q7r]=o_n;function W36(O4R){return function(O1P){var C3K,s1o;if(!O1P.error){C3K=O1P.quotes;s1o=t4U.fillGaps;if(!X41.cleanupGaps){s1o=![];}C3K=X41.doCleanupGaps(C3K,X41.chart,{cleanupGaps:s1o});X41.updateChartData(C3K,X41.chart,{secondarySeries:t2i,noCreateDataSet:!![],noCleanupDates:!!"1",allowReplaceOHL:!!({})});o_n.loading=!1;o_n.moreAvailable=O1P.moreAvailable;o_n.upToDate=O1P.upToDate;O6C(X41,o_n);}if(t4U.action !== null && !y07.length){X41.dispatch(m9M?"symbolImport":"symbolChange",{stx:X41,symbol:O4R.symbol,symbolObject:O4R.symbolObject,action:t4U.action,id:o_n.id,parameters:t4U});}if(o_n.parameters.processResults){o_n.parameters.processResults(X41,O1P.error,o_n,O1P.quotes);}if(o9G){o9G.call(X41,O1P.error,o_n);}};}X41=this;m9M=this.currentlyImporting;K01=t4U.responseHandler || W36;if(t4U.isComparison && Y_v.forcePercentComparison && t4U.panel == Y_v.panel.name && (!t4U.yAxis || t4U.yAxis == Y_v.yAxis)){this.setChartScale("percent");}l9v=Y_v.masterData;if(!l9v){l9v=Y_v.masterData=this.masterData=[];}M6q=l9v.length;if(t4U.data && !t4U.data.useDefaultQuoteFeed){I4F={symbol:t2i,symbolObject:h4I,action:t4U.action};K01(I4F)({quotes:t4U.data});}else if(y07.length){o_n.endPoints=y07["0" << 64].endPoints;o_n.loading=y07[+"0"].loading;O6C(this,o_n);if(o9G){setTimeout(function(){D9I.m_N();o9G.call(X41,null,o_n);},0);}}else if(this.quoteDriver && t4U.loadData !== !!0){f6e=this.quoteDriver;L2w=f6e.makeParams(t2i,h4I,Y_v);if(M6q){L2w.startDate=l9v[0].DT;L2w.endDate=this.isHistoricalMode()?l9v[l9v.length - 1].DT:new Date();}if(L2w.stx.isEquationChart(L2w.symbol)){q17.fetchEquationChart(L2w,K01(L2w));}else {N50=f6e.getQuoteFeed(L2w);if(N50){D9I.O$r(18);q17.ChartEngine.Driver.fetchData(D9I.v0q(0,"4"),N50.engine,L2w,K01(L2w));}}}else {O6C(this,o_n);if(t4U.action !== null && !y07.length){X41.dispatch(m9M?"symbolImport":"symbolChange",{stx:X41,symbol:t2i,symbolObject:h4I,action:t4U.action,id:o_n.id,parameters:t4U});}if(o9G){o9G.call(this,null,o_n);}}this.changeOccurred("layout");this.runAppend("addSeries",arguments);return o_n;};q17.ChartEngine.prototype.getSeries=function(i4T){var V$u,H4H,r28,D_s,l4n;V$u=i4T.chart?i4T.chart:this.chart;H4H=V$u.series;r28=i4T.symbolObject;if(!r28){r28={symbol:i4T.symbol};}D_s=[];for(var F4Z in H4H){l4n=H4H[F4Z];if(q17.symbolEqual(r28,l4n.parameters.symbolObject)){D_s.push(l4n);}}if(i4T.includeMaster){if(q17.symbolEqual(r28,V$u.symbolObject)){D_s.push({});}}return D_s;};q17.ChartEngine.prototype.modifySeries=function(B02,u_3,b_Q){D9I.m_N();var l0B,u1P,l2l,v0z,V_Q,f$8,D54,B4P,z97,j8y,B7m,U4v,E9a,R5A,H6D,D_J,r5S;l0B="mo";l0B+="difySerie";l0B+="s";if(this.runPrepend(l0B,arguments)){return;}if(!u_3){return;}if(typeof B02 === "string"){v0z=u_3.chartName?this.charts[u_3.chartName]:this.chart;l2l=B02;u1P=v0z.series[l2l];}else {u1P=B02;l2l=u1P.id;v0z=this.charts[u1P.parameters.chartName];}if(!u1P){return;}V_Q=u1P.parameters.panel;q17.extend(u1P.parameters,u_3,!![]);this.getRendererFromSeries(l2l).modifyRenderer(u_3);f$8=u1P.parameters;if(V_Q !== f$8.panel){this.moveMarkers(V_Q,f$8.panel,this.getMarkerArray("field",f$8.symbol));}for(var G9G in v0z.seriesRenderers){B4P=v0z.seriesRenderers[G9G];z97=B4P.params;j8y=B4P.seriesParams;for(var j0O=0;j0O < j8y.length;++j0O){B7m=j8y[j0O];U4v=this.panels[B7m.panel];E9a=U4v && U4v.yAxis.name;if(B7m.id === u1P.id){if(f$8.panel === !![]){f$8.panel=f$8.dependentOf || f$8.name;}z97.panel=f$8.panel;if(u_3.yAxis){if(!(u_3.yAxis instanceof q17.ChartEngine.YAxis)){u_3.yAxis=new q17.ChartEngine.YAxis(u_3.yAxis);}z97.yAxis=u_3.yAxis;}if(f$8.panel != B7m.panel && z97.name == E9a){this.electNewPanelOwner(B7m.panel);}else {R5A=this.getYAxisByName(f$8.panel,z97.name);if(R5A && f$8.yAxis && R5A.name !== f$8.yAxis.name){R5A.name=this.electNewYAxisOwner(R5A);}}if(!f$8.field){f$8.field=null;}B4P.attachSeries(l2l,q17.ensureDefaults(f$8,B7m));if(!f$8.field){f$8.field=f$8.subField;}delete f$8.subField;if(f$8.isComparison && v0z.forcePercentComparison && f$8.panel == v0z.panel.name && (!u1P.parameters.yAxis || f$8.yAxis.name == v0z.yAxis.name)){this.setChartScale("percent");}D54=B4P;break;}}}q17.getFn("Drawing.updateSource")(this,f$8.symbol || l2l,null,f$8.panel);this.runAppend("modifySeries",arguments);if(b_Q !== !!({})){H6D=D54.getDependents(this);for(var K7c=0;K7c < H6D.length;K7c++){if(H6D[K7c].seriesParams){this.modifySeries(H6D[K7c].params.name,{panel:D54.params.panel,yAxis:u1P.parameters.yAxis},!!({}));}if(H6D[K7c].study){D_J=H6D[K7c];D_J=q17.Studies.replaceStudy(this,D_J.inputs.id,D_J.type,D_J.inputs,D_J.outputs,D_J.parameters,null,D_J.study);}}r5S=v0z.seriesRenderers[D54.params.dependentOf];if(r5S){if(r5S.params.yAxis != u1P.parameters.yAxis || r5S.params.panel != D54.params.panel){this.modifySeries(D54.params.dependentOf,{panel:D54.params.panel,yAxis:u1P.parameters.yAxis},!![]);}}}this.changeOccurred("layout");this.draw();return u1P;};q17.ChartEngine.prototype.deleteSeries=function(C2l,D7g,n_5){var t$y,S5F,C0b,P4E,c2m,S4u;t$y="objec";t$y+="t";if(this.runPrepend("deleteSeries",arguments)){return;}n_5=n_5 || ({});S5F=n_5.action || "remove-series";if(typeof C2l === t$y){C0b=C2l.id;D7g=D7g || this.charts[C2l.parameters.chartName];}else {C0b=C2l;D7g=D7g || this.chart;}P4E=D7g.series[C0b];D9I.m_N();if(!P4E){return;}var {isEvent:F23, loadData:R9F, symbolObject:o2C}=P4E.parameters;if(!this.currentlyImporting){this.getMarkerArray("field",C0b).forEach(L1F=>{D9I.m_N();return this.removeFromHolder(L1F);});}delete D7g.series[C0b];this.layout.symbols=this.getSymbols({"include-parameters":!!"1","exclude-studies":!!"1"});c2m=this.getSeries({symbolObject:o2C,includeMaster:!![]});if(!F23 && R9F !== !!0 && !c2m.length){this.cleanMasterData(o2C,D7g);}S4u=this.panels[P4E.parameters.panel];if(S4u){this.checkForEmptyPanel(S4u);}this.createDataSet();this.changeOccurred("layout");if(!c2m.length && !F23){this.dispatch(this.currentlyImporting?"symbolImport":"symbolChange",{stx:this,symbol:o2C.symbol,symbolObject:o2C,id:C0b,action:S5F});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};q17.ChartEngine.prototype.removeSeries=function(I9s,C5U){var k03,p$6,A9W,c0N,j2l,P_5,h0s,G1L,O_n,A$f;k03="l";k03+="ay";k03+="out";p$6="remov";p$6+="eSe";p$6+="r";p$6+="ies";if(this.runPrepend(p$6,arguments)){return;}c0N=!!0;D9I.m_N();if(typeof I9s === "object"){A9W=I9s.id;C5U=C5U || this.charts[I9s.parameters.chartName];}else {A9W=I9s;C5U=C5U || this.chart;}if(C5U.series[A9W]){j2l=C5U.series[A9W].parameters.takedownResults;if(j2l){j2l(this,A9W);}}for(var t2N in C5U.seriesRenderers){P_5=C5U.seriesRenderers[t2N];h0s=this.panels[P_5.params.panel];G1L=h0s && h0s.yAxis.name;for(var j29=P_5.seriesParams.length - +"1";j29 >= 0;j29--){O_n=P_5.seriesParams[j29];if(O_n.id === A9W){P_5.removeSeries(A9W);if(P_5.seriesParams.length < 1){this.removeSeriesRenderer(P_5);if(P_5.params.name == G1L){this.electNewPanelOwner(P_5.params.panel);}else {if(!this.checkForEmptyPanel(P_5.params.panel)){A$f=this.getYAxisByName(h0s,P_5.params.name);if(A$f){A$f.name=A$f.studies[0] || A$f.renderers["1" | 0];}}}}c0N=!"";}}}if(!c0N){this.deleteSeries(A9W,C5U);}else {this.changeOccurred(k03);}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend("removeSeries",arguments);};q17.Comparison=q17.Comparison || (function(){});q17.Comparison.initialPrice=100;q17.Comparison.getInitialPrice=function(V3O){var w8R,J1E,T9A;if(V3O.initialComparisonPrice){return V3O.initialComparisonPrice;}V3O.initialComparisonPrice=100;w8R=q17.Comparison.initialPrice;if(typeof w8R == "number"){V3O.initialComparisonPrice=w8R;}if(typeof w8R == "string"){if(V3O.series[w8R] || w8R === ""){J1E="Close";if(V3O.defaultPlotField){if(!V3O.highLowBars){J1E=V3O.defaultPlotField;}}for(var F9D=V3O.dataSet.length - V3O.scroll - 1;F9D < V3O.dataSet.length;F9D++){T9A=V3O.dataSet[F9D];if(T9A){if(T9A[w8R] && T9A[w8R][J1E]){V3O.initialComparisonPrice=T9A[w8R][J1E];break;}else if(w8R === "" && T9A[J1E]){V3O.initialComparisonPrice=T9A[J1E];break;}}}}}return V3O.initialComparisonPrice;};q17.Comparison.priceToPercent=function(K5z,B_3,s9M,Q_U,z93){var Y0F,F$F;Y0F="obj";Y0F+="e";Y0F+="ct";F$F=K5z.comparisonBaseline;D9I.Z7I();if(F$F && (z93 in F$F)){F$F=F$F[z93];}if(F$F && typeof F$F === Y0F){F$F=F$F[B_3.defaultPlotField || "Close"];}F$F=F$F || s9M;D9I.g33(111);var B6p=D9I.v0q(19,11,115,7);D9I.O$r(0);var y0V=D9I.v0q(909,9091);return Math.round((s9M - F$F) / F$F * B6p * 10000) / y0V;};q17.Comparison.percentToPrice=function(y4N,x05,K_J,A_E,J_1){var v_2;v_2=y4N.comparisonBaseline;if(v_2 && (J_1 in v_2)){v_2=v_2[J_1];}if(v_2 && typeof v_2 === "object"){v_2=v_2[x05.defaultPlotField || "Close"];}v_2=v_2 || 1;D9I.Z7I();D9I.g33(128);return D9I.v0q(K_J,v_2,100,1);};q17.Comparison.priceToRelative=function(e37,F0M,I8Z,R_w,o0z){var z3V,u84;z3V=e37.comparisonBaseline;u84=q17.Comparison.getInitialPrice(F0M);if(z3V && (o0z in z3V)){z3V=z3V[o0z];}if(z3V && typeof z3V === "object"){z3V=z3V[F0M.defaultPlotField || "Close"];}D9I.O$r(19);return D9I.v0q(z3V || I8Z,I8Z,u84);};q17.Comparison.relativeToPrice=function(W88,Q5i,t9_,P6Z,c6m){var x$s,l09,U$P,J9Y;x$s="Clos";x$s+="e";l09="ob";l09+="j";D9I.m_N();l09+="e";l09+="ct";U$P=W88.comparisonBaseline;J9Y=q17.Comparison.getInitialPrice(Q5i);if(U$P && (c6m in U$P)){U$P=U$P[c6m];}if(U$P && typeof U$P === l09){U$P=U$P[Q5i.defaultPlotField || x$s];}D9I.g33(19);return D9I.b63(J9Y,t9_,U$P || 1);};q17.Comparison.createComparisonSegmentInner=function(j0S,w1C){var V6n,X3a,e4V,A44,h3x,y42,C6c,J_v,t2I,z2W,b5Y,x4U,j2I,p3q,j8e,G2r,i0I,D5w,S3d,M15,Q_2,e3H,K5y,G7A,x1P,K8H,S_2,a$m,E1p;V6n="i";V6n+="qPrevClose";X3a="H";X3a+="i";X3a+="g";X3a+="h";e4V=[];for(A44 in w1C.series){C6c=w1C.series[A44].parameters;if(!C6c.yAxis && C6c.shareYAxis || C6c.yAxis === w1C.yAxis){e4V.push(C6c.symbol);}}J_v=["Close","Open",X3a,"Low",V6n];t2I=j0S.chart.highLowBars;if(w1C.defaultPlotField && !t2I){J_v.unshift(w1C.defaultPlotField);}z2W=J_v[0];b5Y=j0S.layout.studies;for(var u6K in b5Y){x4U=b5Y[u6K];h3x=j0S.panels[x4U.panel];y42=x4U.getYAxis(j0S);if(!h3x || h3x.yAxis != y42)continue;for(A44 in x4U.outputMap){if(w1C.transformFunc && y42 == w1C.panel.yAxis && e4V.includes(x4U.inputs.Field)){J_v.push({comparison:x4U.inputs.Field,field:A44});}else {J_v.push(A44);}}for(var j4P="0" >> 32;j4P <= 2;j4P++){J_v.push(x4U.name + "_hist" + (j4P?j4P:""));}if(x4U.referenceOutput){J_v.push(x4U.referenceOutput + ((6980,3747) == 109.75?8731 === (920.26,710.98)?(!1,0x139b):("J",!!""):" ") + x4U.name);}}for(var i$X in j0S.plugins){j2I=j0S.plugins[i$X];if(!j2I.transformOutputs)continue;for(A44 in j2I.transformOutputs){J_v.push(A44);}}w1C.initialComparisonPrice=null;w1C.dataSegment=[];p3q=null;j8e=w1C.dataSet.length - w1C.scroll - +"1";if(j0S.startComparisonsAtFirstVisibleBar){j8e+=1;}D9I.O$r(17);var a_y=D9I.b63(1,2,0);G2r=w1C.maxTicks + a_y;for(var b83=0;b83 <= G2r;b83++){if(b83 == G2r){D9I.g33(1);b83=-D9I.b63(1,"1");}D9I.g33(0);i0I=D9I.v0q(j8e,b83);if(i0I < w1C.dataSet.length && i0I >= 0){D5w=w1C.dataSet[i0I];S3d=D5w[z2W];if(!p3q){if(S3d === 0 || S3d === null){if(b83 < 0)break;else continue;}p3q=q17.clone(D5w);}if(!D5w.transform){D5w.transform={cache:{},DT:D5w.DT,Date:D5w.Date};}if(!(p3q && p3q[z2W]) && S3d){p3q=q17.clone(D5w);}j0S.comparisonBaseline=p3q;for(M15=0;M15 < J_v.length;M15++){A44=J_v[M15];Q_2=D5w[A44];if(Q_2 || Q_2 === "0" * 1){D5w.transform[A44]=w1C.transformFunc(j0S,w1C,Q_2);}}for(M15=0;M15 < e4V.length;M15++){A44=e4V[M15];e3H=w1C.series[A44];if(b83 == -1 && e3H && e3H.parameters.isComparison){delete D5w.transform[A44];continue;}K5y=D5w[A44];if(!K5y)continue;for(var h3a=0;h3a < J_v.length;h3a++){G7A=J_v[h3a];x1P=K5y[G7A];K8H=D5w.transform[A44]=D5w.transform[A44] || ({});if(typeof G7A == "object" && G7A.comparison == A44){G7A=G7A.field;x1P=D5w[G7A];K8H=D5w.transform;}if(x1P || x1P === 0){S_2=p3q[A44] && p3q[A44][J_v[0]];if(!S_2 && S_2 !== 0){if(!p3q[A44]){p3q[A44]={};}p3q[A44][G7A]=S_2=x1P * p3q[z2W] / D5w[z2W];}if(S_2 !== +"0"){a$m=p3q[z2W] || 1;D9I.O$r(129);E1p=D9I.b63(x1P,S_2,a$m);K8H[G7A]=w1C.transformFunc(j0S,w1C,E1p);}}}}w1C.dataSegment.push(D5w);}else if(i0I < 0){w1C.dataSegment.push(null);}if(b83 < 0)break;}};q17.Comparison.priceFormat=function(L$c,y0m,K38){var n6x,e4q,T8X;if(K38 === null || typeof K38 == "undefined" || isNaN(K38)){return "";}n6x=y0m.yAxis.priceTick;e4q=L$c.internationalizer;if(e4q){if(n6x >= 5){D9I.g33(9);K38=e4q.percent.format(D9I.b63(100,K38));}else if(n6x >= 0.5){D9I.O$r(9);K38=e4q.percent1.format(D9I.b63(100,K38));}else if(n6x >= 0.05){D9I.g33(9);K38=e4q.percent2.format(D9I.b63(100,K38));}else if(n6x >= "0.005" * 1){D9I.g33(9);K38=e4q.percent3.format(D9I.v0q(100,K38));}else {D9I.g33(35);K38=e4q.percent4.format(D9I.b63(K38,"100",64));}}else {D9I.g33(99);T8X=D9I.v0q(0,K38);if(n6x >= 5){D9I.O$r(55);var l1S=D9I.v0q(28645,5,7157);K38=K38.toFixed(+"0") + (472.34 === l1S?"6.24e+3" ^ 0:"%");}else if(n6x >= +"0.5"){D9I.O$r(4);var Y83=D9I.b63(45,10,15,19);K38=K38.toFixed(Y83) + "%";}else if(n6x >= 0.05){D9I.g33(2);var d6A=D9I.b63(18,16);D9I.O$r(0);var E5Y=D9I.v0q(86,1291);K38=K38.toFixed(d6A) + (E5Y > 845.57?"%":("t","t"));}else if(n6x >= 0.005){D9I.g33(130);var l62=D9I.v0q(1,10,7,5,5);K38=K38.toFixed(l62) + "%";}else {D9I.g33(58);var f23=D9I.v0q(9,23,10,1);D9I.g33(59);var v_w=D9I.b63(8322,133066,4,17);D9I.O$r(21);var X$2=D9I.b63(948,5,8);D9I.g33(67);var C4S=D9I.b63(50877,54240,16,11);K38=K38.toFixed(f23) + (v_w < "451.11" - 0?(X$2,C4S):"%");}if(T8X){D9I.O$r(0);K38=D9I.v0q(4158 <= (1746,9450)?"+":(4751,"94.95" - 0) <= 1148?(!1,0x24ba):7.09e+2,K38);}}return K38;};q17.ChartEngine.prototype.setComparison=function(f$3,k9J,u_i){var Q76,F7l,u8j,t$A;if(!k9J){k9J=this.chart;}if(typeof k9J == "string"){k9J=this.charts[k9J];}if(u_i || u_i === ""){q17.Comparison.initialPrice=u_i;}if(f$3 === !![]){Q76="per";Q76+="c";Q76+="e";Q76+="nt";if(k9J.isComparison){return;}f$3=Q76;}this.resetDynamicYAxis();F7l=k9J.panel.yAxis;u8j=F7l.priceFormatter == q17.Comparison.priceFormat;switch(f$3){case "relative":t$A="d";t$A+="at";t$A+="aSegment";this.setTransform(k9J,q17.Comparison.priceToRelative,q17.Comparison.relativeToPrice);if(u8j){F7l.priceFormatter=F7l.originalPriceFormatter?F7l.originalPriceFormatter.func:null;F7l.originalPriceFormatter=null;}F7l.whichSet=t$A;k9J.isComparison=!![];break;case "percent":this.setTransform(k9J,q17.Comparison.priceToPercent,q17.Comparison.percentToPrice);if(!u8j){F7l.originalPriceFormatter={func:F7l.priceFormatter};F7l.priceFormatter=q17.Comparison.priceFormat;}F7l.whichSet="dataSegment";k9J.isComparison=!!1;break;default:this.unsetTransform(k9J);if(u8j){F7l.priceFormatter=F7l.originalPriceFormatter?F7l.originalPriceFormatter.func:null;F7l.originalPriceFormatter=null;}F7l.whichSet="dataSet";k9J.isComparison=!!"";break;}};q17.ChartEngine.prototype.setChartScale=function(q$7){var b7k,d8x,X1q,N1y;b7k="lay";b7k+="o";b7k+="ut";d8x=this.chart;X1q={percent:!!"1",relative:!![]};if(!q$7){q$7="linear";}if(X1q[q$7]){this.setComparison(q$7,d8x,q17.Comparison.initialPrice);}else if(X1q[this.layout.chartScale]){this.setComparison(!1,d8x);}N1y=this.layout.chartScale !== q$7;this.layout.chartScale=q$7;if(d8x.canvas){this.draw();}if(N1y){this.changeOccurred(b7k);}};};Z2=U$z=>{var M0C=o1YMc;var i3N,p8i;i3N=typeof _CIQ !== "undefined"?_CIQ:U$z.CIQ;i3N.Share=i3N.Share || (function(){});i3N.Share.fullChart2PNG=function(R7f,p9w,M2$){if(!R7f || !R7f.chart){return;}if(typeof html2canvas === "undefined"){return P__(function(){M0C.Z7I();return f$E(R7f,p9w,M2$);});}p8i=html2canvas;f$E(R7f,p9w,M2$);};i3N.Share.createImage=function(K65,H6q,f9o){M0C.m_N();var v6T,E2o,k7l,L47,Q6H,v6Y,b2J,L4I,I0R,o2r,p9Q;v6T="i";v6T+="m";v6T+="g";E2o="ima";E2o+="g";E2o+="e";E2o+="/";k7l="obj";k7l+="e";k7l+="ct";L47=[].slice.call(arguments);f9o=L47.pop();if(H6q === null || typeof H6q != k7l){H6q={widthPX:L47[1],heightPX:L47[2],imageType:L47["3" >> 32]};}Q6H=H6q.widthPX;v6Y=H6q.heightPX;b2J=H6q.imageType;L4I=K65.chart.canvas.height;I0R=K65.chart.canvas.width;if(K65.chart.canvas.style.height){L4I=i3N.stripPX(K65.chart.canvas.style.height);I0R=i3N.stripPX(K65.chart.canvas.style.width);}if(Q6H && v6Y){L4I=v6Y;I0R=Q6H;}else if(v6Y){I0R=K65.chart.canvas.width * (L4I / K65.chart.canvas.height);}else if(Q6H){I0R=Q6H;L4I=K65.chart.canvas.height * (Q6H / K65.chart.canvas.width);}o2r=b2J?E2o + b2J:"image/png";p9Q=document.createElement(v6T);p9Q.onload=function(){i3N.Share.fullChart2PNG(K65,{image:this,width:I0R,height:L4I,hide:H6q.hide},function(g8J,E1l){M0C.m_N();if(g8J){M0C.O$r(0);console.warn(M0C.b63("Error producing canvas snapshot: ",g8J));}else {try{f9o(E1l.toDataURL(o2r));}catch(W6w){var O1B;O1B="Safari devices do not handle CORS enabled image";O1B+="s. Using the charts' canvas as a fallback.";console.warn(O1B);f9o(p9Q.src);}}});};p9Q.src=K65.chart.canvas.toDataURL(o2r);};i3N.Share.uploadImage=function(L7x,T_c,N5R,a$B){var p1$;if(!N5R){N5R={};}N5R.image=L7x;p1$=i3N.postAjax(T_c,JSON.stringify(N5R),function(c6s,v$E){if(c6s != 200){a$B(c6s,null);return;}a$B(null,v$E);});if(!p1$){a$B(0,null);}};i3N.Share.shareChart=function(n56,Z_M,D4y){i3N.Share.createImage(n56,{},function(p$a){var J9e,Z3J,p2e,O23,G6L,o1o,b6v;J9e="/upl";J9e+="o";J9e+="ad";J9e+="/";Z3J=i3N.uniqueID();p2e="https://share.chartiq.com";M0C.O$r(17);O23=M0C.b63(Z3J,J9e,p2e);if(Z_M){if(Z_M.host){p2e=Z_M.host;}if(Z_M.path){M0C.O$r(131);var R3v=M0C.v0q(13040,6503,6,11);M0C.g33(127);var W8n=M0C.b63(2249,2269,2269);M0C.g33(127);var q1o=M0C.b63(5028,157,314);O23=p2e + Z_M.path + ((604.41,R3v) >= (W8n,688.02)?"/":+"534.41" != q1o?("1.62e+3" - 0,!0):(!({}),+"679.02")) + Z3J;}}G6L=n56.getStartDateOffset();o1o={layout:n56.exportLayout(),drawings:n56.exportDrawings(),xOffset:G6L,startDate:n56.chart.dataSegment[G6L].Date,endDate:n56.chart.dataSegment[n56.chart.dataSegment.length - 1].Date,id:Z3J,symbol:n56.chart.symbol};b6v={id:Z3J,image:p$a,config:o1o};i3N.Share.uploadImage(p$a,O23,b6v,function(f3U,O0J){var h5G;M0C.Z7I();if(f3U !== null){h5G="error sha";h5G+="ring c";h5G+="hart: ";i3N.alert(h5G,f3U);}else {M0C.g33(0);D4y(M0C.b63(p2e,O0J));}});});};function z5$(l5Y){var X1F,v7w,m7w;X1F="f";X1F+="o";X1F+="nt-fami";X1F+="ly";if(!l5Y.style){return;}M0C.Z7I();v7w=getComputedStyle(l5Y);m7w=["alignment-baseline","dominant-baseline","fill","fill-opacity",X1F,"font-size","font-variant","font-weight","text-align","text-anchor"];m7w.forEach(function(D5p){M0C.Z7I();if(!l5Y.style[D5p] && v7w[D5p]){l5Y.style[D5p]=v7w[D5p];}});for(var f9M in l5Y.children){z5$(l5Y.children[f9M]);}}i3N.Share.saveChartLayout=async J77=>{var D9e,h5$,E0T,X6f,w83,w0N;var {chartSharing:X99}=J77.uiContext.config;if(!X99 || !X99.saveChartLayout){throw new Error("saveChartLayout not defined in config");}if(J77.chart.dataSegment[0] && J77.chart.dataSegment[0].DT){D9e=J77.chart.dataSegment["0" >> 0].DT;}else if(J77.chart.dataSet[0]){D9e=J77.chart.dataSet[0].DT;}if(!D9e){h5$="Unable to retriev";h5$+="e starting point of data set or segment";throw new Error(h5$);}J77.layout.range={padding:J77.preferences.whitespace,dtLeft:D9e,dtRight:J77.chart.dataSegment[J77.chart.dataSegment.length - 1].DT,periodicity:{period:J77.layout.periodicity,interval:J77.layout.interval,timeUnit:J77.layout.timeUnit}};E0T=J77.exportLayout({withSymbols:!!1});X6f=J77.exportDrawings();w83=J77.exportPreferences();w0N=`${J77.chart.symbol} Chart`;return X99.saveChartLayout(JSON.stringify({version:i3N.packageInfo.version,layout:E0T,drawings:X6f,preferences:w83,chartTitle:w0N}));};i3N.Share.extractShareID=i2d=>{var H93;H93=i2d.match(/([a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+)/);M0C.Z7I();return H93 && H93[1] || "";};i3N.Share.onClipboard=S0e=>{var I1t;I1t="pas";I1t+="te";window.addEventListener(I1t,async function(b$v){var J0C,C7Q,w8d;J0C="";if(window.clipboardData && window.clipboardData.getData){C7Q="T";C7Q+="e";C7Q+="x";C7Q+="t";J0C=window.clipboardData.getData(C7Q);}else if(b$v.clipboardData && b$v.clipboardData.getData){J0C=b$v.clipboardData.getData("text/plain");}M0C.m_N();w8d=i3N.Share.extractShareID(J0C);if(w8d){S0e(w8d);}});};i3N.Share.getClipboard=async ()=>{return new Promise(async p_E=>{var t6D;M0C.m_N();try{t6D=i3N.Share.extractShareID(await navigator.clipboard.readText());p_E(t6D);}catch(d2H){p_E("");}});};M0C.m_N();function f$E(A9u,V17,h4B){var y7T,H_Z,V8A,M0i,r4j,D6j,w1G,M1w,c5p,U2A,x6R;y7T="cq-contex";y7T+="t";if(!V17){V17={};}H_Z="ciq-no-share";V8A=A9u.uiContext && A9u.uiContext.topNode || A9u.container.ownerDocument.body;M0i=V8A.parentElement.closest(y7T);if(M0i){V8A=M0i;}if(V17.hide && V17.hide instanceof Array){r4j=",";r4j+=" ";D6j=V17.hide.join(r4j);w1G=V8A.querySelectorAll(D6j);for(var x07=0;x07 < w1G.length;x07++){w1G[x07].classList.add(H_Z);}}O$N(V8A,"add");A9u.draw();M1w=A9u.chart.container.getElementsByTagName("svg");c5p=[];U2A=0;function O$N(x46,p6t){var R3o,C_K;R3o="[inter";R3o+="acta";R3o+="ble]";C_K="shari";C_K+="ng";M0C.m_N();x46.classList[p6t](C_K);(x46.root || x46).querySelectorAll(R3o).forEach(function(u6e){M0C.Z7I();O$N(u6e,p6t);});}for(;U2A < M1w.length;U2A++){x6R=M1w[U2A];c5p.push(x6R.innerHTML);z5$(x6R);}p8i(A9u.chart.container,{allowTaint:!!0,foreignObjectRendering:!"1",logging:![],width:V17.width || null,height:V17.height || null,backgroundColor:V17.background || null,useCORS:!""}).then(function(e3f){if(h4B){h4B(null,V17.data?e3f.toDataURL("image/png"):e3f);}for(U2A=0;U2A < M1w.length;U2A++){M1w[U2A].innerHTML=c5p[U2A];}O$N(V8A,"remove");}).catch(function(M$g){if(h4B){h4B(M$g);}for(U2A=0;U2A < M1w.length;U2A++){M1w[U2A].innerHTML=c5p[U2A];}O$N(V8A,"remove");});}function f6R(){var j8U,N2G;if(i3N.Share.html2canvasLocation){return i3N.Share.html2canvasLocation;}j8U=document.getElementsByTagName("script");for(var Q$w=0;Q$w < j8U.length;Q$w++){N2G=j8U[Q$w];if(N2G.src && N2G.src.indexOf("share.js") > -+"1"){return N2G.src.replace(/standard\/share\.js/,"") + "thirdparty/";}}return "js/thirdparty/";}i3N.Share.loadChartFromID=async (z58,o4F)=>{return new Promise(async (u3L,u2l)=>{var x2k,o$X;if(!o4F){return u2l();}var {getChartLayout:N1V}=z58.uiContext.config.chartSharing;x2k=await N1V(o4F);o$X=JSON.parse(x2k);u3L(i3N.Share.loadChartFromLayout(z58,o$X));});};i3N.Share.loadChartFromLayout=async (Z_s,n3g)=>{return new Promise(async (M1$,J6W)=>{if(n3g.version.split(+"890.89" <= 502?!!"1":(3130,409.32) > (2280,363.17)?(7330,6852) != (690,73.75)?".":279.28:0x1717)[0] != i3N.packageInfo.version.split(("110" ^ 0,758.19) == 5155?(0xc66,"T"):".")[+"0"]){J6W(new Error("Version mismatch"));}M0C.m_N();Z_s.importPreferences(n3g.preferences);Z_s.importLayout(n3g.layout,{managePeriodicity:!![],preserveTicksAndCandleWidth:!!({}),cb:()=>{Z_s.importDrawings(n3g.drawings);Z_s.draw();M1$();}});});};function P__(R0e){var H9e;if(typeof html2canvas === "undefined"){H9e="html";H9e+="2canvas";H9e+=".min.js";if(typeof requirejs !== "undefined"){try{return requirejs(["html2canvas.min.js"],function(M80){p8i=M80;return R0e();});}catch(s5B){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}i3N.loadScript(f6R() + H9e,function(){p8i=html2canvas;return R0e();});}else {p8i=html2canvas;return R0e();}}};P0=W2Z=>{var e95=o1YMc;e95.Z7I();var e1s;e1s=typeof _CIQ !== "undefined"?_CIQ:W2Z.CIQ;e1s.ChartEngine.prototype.setRange=function(o1m,a_2){var S1j,y$E,F$_,k4i,a9L,s0h,u2n,g5P,N$Z,n17,I98,S36,H_6,j6s,A6X,h59,j$E,L5W,g4B,N_6,j1m,a3T,v$P,y7W,R2K,z$x,u4A,K7g,z4_,H6b,J6v,s_g,x71,n_n,E0o;S1j="st";S1j+="ri";S1j+="ng";if(e1s.isEmpty(o1m)){o1m={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments["2" - 0],chart:arguments[3]};a_2=arguments[4];}function U5_(q1E,M3s,t3y,T1c,c2A,S_Y){var Y0i,Q3N;Y0i=0;e95.O$r(2);Q3N=e95.b63(q1E,M3s);if(e1s.ChartEngine.isDailyInterval(t3y)){if(t3y == "month"){Y0i=Q3N / e1s.MONTH / T1c;}else if(t3y == "week"){Y0i=Q3N / e1s.WEEK / T1c;}else {Y0i=Q3N / e1s.DAY / T1c;}}else {if(!isNaN(t3y)){if(c2A == "millisecond"){e95.g33(132);Y0i=e95.b63(t3y,T1c,Q3N);}else if(c2A == "second"){Y0i=Q3N / e1s.SECOND / (T1c * t3y);}else {Y0i=Q3N / e1s.MINUTE / (T1c * t3y);}}}e95.m_N();return Math.round(Y0i);}if(this.staticRange){o1m.goIntoPast=o1m.goIntoFuture=!0;}y$E=2119564340;F$_=729795300;e95.O$r(3);k4i=e95.v0q("2",1);for(var c8B=1;e95.u7W(c8B.toString(),c8B.toString().length,40126) !== y$E;c8B++){if(!o1m.chart){o1m.chart=this.chart;}k4i+=2;}if(e95.u7W(k4i.toString(),k4i.toString().length,56510) !== F$_){if(~o1m.chart){o1m.chart=this.chart;}}if(typeof o1m.padding == "undefined"){o1m.padding=0;}a9L=!!0;s0h=o1m.chart;function Y8E(B42){if(B42 && I98 === 0){s0h.scroll=R2K;n17.setCandleWidth(z$x);n17.layout.interval=u4A;n17.layout.periodicity=K7g;n17.layout.timeUnit=z4_;if(a_2){a_2(B42);}return;}I98++;if(I98 > +"10"){console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");V0n();return;}V0n();}function V0n(W6$){var U33,O34,Z9q,Y5I,W51,x7C,K8U,e9D,S0d,S6N,p1k,Z84,w4T,r4T,X_W,i9n,p5B,T$n,X2b,z3w,C59,z98;U33="unde";U33+="fined";if(typeof W6$ == U33){W6$=null;}O34=0;Z9q=0;Y5I=new Date();W51=o1m.base;x7C=o1m.periodicity;K8U=n17.layout;if(o1m.goIntoFuture && (!s0h.masterData.length || u2n > s0h.masterData[s0h.masterData.length - +"1"].DT)){e9D=s0h.masterData.length?s0h.masterData.pop():{DT:u2n};S0d=n17.doCleanupGaps([e9D,{DT:g5P}],s0h,{cleanupGaps:"gap",noCleanupDates:!![]});n17.setMasterData(s0h.masterData.concat(S0d),s0h,{noCleanupDates:!""});n17.createDataSet(null,null,{appending:!0});}S6N=s0h.dataSet;p1k=S6N.length;if(!S6N || p1k === 0){n17.draw();if(a_2){a_2(W6$);}return;}if(W51 === "day" && x7C && x7C.interval === "day"){w4T=o1m.multiplier;O34=p1k < w4T?0:p1k - w4T;e95.g33(2);Z9q=e95.b63(p1k,1);}else if(W51 === "today" && S6N[p1k - 1].DT.getDate() < Y5I.getDate()){r4T=new Date(S6N[p1k - 1].DT.getTime());X_W=r4T.getTime();Z84=0;for(var Z8T=p1k - ("1" >> 64);Z8T >= 0;Z8T--){if(S6N[Z8T] && S6N[Z8T].DT.getDate() != r4T.getDate()){r4T=new Date(+S6N[Z8T + "1" * 1].DT);e95.g33(0);Z84=e95.v0q(Z8T,1);break;}}O34=Z84;e95.g33(2);Z9q=e95.v0q(p1k,1);}else {if(o1m.base != "all" && (u2n.getTime() >= S6N[0].DT.getTime() || o1m.goIntoPast)){i9n=1718835378;p5B=324425310;T$n=2;for(var Z6H=1;e95.D$s(Z6H.toString(),Z6H.toString().length,+"8998") !== i9n;Z6H++){O34=n17.tickFromDate(u2n,s0h,1,!"1");T$n+=2;}if(e95.D$s(T$n.toString(),T$n.toString().length,36372) !== p5B){O34=n17.tickFromDate(u2n,s0h,null,!![]);}}else {O34=0;}if(o1m.base != "all" && (g5P.getTime() <= S6N[p1k - 1].DT.getTime() || o1m.goIntoFuture)){Z9q=n17.tickFromDate(g5P,s0h);if(Z9q > p1k - 1){Z9q--;}}else {e95.O$r(2);Z9q=e95.b63(p1k,1);}}e95.O$r(21);X2b=e95.b63(Z9q,1,O34);if(X2b < 1){n17.draw();if(a_2){a_2(W6$);}return;}z3w=o1m.padding || 0;if(Z9q < p1k - 1){z3w=0;}C59=(s0h.width - z3w) / X2b;n17.setCandleWidth(C59,s0h);e95.g33(133);s0h.scroll=e95.b63(X2b,Z9q,1,p1k);n17.micropixels=1;for(var q6U in n17.panels){n17.calculateYAxisMargins(n17.panels[q6U].yAxis);}if(!o1m.dontSaveRangeToLayout){delete o1m.chart;delete K8U.setSpan;K8U.range=o1m;}else {delete K8U.range;}n17.draw();n17.changeOccurred("layout");if(!a9L){z98="p";z98+="eriod";z98+="icity";n17.dispatch(z98,{stx:n17,differentData:H6b,prevPeriodicity:{interval:u4A,periodicity:K7g,timeUnit:z4_}});}if(a_2){a_2(W6$);}}u2n=typeof o1m.dtLeft === S1j?new Date(o1m.dtLeft):o1m.dtLeft;g5P=new Date();e95.m_N();if(o1m.dtRight){g5P=typeof o1m.dtRight === "string"?new Date(o1m.dtRight):o1m.dtRight;}if(!u2n){N$Z=this.standardMarketIterator(g5P,null,s0h);u2n=N$Z.previous(s0h.maxTicks);if(!o1m.periodicity){a9L=!!1;}}s0h.inflectionPoint=u2n;this.layout.range={dtLeft:u2n,dtRight:g5P};n17=this;I98=0;if(this.quoteDriver){if(a9L){S36=this.layout.interval;j6s=this.layout.timeUnit;H_6=this.layout.periodicity;}else if(o1m.periodicity){A6X=e1s.cleanPeriodicity(o1m.periodicity.period,o1m.periodicity.interval,o1m.periodicity.timeUnit);S36=A6X.interval;j6s=A6X.timeUnit;H_6=A6X.period;}else {h59=g5P.getTime() - u2n.getTime();if(!this.autoPickCandleWidth.turnOn){j$E=this.staticRangePeriodicityMap;L5W=null;for(var K6C=0;K6C < j$E.length;K6C++){g4B=j$E[K6C];if(h59 / g4B.rangeInMS < 1.001){L5W=g4B;break;}}S36=L5W.interval;H_6=L5W.periodicity;j6s=L5W.timeUnit;}else {N_6=0;if(this.autoPickCandleWidth.candleWidth){N_6=this.autoPickCandleWidth.candleWidth;}else {N_6=this.chart.barsHaveWidth?+"5":2;}j1m=s0h.width / N_6;a3T=this.dynamicRangePeriodicityMap;S36=a3T[0].interval;H_6=1;for(var Q69=0;Q69 < a3T.length;Q69++){y7W=h59 / a3T[Q69].rangeInMS;if(y7W < j1m){if(a3T[Q69 - 1]){S36=a3T[Q69 - ("1" >> 64)].interval;j6s=a3T[Q69 - ("1" ^ 0)].timeUnit;e95.O$r(9);H_6=Math.ceil(e95.v0q(j1m,v$P));}else {S36=a3T[Q69].interval;j6s=a3T[Q69].timeUnit;H_6=1;}break;}v$P=y7W;}}}R2K=this.chart.scroll;z$x=this.layout.candleWidth;u4A=this.layout.interval;K7g=this.layout.periodicity;z4_=this.layout.timeUnit;this.chart.scroll=this.chart.maxTicks=U5_(g5P.getTime(),u2n.getTime(),S36,H_6,j6s,this.dontRoll);this.layout.candleWidth=this.chart.width / this.chart.maxTicks;H6b=this.needDifferentData({period:H_6,interval:S36,timeUnit:j6s});if(Object.keys(this.chart.endPoints).length && (this.chart.endPoints.begin > u2n || this.chart.endPoints.end < g5P)){H6b=!"";}if(o1m.useExistingData){H6b=![];}if(!this.chart.masterData || !this.chart.masterData.length || H6b || o1m.forceLoad){this.layout.interval=S36;this.layout.periodicity=H_6;this.layout.timeUnit=j6s;if(!this.layout.timeUnit){J6v="t";J6v+="ick";s_g="se";s_g+="c";s_g+="ond";if(e1s.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval == "second"){this.layout.timeUnit=s_g;}else if(this.layout.interval != J6v){this.layout.timeUnit="minute";}}x71={symbol:s0h.symbol,symbolObject:s0h.symbolObject,chart:s0h,nodraw:!![]};if(this.layout.interval == "tick"){x71.startDate=u2n;x71.endDate=g5P;}if(!this.displayInitialized){x71.initializeChart=!![];}n_n={symbol:s0h.symbol,symbolObject:s0h.symbolObject,interval:this.layout.interval};if((n_n.interval == "month" || n_n.interval == "week") && !this.dontRoll){n_n.interval="day";}E0o=Math.max(this.quoteDriver.getQuoteFeed(n_n).behavior.bufferSize + 50,200);N$Z=this.standardMarketIterator(u2n,null,s0h);x71.startDate=new Date(N$Z.previous(E0o).getTime());N$Z=this.standardMarketIterator(g5P,null,s0h);x71.endDate=new Date(N$Z.next(E0o).getTime());if(x71.endDate < Date.now()){this.isHistoricalModeSet=!!"1";}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(x71,Y8E);}else {if(this.layout.interval != S36 || this.layout.periodicity != H_6 || this.layout.timeUnit != j6s || !this.chart.dataSegment || !this.chart.dataSegment["0" - 0] || this.chart.dataSegment[0].DT != s0h.inflectionPoint){this.layout.interval=S36;this.layout.periodicity=H_6;this.layout.timeUnit=j6s;this.createDataSet();}Y8E();}}else {V0n();}};e1s.ChartEngine.prototype.setSpan=function(I2u,w9e){var z8F,Z3Q,b1Z,D9M,X_m,a1C,M5X,T3R,P$X,C2f,F1p,e48,E$c,Q6d,P8z,o4y,c0i,U3_,O5A,T3x;z8F="t";function G6M(g9l){e95.g33(3);g9l.setHours(e95.v0q("0",1));e95.g33(3);g9l.setMinutes(e95.b63("0",1));g9l.setSeconds(0);g9l.setMilliseconds(+"0");return g9l;}z8F+="o";z8F+="day";Z3Q=arguments[0];b1Z=arguments[+"1"];D9M=arguments[2];X_m=arguments[3];if(typeof I2u == "object"){Z3Q=I2u.period?I2u.period:I2u.multiplier?I2u.multiplier:1;b1Z=I2u.interval?I2u.interval:I2u.base?I2u.base:I2u.span?I2u.span:I2u.period;D9M=I2u.padding;X_m=I2u.chart;}else {I2u={period:Z3Q,interval:b1Z,padding:D9M,chart:X_m};w9e=arguments[5];}if(!X_m){X_m=this.chart;}a1C=X_m.market;b1Z=b1Z.toLowerCase();if(b1Z == "all"){I2u.dontSaveRangeToLayout=!!({});this.displayAll(I2u,w9e);return;}T3R=b1Z;P$X=1;if(b1Z == z8F){C2f="d";C2f+="a";C2f+="y";T3R=C2f;}else if(b1Z == "year"){T3R="month";P$X=12;}F1p=e1s.shallowClone(I2u);e48={begin:a1C.marketZoneNow(),interval:T3R,period:P$X};E$c=e48.begin;Q6d=e1s.Market.Symbology.isForexSymbol(X_m.symbol);if(b1Z === "ytd"){E$c=G6M(E$c);E$c.setMonth(0);e95.g33(2);E$c.setDate(e95.b63("1",0));}else if(b1Z === "month"){E$c=G6M(new Date());E$c.setMonth(E$c.getMonth() - Z3Q);}else if(b1Z === "year"){E$c=G6M(new Date());E$c.setFullYear(E$c.getFullYear() - Z3Q);}else if(b1Z === "week"){E$c=G6M(new Date());E$c.setDate(E$c.getDate() - Z3Q * 7);}else if(b1Z === "day" && Z3Q == 1 && a1C.isMarketDay()){P8z=E$c.getHours();o4y=E$c.getMinutes();c0i=E$c.getSeconds();U3_=E$c.getMilliseconds();M5X=a1C.newIterator(e48);E$c=M5X.previous();E$c.setHours(P8z,o4y,c0i,U3_);E$c=a1C._convertFromMarketTZ(E$c);}else if(b1Z === "today"){e48.begin=L3S(E$c,!!"1");M5X=a1C.newIterator(e48);if(a1C.isOpen() || a1C.getPreviousOpen().getDate() == E$c.getDate()){M5X.next();}E$c=M5X.previous();L3S(E$c);F1p.goIntoFuture=!![];F1p.dtRight=new Date(+E$c);F1p.dtRight.setDate(E$c.getDate() + 1);F1p.dtRight=a1C._convertFromMarketTZ(F1p.dtRight);if(!Q6d){E$c.setHours(M5X.market.zopen_hour);E$c.setMinutes(M5X.market.zopen_minute);E$c.setSeconds(0);}E$c=a1C._convertFromMarketTZ(E$c);}else {O5A="d";O5A+="a";O5A+="y";if(b1Z == O5A){e48.begin=L3S(E$c,!0);}M5X=a1C.newIterator(e48);if(Z3Q == 1){Z3Q++;}e95.O$r(26);E$c=M5X.previous(e95.b63(Z3Q,"1",1));if(b1Z == "day"){E$c=a1C._convertFromMarketTZ(L3S(E$c));}}F1p.dtLeft=E$c;if(F1p.maintainPeriodicity){F1p.periodicity={};F1p.periodicity.interval=this.layout.interval;F1p.periodicity.period=this.layout.periodicity;}X_m.spanLock=![];F1p.dontSaveRangeToLayout=!!({});T3x=this;function L3S(u65,X8M){e95.Z7I();var R1D;if(!Q6d){return u65;}R1D=7;if(X8M){u65.setHours(u65.getHours() + R1D);}else {u65.setHours(u65.getHours() - R1D);if(!a1C.isMarketDate(u65)){u65.setDate(u65.getDate() - 2);}}return u65;}this.setRange(F1p,function(I41){T3x.layout.setSpan=I2u;T3x.changeOccurred("layout");if(b1Z == "today"){X_m.spanLock=!!1;}if(w9e){w9e(I41);}});};e1s.ChartEngine.prototype.getSpanCandleWidth=function(Y2S){var V6f,k_i,u8N,W5B,k4M,l4g,G6I,o4n;V6f="d";V6f+="a";V6f+="y";k_i="mo";e95.Z7I();k_i+="n";k_i+="t";k_i+="h";if(!Y2S || !Y2S.base || !Y2S.multiplier){return;}u8N=parseFloat(Y2S.multiplier);W5B=Y2S.base;k4M=new Date();l4g=new Date();if(W5B == "year"){l4g.setFullYear(l4g.getFullYear() - u8N);}else if(W5B == k_i){l4g.setMonth(l4g.getMonth() - u8N);}else if(W5B == V6f){l4g.setDate(l4g.getDate() - u8N);}else if(W5B == "week"){l4g.setDate(l4g.getDate() - 7 * u8N);}else if(W5B == "YTD"){l4g.setMonth(0);l4g.setDate(1);}e95.O$r(121);var E8v=e95.v0q(4,17,24,984,13);e95.g33(134);var j$l=e95.b63(2,1,49,47,59);e95.O$r(17);var C_H=e95.v0q(37,17,6);e95.g33(0);var D3t=e95.v0q(9,15);G6I=(k4M.getTime() - l4g.getTime()) / E8v / j$l / C_H / D3t;e95.O$r(19);G6I=e95.v0q(7,5,G6I);o4n=this.chart.width / G6I;return o4n;};e1s.ChartEngine.prototype.displayAll=function(O3g,P8d){var w7E,Y0A,D8s,O0w;var {chart:K$E, layout:H7f}=this;w7E=[];function d1r(){var N8P;if(!K$E.masterData || !K$E.masterData.length){if(P8d){P8d("No data to display.");}return;}N8P=e1s.clone(O3g);e95.Z7I();N8P.dtLeft=K$E.endPoints.begin;N8P.dtRight=K$E.endPoints.end;N8P.periodicity={};N8P.periodicity.interval=H7f.interval;N8P.periodicity.period=H7f.periodicity;N8P.periodicity.timeUnit=H7f.timeUnit;Y0A.setRange(N8P,function(B_p){e95.Z7I();Y0A.layout.setSpan={base:O3g.base,multiplier:O3g.multiplier};Y0A.changeOccurred("layout");for(var q1U in Y0A.panels){Y0A.calculateYAxisMargins(Y0A.panels[q1U].yAxis);}if(w7E.length && !Y0A.drawingObjects.length){Y0A.importDrawings(w7E);}Y0A.draw();if(P8d){P8d(B_p);}});}if(O3g && O3g.chart){K$E=O3g.chart;}Y0A=this;if(!this.quoteDriver){d1r();return;}D8s=O3g.maintainPeriodicity?{period:H7f.periodicity,interval:H7f.interval,timeUnit:H7f.timeUnit}:{period:1,interval:"month",timeUnit:null};D8s=O3g.periodicity?O3g.periodicity:D8s;D8s=e1s.cleanPeriodicity(D8s.period,D8s.interval,D8s.timeUnit);O0w=this.needDifferentData(D8s);this.layout.periodicity=D8s.period;function c6o(W9r){e95.m_N();if(!W9r){Y0A.quoteDriver.loadAll(K$E,d1r);}}this.layout.interval=D8s.interval;this.layout.timeUnit=D8s.timeUnit;if(O3g.forceLoad || O0w){w7E=this.drawingObjects.map(b73=>{e95.m_N();return b73.serialize();});this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({nodraw:!![],symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!!"1",fetchMaximumBars:!![]},c6o);}else {if(K$E.moreAvailable || !K$E.upToDate){c6o();}else {this.createDataSet();d1r();}}};e1s.ChartEngine.prototype.drawWithRange=function(E4A){var {setSpan:I34, range:b4W}=this.layout;if(I34 && Object.keys(I34).length){this.setSpan(Object.assign({},I34,{forceLoad:![],useExistingData:!!"1"}));}else if(b4W && Object.keys(b4W).length){this.setRange(Object.assign({},b4W,{forceLoad:!1,useExistingData:!![]}));}else {this.draw(E4A);}};};S0=K0m=>{var n7e=o1YMc;var U$F,O1b;U$F="undef";U$F+="in";U$F+="ed";n7e.Z7I();O1b=typeof _CIQ !== U$F?_CIQ:K0m.CIQ;O1b.ChartEngine.prototype.importLayout=function(c4S,l1T){var i4g,b4C,a4s,n8S,d70,R2J,H0k,v86,n$Z,H2F,S0r,J3G,C37,v5Q,F_q,i0R,S0z,W35,o9U,P$N,l_v,v5O,a4h,B45,a0H,l0g,d6V,J_x,e73,O6D,Y6P,R8t,b74;if(!c4S){if(l1T.cb){l1T.cb();}return;}i4g=this;function M4q(){var T5H,w15;if(i4g.layout.studies){for(var g0g in i4g.layout.studies){T5H="se";T5H+="r";T5H+="i";T5H+="es";w15=i4g.layout.studies[g0g];if(!w15.inputs.Series || w15.inputs.Series === T5H)continue;O1b.getFn("Studies.replaceStudy")(this,w15.inputs.id,w15.type,w15.inputs,w15.outputs,w15.parameters,w15.panel);}}i4g.calculateYAxisPositions();n7e.Z7I();Z$h(i4g.panels);if(v86){v86();}}b4C=[];a4s=this.extendedHours && !this.extendedHours.filter && c4S.extended && !this.layout.extended;if(typeof l1T !== "object"){l1T={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments["2" * 1]};}n8S=this.layout;d70=O1b.shallowClone(n8S);function Z$h(F6E){var C9L;for(var z1l=+"0";z1l < b4C.length;z1l++){C9L=b4C[z1l];n5z(C9L,"yaxisLHS");n5z(C9L,"yaxisRHS");}n7e.Z7I();function i9M(W8X){n7e.m_N();return !!W8X;}function n5z(i_B,T3c){var I_G,z94,S79,p19;if(!i_B[T3c] || !i_B[T3c].length){return;}I_G=F6E[i_B.name];if(!I_G){return;}z94=I_G[T3c];S79=new Array(z94.length);n7e.Z7I();for(var P$s=0;P$s < z94.length;P$s++){p19=i_B[T3c].indexOf(z94[P$s].name);if(p19 > -1){S79[p19]=z94[P$s];}else {S79.push(z94[P$s]);}}if(S79.length){I_G[T3c]=S79.filter(i9M);}}i4g.chart.yAxis=i4g.chart.panel.yAxis;}R2J=l1T.managePeriodicity;H0k=l1T.cb;v86=l1T.seriesCB;n$Z=l1T.noDataLoad;H2F=l1T.preserveTicksAndCandleWidth;S0r=null;if(this.exportDrawings){S0r=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!!({});for(var W6V in n8S.studies){J3G=n8S.studies[W6V];O1b.getFn("Studies.removeStudy")(this,J3G);}this.overlays={};C37=O1b.shallowClone(this.panels);this.panels={};v5Q=O1b.clone(c4S);if(n8S.flipped){this.flipChart(n8S.flipped);}F_q=v5Q.panels;o9U=function(z4F,v2d){n7e.Z7I();return z4F.index < v2d.index?-1:1;};for(i0R in F_q){if(!(("index" in F_q[i0R]))){o9U=null;}S0z=F_q[i0R];S0z.name=i0R;b4C.push(S0z);}n8S.panels={};n7e.Z7I();P$N=null;if(b4C.length > 0){if(o9U){b4C.sort(o9U);}for(var J2w=0;J2w < b4C.length;++J2w){S0z=b4C[J2w];W35=S0z.yAxis?new O1b.ChartEngine.YAxis(S0z.yAxis):null;this.stackPanel(S0z.display,S0z.name,S0z.percent,S0z.chartName,W35);if(S0z.soloing){P$N=this.panels[S0z.name];}}}if(O1b.isEmpty(F_q)){this.stackPanel("chart","chart",1,"chart");}this.resizeCanvas();for(var W_F in C37){l_v=C37[W_F];v5O=this.panels[W_F];if(v5O){this.container.removeChild(v5O.holder);if(l_v.handle){this.container.removeChild(l_v.handle);}a4h={holder:!![],subholder:!![],display:!![],icons:!!({})};for(var e6K in a4h){v5O[e6K]=l_v[e6K];}this.configurePanelControls(v5O);if(l_v.chart.panel == l_v){l_v.chart.panel=v5O;}}else {this.privateDeletePanel(l_v);}}this.chart.panel=this.panels.chart;function w$3(s_C){var W60,p$1,C8e,k71,o01,M$B,t4i,Z8m;W60="la";W60+="y";W60+="out";if(S0r){i4g.importDrawings(S0r);}i4g.currentlyImporting=!!"";if(s_C){return;}k71=[];for(var n3a in i4g.chart.series){o01="s";o01+="t";o01+="ud";o01+="y";if(!i4g.removeSeries)break;C8e=i4g.chart.series[n3a];if(C8e.parameters.bucket == o01){p$1=!"";i4g.removeSeries(C8e);k71.push(C8e);}}for(var b3E=0;b3E < k71.length;b3E++){M$B="addSer";M$B+="ie";M$B+="s";t4i="addEven";t4i+="t";C8e=k71[b3E];Z8m=C8e.parameters.isEvent?t4i:M$B;i4g[Z8m](C8e.id,C8e.parameters,O_g);}if(!p$1){i4g.draw();}if(n8S.crosshair){i4g.centerCrosshairs();i4g.doDisplayCrosshairs();}function O_g(){i4g.createDataSet();n7e.m_N();Z$h(i4g.panels);i4g.calculateYAxisPositions();i4g.calculateYAxisMargins(i4g.chart.yAxis);i4g.draw();}i4g.updateListeners("layout");i4g.changeOccurred(W60);}Z$h(this.panels);Object.assign(n8S,Object.assign(O1b.clone(v5Q),{studies:{}}));n8S.periodicity=d70.periodicity;n8S.interval=d70.interval;n8S.timeUnit=d70.timeUnit;n8S.setSpan=d70.setSpan;n8S.range=d70.range;if(H2F){n8S.candleWidth=d70.candleWidth;}else {if(!n8S.candleWidth){n8S.candleWidth=+"8";}}this.setCandleWidth(n8S.candleWidth);n8S.headsUp=O1b.clone(n8S.headsUp);B45=O1b.clone(v5Q.studies);for(var d7V in B45){a0H=B45[d7V];l0g=O1b.getFn("Studies.addStudy")(this,a0H.type,a0H.inputs,a0H.outputs,a0H.parameters,a0H.panel);if(!l0g)continue;if(a0H.disabled){l0g.toggleDisabledState(this);}if(a0H.signalData){l0g.signalData=a0H.signalData;d6V=this.panels[l0g.panel];if(this.checkForEmptyPanel(d6V,!!({}),l0g)){d6V.hidden=!!({});d6V.percent=0;}}}if(this.extendedHours){this.extendedHours.prepare(n8S.extended,n8S.marketSessions);}if(typeof n8S.chartType == "undefined"){n8S.chartType="line";}this.setMainSeriesRenderer();if(P$N){this.panelSolo(P$N);}this.adjustPanelPositions();Z$h(this.panels);this.storePanels();if(!n$Z){if(v5Q.symbols && v5Q.symbols.length){J_x={chart:this.chart};if(!H2F && R2J && v5Q.range && Object.keys(v5Q.range).length){J_x.range=v5Q.range;}else if(!H2F && R2J && v5Q.setSpan && Object.keys(v5Q.setSpan).length){J_x.span=v5Q.setSpan;}else if(R2J && v5Q.interval){J_x.periodicity={interval:v5Q.interval,period:v5Q.periodicity,timeUnit:v5Q.timeUnit};}else {J_x.periodicity={interval:d70.interval,period:d70.periodicity,timeUnit:d70.timeUnit};}e73=v5Q.symbols[0].symbolObject || v5Q.symbols["0" - 0].symbol;this.loadChart(e73,J_x,function(n$b){var u9O,W6K,n_3,Y$u;if(!n$b){for(var J2R,Z2z=1;Z2z < v5Q.symbols.length;++Z2z){if(!i4g.addSeries)break;J2R=v5Q.symbols[Z2z];if(!J2R.parameters){J2R.parameters={};}u9O=O1b.clone(J2R.parameters);if(this.panels[u9O.panel]){W6K=u9O.isEvent?"addEvent":"addSeries";i4g[W6K](J2R.id,u9O,M4q);}else {n_3="\" could not be importe";n_3+="d due to a missing corr";n_3+="e";n_3+="sponding panel \"";Y$u="Wa";Y$u+="rning: Serie";Y$u+="s ";Y$u+="\"";console.warn(Y$u + J2R.id + n_3 + u9O.panel + (801 != +"4254"?4160 <= (73.12,"3810" * 1)?("k","X"):(7517,"2600" >> 32) === (913.7,3676)?+"0x5ee":'"':(0x1dc1,0xe53)));}}if(v5Q.chartScale){i4g.setChartScale(v5Q.chartScale);}}w$3(n$b);if(H0k){H0k.apply(null,arguments);}});return;}if(R2J){if(!H2F && this.setRange){O6D=v5Q.range;if(O6D && Object.keys(O6D).length && this.chart.symbol){this.setRange(O6D,function(){w$3();n7e.m_N();if(H0k){H0k();}});return;}else if(v5Q.setSpan && Object.keys(v5Q.setSpan).length && this.chart.symbol){this.setSpan(v5Q.setSpan,function(){w$3();if(H0k){H0k();}});return;}}Y6P=v5Q.interval;R8t=v5Q.periodicity;b74=v5Q.timeUnit;if(isNaN(R8t)){R8t=1;}if(!Y6P){Y6P="day";}this.setPeriodicity({period:R8t,interval:Y6P,timeUnit:b74,getDifferentData:a4s},function(){w$3();n7e.m_N();if(H0k){H0k();}});return;}}if(R2J){n8S.periodicity=v5Q.periodicity;n8S.interval=v5Q.interval;n8S.timeUnit=v5Q.timeUnit;n8S.setSpan=v5Q.setSpan;}this.createDataSet();if(!H2F){this.home();}w$3();if(H0k){H0k();}};O1b.ChartEngine.prototype.exportLayout=function(K2a){var a77,w21,q56,P7B,R4m,O61;a77={};for(var c5R in this.layout){if(c5R != "studies" && c5R != "panels" && c5R != "drawing"){a77[c5R]=O1b.clone(this.layout[c5R]);}else if(c5R == "studies"){a77.studies={};}else if(c5R == "panels"){a77.panels={};}}w21=0;for(var d2X in this.panels){q56=this.panels[d2X];if(q56.exportable === ![])continue;P7B=a77.panels[d2X]={};P7B.percent=q56.percent;P7B.display=q56.display;P7B.chartName=q56.chart.name;P7B.soloing=q56.soloing;P7B.index=w21++;P7B.yAxis={name:q56.yAxis.name,position:q56.yAxis.position};if(q56.yaxisLHS){P7B.yaxisLHS=B4O(q56.yaxisLHS);}if(q56.yaxisRHS){P7B.yaxisRHS=B4O(q56.yaxisRHS);}}function B4O(O9o){n7e.m_N();var F2D;F2D=[];for(var m6E=+"0";m6E < O9o.length;m6E++){F2D.push(O9o[m6E].name);}return F2D;}for(var K6w in this.layout.studies){R4m=a77.studies[K6w]={};O61=this.layout.studies[K6w];R4m.type=O61.type;R4m.inputs=O1b.clone(O61.inputs);R4m.outputs=O1b.clone(O61.outputs);R4m.panel=O61.panel;R4m.parameters=O1b.clone(O61.parameters);R4m.disabled=O61.disabled;if(O61.signalData){if(O61.signalData.cloneForExport){R4m.signalData=O61.signalData.cloneForExport();}else {R4m.signalData=O1b.clone(O61.signalData);}}}if(K2a){a77.symbols=this.getSymbols({"include-parameters":!!({}),"exclude-studies":!!"1","exclude-generated":!![],"exclude-nostore":!""});if(a77.symbols.length && a77.symbols["0" ^ 0].symbolObject && a77.symbols[0].symbolObject.static){delete a77.symbols[0].symbolObject.static;}}else {delete a77.symbols;}return a77;};O1b.ChartEngine.prototype.importPreferences=function(U1A){O1b.extend(this.preferences,U1A);if(U1A.timeZone){this.setTimeZone(this.dataZone,U1A.timeZone);}if(U1A.language && O1b.I18N){if(this.uiContext && this.uiContext.config.setHtmlLang){document.documentElement.setAttribute("lang",U1A.language);}O1b.I18N.localize(this,U1A.language);}this.changeOccurred("preferences");};O1b.ChartEngine.prototype.exportPreferences=function(){return this.preferences;};};X1=p0T=>{var h9b=o1YMc;var a3X,V1W,G_R,D5N,f9R,o$M,l4e,L6j,o0i,V_K,h2_,j_6,u7K,x$_,W6L,s2J;a3X="#e9";a3X+="088c";V1W="fie";V1W+="ld";G_R="#b";G_R+="82c0c";D5N="0 ";D5N+="to m";D5N+="ax";f9R="Vol";f9R+="um";f9R+="e Chart";o$M="Ex";o$M+="pone";o$M+="ntial";l4e="Tri";l4e+="a";l4e+="ngul";l4e+="ar";L6j="E";L6j+="x";L6j+="ponen";L6j+="tial";o0i="well";o0i+="es wilder";V_K="s";V_K+="imp";V_K+="le";h2_="v";h2_+="dm";h2_+="a";j_6="e";j_6+="m";j_6+="a";u7K="undefin";u7K+="ed";x$_=typeof _CIQ !== u7K?_CIQ:p0T.CIQ;W6L=typeof _timezoneJS !== "undefined"?_timezoneJS:p0T.timezoneJS;if(x$_.ChartEngine){x$_.ChartEngine.prototype.rightClickOverlay=function(i6Y,V0P){var P6S;if(this.runPrepend("rightClickOverlay",arguments)){return;}P6S=this.overlays[i6Y];if(P6S.editFunction){P6S.editFunction(V0P);}else {this.removeOverlay(i6Y);}this.runAppend("rightClickOverlay",arguments);};x$_.ChartEngine.prototype.addOverlay=function(c0l){var c$I,D6D;c$I="ad";c$I+="dOve";c$I+="rlay";D6D="ad";D6D+="dOverlay";if(this.runPrepend(D6D,arguments)){return;}this.overlays[c0l.name]=c0l;this.runAppend(c$I,arguments);};x$_.ChartEngine.prototype.removeOverlay=function(s0O){var P1W,b6u,w3Y,X6z,x7g,i9H,c7x,z6j,y8D;if(this.runPrepend("removeOverlay",arguments)){return;}P1W=this.overlays[s0O];if(P1W){for(var z2G in this.overlays){b6u=this.overlays[z2G];w3Y=["Field"];if(x$_.Studies){w3Y=x$_.Studies.getFieldInputs(b6u);}for(var o5i=0;o5i < w3Y.length;o5i++){X6z=b6u.inputs[w3Y[o5i]];x7g=P1W.inputs.Series;if(x7g && x7g !== "series"){h9b.g33(17);X6z=X6z.replace(h9b.b63((944.75,177.68) !== (7550,"3450" << 32)?("7650" << 32,89.98) > (7430,247.02)?"L":"]":(6.34e+2,1.66e+3),x7g," ["),"");}if((X6z in P1W.outputMap)){this.removeOverlay(b6u.name);}}}this.cleanupRemovedStudy(P1W);i9H=this.panels[P1W.panel];delete this.overlays[s0O];this.checkForEmptyPanel(P1W.panel);}if(!this.currentlyImporting){c7x=-2052796539;h9b.g33(2);z6j=h9b.v0q("385586891",0);y8D=+"2";for(var E0R=1;h9b.D$s(E0R.toString(),E0R.toString().length,"4987" | 67) !== c7x;E0R++){this.displaySticky();this.createDataSet();y8D+=2;}if(h9b.D$s(y8D.toString(),y8D.toString().length,18351) !== z6j){this.displaySticky();this.createDataSet();}this.changeOccurred("layout");}this.resetDynamicYAxis();this.runAppend("removeOverlay",arguments);};x$_.ChartEngine.prototype.cleanupRemovedStudy=function(z1V){if(!z1V){return;}if(z1V.study.removeFN){z1V.study.removeFN(this,z1V);}for(var n83 in this.plugins){if(n83.indexOf((644.25 != ("2185" | 9)?"{":![]) + z1V.id + ((9050,49.97) == "942.07" * 1?(!1,"568.76" * 1):("8650" | 10) >= (+"453",7890)?"}":(+"63",+"613.28") != 9500?!!1:(3.73e+3,"B"))) > -1){delete this.plugins[n83];}}if(z1V.removeSignals){z1V.removeSignals();}for(var K4v in z1V.outputMap){this.getMarkerArray("field",K4v).forEach(z2Q=>{return z2Q.remove();});}if(this.layout.studies){delete this.layout.studies[z1V.name];}this.chart.state.studies.sorted=null;delete this.overlays[z1V.name];var {sd:a0I}=this.repositioningAnchorSelector || ({});if(a0I && a0I === z1V){this.repositioningAnchorSelector=null;var {anchorHandles:A0m}=this.controls;if(A0m && A0m[z1V.uniqueId]){A0m[z1V.uniqueId].highlighted=!!0;x$_.Studies.displayAnchorHandleAndLine(this,z1V,this.chart.dataSegment);}}if(x$_.Studies){x$_.Studies.removeStudySymbols(z1V,this);}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};x$_.ChartEngine.prototype.getStudies=function(K26){var B7L,O$J;var {studies:M16}=this.layout;B7L=[];h9b.Z7I();if(M16){for(var i4a in M16){O$J=M16[i4a];if(O$J.name === K26.name || O$J.type === K26.type){B7L.push(O$J);}else {var {outputMap:e4J}=O$J;if(e4J && e4J[K26.output]){B7L.push(O$J);}}}}return B7L;};}x$_.Studies=x$_.Studies || (function(){});x$_.Studies.DEFAULT_INPUTS={Period:14};x$_.Studies.DEFAULT_OUTPUTS={Result:"auto"};x$_.Studies.impliedVolatilityAvailable=![];x$_.Studies.useTranslationDelimiter=!!"1";x$_.Studies.sortForProcessing=Z$Y=>{var q96,l84;h9b.m_N();q96=[];l84=Z$Y.layout.studies;if(l84){u6r(Object.values(l84),q96);}function u6r(n$M,A59){h9b.m_N();n$M.forEach(a9y=>{h9b.Z7I();var T5q;if(A59.indexOf(a9y) == -("1" * 1)){T5q=a9y.getDependents(Z$Y);if(T5q.length){u6r(T5q,A59);}A59.unshift(a9y);}});}return q96;};s2J=new RegExp("^(.{1,100}) \\[(.{1,20})\\]$");x$_.Studies.getQuoteFieldValue=function(L38,Y9K,J$d = "Close"){var p53,W$E;if(!L38 || !Y9K){return null;}p53=s2J.exec(Y9K);if(p53){J$d=p53[1].replace(/\u200c/g,"");Y9K=p53[+"2"];}h9b.m_N();W$E=null;if(typeof L38[Y9K] === "number"){W$E=L38[Y9K];}else if(L38[Y9K] && typeof L38[Y9K] === "object"){W$E=L38[Y9K][J$d];}if(!W$E && W$E !== 0){return null;}return W$E;};x$_.Studies.StudyDescriptor=function(e66,b9p,Q2W,K4L,p6V,o0k){var O6j;this.name=e66;this.disabled=!({});this.type=b9p;this.panel=Q2W;this.inputs=K4L;this.outputs=p6V;this.parameters=o0k;this.outputMap={};this.min=null;this.max=null;this.startFrom=0;h9b.Z7I();this.subField="Close";O6j=x$_.Studies.studyLibrary[b9p];if(!O6j){O6j={};if(Q2W == "chart" || !Q2W && o0k && o0k.chartName == "chart"){this.overlay=!0;}}if(typeof O6j.inputs == "undefined"){O6j.inputs=x$_.clone(x$_.Studies.DEFAULT_INPUTS);}if(typeof O6j.outputs == "undefined"){O6j.outputs=x$_.clone(x$_.Studies.DEFAULT_OUTPUTS);}this.study=O6j;this.libraryEntry=O6j;};x$_.Studies.StudyDescriptor.prototype.toggleDisabledState=function(J7a){var x26,I7A,a6x,O5x;x26="sh";x26+="ow";var {disabled:d03, study:t37, signalData:E_I}=this;var {chart:R49}=J7a;this.disabled=d03=!d03;if(!d03){h9b.O$r(46);this.startFrom=h9b.v0q(32,"0");this.error=null;if(t37 && t37.calculateFN){t37.calculateFN(J7a,this);}if(this.flagSignals){this.flagSignals();}}else if(R49.customChart && R49.customChart.owner === this.name){t37.calculateFN(J7a,this);}if(E_I){E_I[d03?"hide":x26]();}I7A=-+"1745452586";h9b.g33(1);a6x=-h9b.b63(3,"348545031");O5x=2;for(var l5X=1;h9b.u7W(l5X.toString(),l5X.toString().length,90146) !== I7A;l5X++){J7a.changeOccurred("");J7a.draw();O5x+=2;}if(h9b.D$s(O5x.toString(),O5x.toString().length,66465) !== a6x){J7a.changeOccurred("layout");J7a.draw();}};x$_.Studies.StudyDescriptor.prototype.getYAxis=function(C6R){var m3O,e1u,E8y;m3O=this.yAxis;if(this.parameters){e1u=this.parameters.yAxis?this.parameters.yAxis.name:this.parameters.yaxisDisplayValue;}if(!m3O){E8y=C6R.panels[this.panel];if(E8y){m3O=C6R.getYAxisByName(E8y,e1u) || C6R.getYAxisByName(E8y,this.name) || E8y.yAxis;}}if(!m3O){m3O=C6R.getYAxisByName(C6R.chart.panel,e1u) || C6R.chart.panel.yAxis;}return m3O;};x$_.Studies.StudyDescriptor.prototype.getContext=function(j2o){h9b.m_N();return j2o.chart.context;};x$_.Studies.StudyDescriptor.prototype.getDependents=function(X8j,p0K){var v_R,h$0,x5F,l9V,s22;v_R=[];for(var I8n in X8j.layout.studies){h$0=X8j.layout.studies[I8n];if(h$0 == this)continue;x5F=x$_.Studies.getFieldInputs(h$0);for(var F3O=0;F3O < x5F.length;F3O++){l9V=h$0.inputs[x5F[F3O]].toLowerCase().replace(/\u200c/g,"");s22=this.name.toLowerCase().replace(/\u200c/g,"");if(l9V.includes(s22)){if(p0K && h$0.parameters && h$0.parameters.panelName)continue;v_R.push(h$0);v_R=v_R.concat(h$0.getDependents(X8j,p0K));break;}}}return v_R;};x$_.Studies.StudyDescriptor.prototype.undraggable=function(t3j){var N9d;if(this.signalData){return !"";}N9d=this.study.attributes;if(N9d){if(N9d.panelName && N9d.panelName.hidden){return !!"1";}if(N9d.yaxisDisplayValue && N9d.yaxisDisplayValue.hidden){return !!"1";}}return !"1";};x$_.Studies.StudyDescriptor.prototype.appendFutureTicks=function(a6k,Z3q){h9b.Z7I();var k7T,Z8n,c$S,b3h;k7T=a6k.chart.scrubbed;if(!k7T.length){return;}Z8n=a6k.standardMarketIterator(k7T[k7T.length - 1].DT);for(c$S=Z3q.length - 1;c$S >= 0;c$S--){b3h=Z3q[c$S];for(var I6T in b3h){if(b3h[I6T] || b3h[I6T] === "0" * 1){c$S=-1;break;}}if(c$S == -1)break;Z3q.pop();}for(c$S=0;c$S < Z3q.length;c$S++){b3h=Z3q[c$S];if(!b3h.DT){b3h.DT=Z8n.next();}if(!b3h.displayDate){a6k.setDisplayDate(b3h);}b3h.futureTick=!!"1";k7T.push(b3h);}};x$_.Studies.generateID=function(M_7,k0Q,Q1c,G_V,c53){var s7e,I5k,S5B,I_u,F8d,q3d,F01,p9R,E3l,A2j;s7e=x$_.Studies.studyLibrary[k0Q];h9b.Z7I();I5k=c53 || k0Q;if(x$_.Studies.useTranslationDelimiter){h9b.g33(17);I5k=h9b.b63((5966,7420) == ("6300" - 0,"2910" - 0)?3.83e+3:"\u200c",I5k,(5200,9390) >= ("1080" * 1,92)?"\u200c":527.13 === (5945,"4590" << 64)?6.69e+3:(9220,841.51) == 4216?9.63e+3:5.00e+0);}S5B=I5k;if(s7e){if(s7e.customRemoval){return S5B;}}if(!x$_.isEmpty(Q1c)){I_u=!![];for(var b7T in Q1c){F8d="s";F8d+="eri";F8d+="e";F8d+="s";q3d="P";q3d+="r";q3d+="imary";F01="f";F01+="ie";F01+="l";F01+="d";p9R="d";p9R+="ispla";p9R+="y";if(["id",p9R,"Shading","Anchor Selector"].includes(b7T)){continue;}E3l=Q1c[b7T];if(E3l == F01)continue;if(b7T == "Series" && (E3l == q3d || E3l == F8d))continue;E3l=E3l.toString();if(x$_.Studies.prettify[E3l] !== undefined){E3l=x$_.Studies.prettify[E3l];}if(I_u){I_u=![];S5B+=" (";}else {if(E3l){S5B+=",";}}S5B+=E3l;}if(!I_u){S5B+=6816 === (7062,5090)?"G":")";}}if(G_V === S5B || G_V && G_V.indexOf(S5B + (870.29 >= 785.44?"-":![])) === 0){return G_V;}if(M_7.layout.studies && M_7.layout.studies[S5B]){for(var O2p="2" - 0;O2p < 50;O2p++){h9b.g33(17);A2j=h9b.v0q(O2p,(8813,1070) == 1140?0x985:(8600,223) <= 487.31?"-":(107.14,9100) === 142.12?+"0x267f":397.29,S5B);if(!M_7.layout.studies[A2j]){S5B=A2j;break;}}}return S5B;};x$_.Studies.DialogHelper=function(m3q){var p1n,H_v,h5g,d3Y,D3Q,n_G,g6P,u4r,d4w,I5W,L$v,b2W,p4V,q6C,I3T,Q7I,B6c,a1P,d1J,x7t,b4_,w_N,Y7E,h3d,s8n,V7p,r78,Y4y,z67,a1a,y58,c3u,Z8p,E6Q,N3E,t6N,G0n,p4h,G63,R5H,M8t,t1E,F$f,D74,s2j,s_H,d26,i3v,k5V,C26,q6w,R8E,R7X,Y7r;p1n=this.stx=m3q.stx;H_v=this.sd=m3q.sd;this.name=H_v?H_v.type:m3q.name;this.signal=1;this.inputs=[];this.outputs=[];this.parameters=[];function p3a(Y1I,j7N){var g1a;h9b.Z7I();g1a=this;if(!g1a.attributes[Y1I]){g1a.attributes[Y1I]={};}if(j7N){g1a.attributes[Y1I].hidden=!!1;}}h5g=this.libraryEntry=H_v?H_v.study:x$_.Studies.studyLibrary[m3q.name];if(typeof h5g.inputs == "undefined"){h5g.inputs=x$_.clone(x$_.Studies.DEFAULT_INPUTS);}if(typeof h5g.outputs == "undefined"){h5g.outputs=x$_.clone(x$_.Studies.DEFAULT_OUTPUTS);}d3Y=H_v && p1n.panels[H_v.panel] || p1n.chart.panel;D3Q=d3Y.chart;this.title=p1n.translateIf(h5g.name);this.attributes=x$_.clone(h5g.attributes);if(!this.attributes){this.attributes={};}for(var O7H in this.attributes){n_G=this.attributes[O7H];for(var t0U in n_G){if(typeof n_G[t0U] == "function"){n_G[t0U]=n_G[t0U].call(H_v || h5g);}}}g6P=[];u4r=p1n.layout.studies;d4w=[];if(H_v){d4w=Array.prototype.concat(H_v,H_v.getDependents(p1n));}for(var N6m in u4r){if(u4r[N6m].signalData)continue;if(d4w.indexOf(u4r[N6m]) > -1)continue;for(var Q_T in u4r[N6m].outputMap){I5W="s";I5W+="eri";I5W+="es";L$v=x$_.Studies.useTranslationDelimiter?"\u200c":"";if(u4r[N6m].inputs.Series && u4r[N6m].inputs.Series !== I5W){h9b.O$r(0);Q_T=`${L$v}${Q_T}${L$v}${h9b.v0q(" ","[")}${u4r[N6m].inputs.Series}]`;}g6P.push(Q_T);}}for(var x4w in h5g.inputs){b2W={};this.inputs.push(b2W);b2W.name=x4w;b2W.heading=p1n.translateIf(x4w);p4V=h5g.inputs[x4w];if(H_v && H_v.inputs && typeof H_v.inputs[x4w] != "undefined" && H_v.inputs[x4w] !== null){b2W.value=H_v.inputs[x4w];}else {b2W.value=h5g.inputs[x4w];}b2W.defaultInput=h5g.inputs[x4w];if(!this.attributes[x4w]){this.attributes[x4w]=x$_.Studies.inputAttributeDefaultGenerator(b2W.defaultInput);}if(p4V.constructor == Number){q6C="n";q6C+="umb";q6C+="er";b2W.type=q6C;}else if(p4V.constructor == String){I3T="f";I3T+="i";I3T+="eld";Q7I=x$_.Studies.movingAverageHelper(p1n,b2W.defaultInput);if(Q7I){B6c="opti";B6c+="ons";a1P="s";a1P+="el";a1P+="ect";b2W.type=a1P;b2W.defaultInput=Q7I;d1J=x$_.Studies.movingAverageHelper(p1n,b2W.value);if(!d1J){d1J=b2W.value;}b2W.value=d1J;b2W.options=x$_.Studies.movingAverageHelper(p1n,B6c);}else if(p4V == I3T){x7t="fie";x7t+="ld";b4_="h";b4_+="lc/3";w_N="h";w_N+="l/";w_N+="2";Y7E="L";Y7E+="o";Y7E+="w";h3d=p1n.chart.series;s8n=[];for(var M2A in h3d){var {parameters:e7a}=h3d[M2A];if(e7a && e7a.isComparison){s8n.push(M2A);}}b2W.type="select";b2W.options={};V7p=["Open","High",Y7E,"Close",w_N,b4_,"hlcc/4","ohlc/4",D3Q.defaultPlotField].concat(g6P,s8n);if(p1n.layout.adj){h9b.g33(1);V7p.splice(+"4",h9b.v0q(0,"0"),"Adj_Close");}for(var G7R=0;G7R < V7p.length;G7R++){r78=V7p[G7R];b2W.options[r78]=p1n.translateIf(r78);}if(b2W.value == "field"){b2W.value="Close";}if(b2W.defaultInput == x7t){Y4y="C";Y4y+="lo";Y4y+="se";b2W.defaultInput=Y4y;}}else if(p4V == "series"){z67="s";z67+="e";z67+="lect";a1a="fiel";a1a+="d";y58="ser";y58+="i";y58+="es";b2W.options=Object.keys(p1n.chart.series).reduce((E7S,k7E)=>{h9b.m_N();var v97;var {display:G64, parameters:O3a}=p1n.chart.series[k7E];v97=(O3a || ({})).symbol || k7E;return {...E7S,[v97]:G64 || k7E};},{Primary:"Primary"});if(!b2W.value || b2W.value === y58 || b2W.value === a1a){b2W.value="Primary";}b2W.type=z67;if(b2W.defaultInput == "field"){c3u="Pr";c3u+="imar";c3u+="y";b2W.defaultInput=c3u;}}else {Z8p="te";Z8p+="xt";b2W.type=Z8p;if(this.attributes[x4w].placeholder == "yyyy-mm-dd"){b2W.type="date";}else if(this.attributes[x4w].placeholder == "hh:mm:ss"){b2W.type="time";}}}else if(p4V.constructor == Boolean){b2W.type="checkbox";if(b2W.value === !0 || b2W.value == "true" || b2W.value == "on"){b2W.value=!0;}}else if(p4V.constructor == Array){b2W.type="select";b2W.options={};for(var K5E=0;K5E < p4V.length;K5E++){b2W.options[p4V[K5E]]=p1n.translateIf(p4V[K5E]);}if(b2W.value.constructor == Array){b2W.value=b2W.value[0];}if(this.attributes[x4w].defaultSelected){b2W.defaultInput=this.attributes[x4w].defaultSelected;}else {b2W.defaultInput=p4V[0];}}}this.dateTimeInputs=[];for(var H4V=0;H4V < this.inputs.length;H4V++){E6Q="da";E6Q+="t";E6Q+="e";N3E=this.inputs[H4V];if(N3E.type == E6Q){t6N=" D";t6N+="at";t6N+="e";G0n=N3E.name.substring(0,N3E.name.indexOf(t6N));for(var Q7x=0;Q7x < this.inputs.length;Q7x++){p4h=this.inputs[Q7x];if(p4h.type == "time"){if(p4h.name == G0n + " Time"){this.dateTimeInputs.push(G0n);break;}}}}}this.adjustInputTimesForDisplayZone();for(var x_R in h5g.outputs){G63={name:x_R,heading:p1n.translateIf(x_R)};G63.color=G63.defaultOutput=h5g.outputs[x_R];if(H_v && H_v.outputs && H_v.outputs[x_R]){G63.color=H_v.outputs[x_R];}if(G63.color == "auto"){G63.color=p1n.defaultColor;G63.isAuto=!"";}this.outputs.push(G63);}R5H=H_v?H_v.parameters:null;if(h5g.parameters){M8t=542063292;t1E=94275193;F$f=2;for(var S1T=+"1";h9b.D$s(S1T.toString(),S1T.toString().length,"95699" - 0) !== M8t;S1T++){D74=h5g.parameters.init;F$f+=2;}if(h9b.u7W(F$f.toString(),F$f.toString().length,58223) !== t1E){D74=h5g.parameters.init;}if(D74){if(D74.studyOverZonesEnabled !== undefined){s2j={name:"studyOverZones",heading:p1n.translateIf("Show Zones"),defaultValue:D74.studyOverZonesEnabled,value:D74.studyOverZonesEnabled};if(R5H && (R5H.studyOverZonesEnabled || R5H.studyOverZonesEnabled === !({}))){s2j.value=R5H.studyOverZonesEnabled;}s2j.type="checkbox";this.parameters.push(s2j);}if(D74.studyOverBoughtValue !== undefined){s_H="au";s_H+="to";d26="OverBo";d26+="ugh";d26+="t";s2j={name:"studyOverBought",heading:p1n.translateIf(d26),defaultValue:D74.studyOverBoughtValue,value:D74.studyOverBoughtValue,defaultColor:D74.studyOverBoughtColor,color:D74.studyOverBoughtColor};if(R5H && R5H.studyOverBoughtValue){s2j.value=R5H.studyOverBoughtValue;}if(R5H && R5H.studyOverBoughtColor){s2j.color=R5H.studyOverBoughtColor;}if(s2j.color == s_H){s2j.color=p1n.defaultColor;s2j.isAuto=!!({});}s2j.type="text";this.parameters.push(s2j);}if(D74.studyOverSoldValue !== undefined){i3v="t";i3v+="e";i3v+="x";i3v+="t";k5V="aut";k5V+="o";C26="stud";C26+="y";C26+="OverSo";C26+="ld";s2j={name:C26,heading:p1n.translateIf("OverSold"),defaultValue:D74.studyOverSoldValue,value:D74.studyOverSoldValue,defaultColor:D74.studyOverSoldColor,color:D74.studyOverSoldColor};if(R5H && R5H.studyOverSoldValue){s2j.value=R5H.studyOverSoldValue;}if(R5H && R5H.studyOverSoldColor){s2j.color=R5H.studyOverSoldColor;}if(s2j.color == k5V){s2j.color=p1n.defaultColor;s2j.isAuto=!!1;}s2j.type=i3v;this.parameters.push(s2j);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}function Y8Q(A6d){var t_O;if(q6w == "alias"){t_O=+"1";for(var h3G in p1n.panels){if(h3G == A6d){return p0k(h3G,t_O);}t_O++;}}function p0k(t_s,a_i){h9b.Z7I();return "Panel " + a_i.toString();}return A6d;}q6w=this.panelSelect=m3q.panelSelect;R8E=this.axisSelect=m3q.axisSelect;function N0$(P_f){var u_T,N1k,V6v;u_T={};N1k=P_f.defaults;V6v={name:P_f.name,heading:p1n.translateIf(P_f.label),defaultValue:N1k[0],value:P_f.value,options:u_T,type:"select"};for(var k8$=0;k8$ < N1k.length;k8$++){u_T[N1k[k8$]]=p1n.translateIf(N1k[k8$]);}if(P_f.color !== undefined){V6v.defaultColor=p1n.defaultColor;V6v.color=P_f.color;}return V6v;}function V47(z1R){var m3N,M0n,Q4V,V1T,i48;m3N="c";h9b.Z7I();m3N+="heck";m3N+="b";m3N+="ox";M0n={name:z1R.name,heading:p1n.translateIf(z1R.label),defaultValue:z1R.defaults,value:z1R.value,type:m3N};Q4V=444159409;V1T=-701196445;i48=2;for(var u6_=1;h9b.D$s(u6_.toString(),u6_.toString().length,66765) !== Q4V;u6_++){return M0n;}if(h9b.u7W(i48.toString(),i48.toString().length,96316) !== V1T){return M0n;}}if(m3q.addWhenDone){R8E=q6w=!!"";}if(R8E || q6w){if(!H_v){H_v=x$_.Studies.addStudy(p1n,m3q.name,null,null,{calculateOnly:!0});x$_.Studies.removeStudy(p1n,H_v);}if(q6w){R7X="P";R7X+="a";R7X+="n";R7X+="el";this.parameters.push(N0$({label:R7X,name:"panelName",defaults:(function(){var Z5q,g27,m8g;Z5q="New p";Z5q+="anel";g27="Au";g27+="to";m8g=[];m8g.push(g27);for(var c8S in p1n.panels){if(c8S != H_v.panel || !R5H || !R5H.panelName)if(!p1n.panels[c8S].noDrag){m8g.push(Y8Q(c8S));}}if(!p1n.checkForEmptyPanel(H_v.panel,!0,H_v)){m8g.push(Z5q);}return m8g;})(),value:R5H && R5H.panelName?Y8Q(R5H.panelName):"Auto"}),V47({label:"Show as Underlay",name:"underlay",defaults:!({}),value:H_v.underlay || H_v.parameters && H_v.parameters.underlayEnabled}));}Y7r=p1n.getYAxisByName(d3Y,H_v.name);if(R8E){this.parameters.push(N0$({label:"Y-Axis",name:"yaxisDisplay",defaults:(function(){var N0p,f43,I2G;N0p="d";N0p+="efaul";N0p+="t";f43=d3Y.yaxisLHS.concat(d3Y.yaxisRHS);I2G=[];I2G.push(N0p,"right","left","none","shared");for(var C5P=0;C5P < f43.length;C5P++){if(f43[C5P] != Y7r){I2G.push(f43[C5P].name);}}return I2G;})(),value:R5H && R5H.yaxisDisplayValue || Y7r && Y7r.position || (!Y7r?"shared":"default"),color:Y7r && Y7r.textStyle || "auto"}),V47({label:"Invert Y-Axis",name:"flipped",defaults:![],value:R5H && R5H.flippedEnabled !== undefined?R5H.flippedEnabled:Y7r?Y7r.flipped:![]}));}p3a.call(this,"flippedEnabled",!Y7r && H_v.panel != H_v.name);p3a.call(this,"underlayEnabled",h5g.underlay);p3a.call(this,"panelName",h5g.seriesFN === null);p3a.call(this,"yaxisDisplayValue",h5g.seriesFN === null || h5g.yAxis && h5g.yAxis.noDraw);}};x$_.Studies.DialogHelper.prototype.updateStudy=function(P3x){var m7Y,S8G,F3H,z4f,V88;m7Y={};S8G=this.sd;F3H=this.libraryEntry;if(!F3H){F3H={};}if(!S8G){S8G=F3H;}m7Y.inputs=x$_.clone(S8G.inputs);function j7u(k3H){var S6T,W$I;S6T=this;if(S6T.panelSelect == "alias"){W$I=J6I(k3H);if(W$I){for(var n1u in S6T.stx.panels){if(!--W$I){return n1u;}}}}function J6I(O9Q){var h9M;h9M=O9Q.match(/.{0,50} (\d)/);h9b.m_N();return h9M && h9M[1];}h9b.m_N();return k3H;}h9b.Z7I();m7Y.outputs=x$_.clone(S8G.outputs);m7Y.parameters=x$_.clone(S8G.parameters);this.adjustInputTimesForDisplayZone(P3x);if(P3x.parameters && P3x.parameters.panelName){P3x.parameters.panelName=j7u.call(this,P3x.parameters.panelName);}x$_.extend(m7Y,P3x);if(!m7Y.parameters){m7Y.parameters={};}if(m7Y.inputs && m7Y.inputs.id){S8G=x$_.Studies.replaceStudy(this.stx,m7Y.inputs.id,this.name,m7Y.inputs,m7Y.outputs,m7Y.parameters,null,S8G.study);}else {S8G=x$_.Studies.addStudy(this.stx,this.name,m7Y.inputs,m7Y.outputs,m7Y.parameters,null,S8G.study);}z4f=new x$_.Studies.DialogHelper({stx:this.stx,sd:S8G,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var b$s in z4f){V88="signa";V88+="l";if(b$s != V88){this[b$s]=z4f[b$s];}}this.signal*=-1;};x$_.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(N3l){var j85,A$C,k5O,K6X,R0f,o8a,s3z,i9U,R29,N_g;h9b.Z7I();if(this.stx.displayZone){for(var c$$=0;c$$ < this.dateTimeInputs.length;c$$++){j85=this.dateTimeInputs[c$$];o8a="";if(N3l && N3l.inputs){s3z=" T";s3z+="i";s3z+="m";s3z+="e";i9U=" D";i9U+="a";i9U+="t";i9U+="e";h9b.g33(0);k5O=N3l.inputs[h9b.b63(j85,i9U)];h9b.g33(0);K6X=N3l.inputs[h9b.b63(j85,s3z)];if(k5O){o8a=k5O;}if(K6X){o8a+=K6X;}}for(A$C=0;A$C < this.inputs.length;A$C++){R0f=this.inputs[A$C];if(!k5O && k5O !== "" && R0f.name == j85 + " Date"){o8a=R0f.value + o8a;}else if(!K6X && K6X !== "" && R0f.name == j85 + " Time"){o8a+=R0f.value;}}o8a=o8a.replace(/\D/g,"");if(o8a.length < 12){return;}R29=x$_.strToDateTime(o8a);if(!isNaN(R29.valueOf())){if(N3l){if(!N3l.inputs){N3l.inputs={};}N_g=x$_.convertTimeZone(R29,this.stx.displayZone);h9b.O$r(0);N3l.inputs[h9b.b63(j85," Date")]=x$_.yyyymmdd(N_g);h9b.g33(0);N3l.inputs[h9b.v0q(j85," Time")]=x$_.hhmmss(N_g);}else {N_g=x$_.convertTimeZone(R29,null,this.stx.displayZone);for(A$C=0;A$C < this.inputs.length;A$C++){R0f=this.inputs[A$C];if(R0f.name == j85 + " Date"){R0f.value=x$_.yyyymmdd(N_g);}if(R0f.name == j85 + " Time"){R0f.value=x$_.hhmmss(N_g);}}}}}}};x$_.Studies.prepareStudy=function(m_n,w7I,G_4){if(typeof w7I.calculateFN == "undefined"){w7I.useRawValues=!![];}if(x$_.isEmpty(G_4.outputMap)){for(var h8L in G_4.outputs){if(w7I.useRawValues){G_4.outputMap[h8L]=h8L;}else {h9b.O$r(135);var U7_=h9b.b63(3941,4,6,7844);h9b.O$r(27);var Q62=h9b.b63(18,19878,26480);h9b.g33(136);var O6r=h9b.b63(14,8947,3,179280,19920);h9b.g33(2);var U$v=h9b.v0q(6528,8);h9b.g33(43);var O7w=h9b.b63(9,929,10,1859,929);h9b.O$r(0);var k3M=h9b.b63(256,511);G_4.outputMap[h8L + (U7_ > (+"5420",Q62)?(O6r,U$v) >= O7w?" ":k3M:!1) + G_4.name]=h8L;}}}};x$_.Studies.rejiggerDerivedStudies=function(S_1,Q7u,c6R){var i1x,i7o,z35,B0e,T36,b0I,U7E,N$j;i1x=Q7u.name;i7o=Q7u.panel;z35=Q7u.getDependents(S_1);for(var Z1t=0;Z1t < z35.length;Z1t++){B0e=z35[Z1t];T36=x$_.clone(B0e.inputs);b0I=T36.id;if(!b0I)continue;U7E=x$_.Studies.getFieldInputs(B0e);for(var Z_T=0;Z_T < U7E.length;Z_T++){T36[U7E[Z_T]]=T36[U7E[Z_T]].replace(i1x,c6R);}N$j=x$_.Studies.replaceStudy(S_1,b0I,B0e.type,T36,B0e.outputs,x$_.extend(B0e.parameters,{rejiggering:!!({})}),null,B0e.study);delete N$j.parameters.rejiggering;}};x$_.Studies.removeStudySymbols=function(A4o,V0c){h9b.m_N();if(A4o.series){for(var J5D in A4o.series){V0c.deleteSeries(A4o.series[J5D],null,{action:"remove-study"});}}};x$_.Studies.replaceStudy=function(o_o,X8n,r8v,w6z,S5e,P89,G7v,j03){var O8s,D5l,g$b,L3h,s$I,F_C,E0u;if(!P89){P89={};}if(X8n){P89.replaceID=X8n;}h9b.m_N();X8n=P89.replaceID;O8s=o_o.layout.studies[X8n];x$_.Studies.removeStudySymbols(O8s,o_o);if(O8s.attribution){o_o.removeFromHolder(O8s.attribution.marker);}if(o_o.quoteDriver){o_o.quoteDriver.updateSubscriptions();}if(w6z){if(w6z.id == w6z.display){delete w6z.display;}delete w6z.id;}D5l=x$_.Studies.addStudy(o_o,r8v,w6z,S5e,P89,G7v,j03);D5l.highlight=O8s.highlight;D5l.uniqueId=O8s.uniqueId;if(O8s.signalData){D5l.signalData=O8s.signalData;if(D5l.signalData.updateConditions){D5l.signalData.updateConditions(X8n,D5l.inputs.id);}}L3h={};for(g$b in o_o.layout.studies){if(g$b == X8n){L3h[D5l.name]=D5l;}else {L3h[g$b]=o_o.layout.studies[g$b];}}o_o.layout.studies=L3h;L3h={};for(g$b in o_o.overlays){if(g$b == X8n){if(D5l.overlay || D5l.underlay){L3h[D5l.name]=D5l;}}else {L3h[g$b]=o_o.overlays[g$b];}}o_o.overlays=L3h;if(!o_o.overlays[D5l.name] && (D5l.overlay || D5l.underlay)){o_o.addOverlay(D5l);}s$I=Object.keys(O8s.outputMap);F_C=Object.keys(D5l.outputMap);if(O8s.panel !== D5l.panel){s$I.forEach(function(e$K){o_o.moveMarkers(O8s.panel,D5l.panel,o_o.getMarkerArray("field",e$K));});}o_o.getMarkerArray("panelName",O8s.panel).forEach(function(o$i,b9h){var P4S;P4S=s$I.indexOf(o$i.params.field);h9b.Z7I();if(P4S > -+"1" && F_C.indexOf(o$i.params.field) === -1){o$i.params.field=F_C[b9h];}});o_o.checkForEmptyPanel(O8s.panel);if(!P89.rejiggering){o_o.initializeDisplay(o_o.chart);x$_.Studies.rejiggerDerivedStudies(o_o,O8s,D5l.inputs.id,D5l.panel);}x$_.transferObject(O8s,D5l);o_o.layout.studies[D5l.name]=O8s;o_o.overlays[D5l.name]=O8s;o_o.chart.state.studies.sorted=null;if(!P89.rejiggering){E0u="l";E0u+="a";E0u+="yout";if(!O8s.currentlyImporting && !P89.calculateOnly && O8s.chart.dataSet){o_o.createDataSet(null,O8s.chart);}o_o.changeOccurred(E0u);o_o.drawWithRange();}return O8s;};x$_.Studies.addStudy=function(Q44,G56,y53,A8K,l43,K8T,a8c){var m6b,c1H,N9M,c5C,H6z,k8G,S1u,p$k,q8R,h2g,a2c,Y1f,v7K,q4w,f1T,F33,R4R,t8v,N5x;m6b="abo";m6b+="rt";c1H="Default ";c1H+="p";c1H+="anel";N9M="Au";N9M+="t";N9M+="o";c5C=a8c?a8c:x$_.Studies.studyLibrary[G56];if(!l43){l43={};}if(c5C){if(c5C.inputs){H6z=x$_.clone(c5C.inputs);for(var J6r in H6z){if(H6z[J6r] instanceof Array){if(c5C.attributes && c5C.attributes[J6r] && c5C.attributes[J6r].defaultSelected){H6z[J6r]=c5C.attributes[J6r].defaultSelected;}else {H6z[J6r]=H6z[J6r][0];}}}k8G=-+"323310566";S1u=-+"655842731";p$k=2;for(var H8k=1;h9b.u7W(H8k.toString(),H8k.toString().length,46854) !== k8G;H8k++){y53=x$_.extend(H6z,y53);p$k+=2;}if(h9b.D$s(p$k.toString(),p$k.toString().length,77134) !== S1u){y53=x$_.extend(H6z,y53);}}if(c5C.outputs){A8K=x$_.extend(x$_.clone(c5C.outputs),A8K);}q8R=c5C.parameters;if(q8R && q8R.init){l43=x$_.extend(x$_.clone(q8R.init),l43);}if(q8R && !l43.display){l43.display=q8R.display;}}if(!y53){y53=x$_.clone(x$_.Studies.DEFAULT_INPUTS);}if(!A8K){A8K=x$_.clone(x$_.Studies.DEFAULT_OUTPUTS);}if(!l43.chartName){l43.chartName="chart";}if(l43.panelName == N9M || l43.panelName == c1H){l43.panelName="";}if(y53.Period < 1){y53.Period=1;}h2g=null;if(!Q44.layout.studies){Q44.layout.studies={};}if(c5C && c5C.initializeFN){h2g=c5C.initializeFN(Q44,G56,y53,A8K,l43,K8T,a8c);}else {h2g=x$_.Studies.initializeFN(Q44,G56,y53,A8K,l43,K8T,a8c);}if(!h2g){h9b.O$r(0);console.log(h9b.v0q("CIQ.Studies.addStudy: initializeFN() returned null for ",G56));return;}else if(h2g === m6b){return;}a8c=h2g.study;h2g.chart=Q44.charts[l43.chartName];h2g.type=G56;h2g.permanent=a8c.permanent;h2g.customLegend=a8c.customLegend;h2g.uniqueId=x$_.uniqueID();x$_.Studies.prepareStudy(Q44,a8c,h2g);a2c=Q44.chart.state.studies;if(!a2c){a2c=Q44.chart.state.studies={};}a2c.sorted=null;if(!l43.replaceID){Q44.layout.studies[h2g.inputs.id]=h2g;if(h2g.overlay || h2g.underlay){Q44.addOverlay(h2g);}if(!Q44.currentlyImporting && !l43.calculateOnly && h2g.chart.dataSet){Q44.createDataSet(null,h2g.chart);}}else {Y1f=!!({});delete l43.replaceID;}if(Q44.quoteDriver){Q44.quoteDriver.updateSubscriptions();}if(l43.calculateOnly){Q44.changeOccurred("layout");return h2g;}v7K=Q44.panels[h2g.panel];q4w=!"1";f1T=!(h2g.overlay || h2g.underlay);if(f1T && a8c.horizontalCrosshairFieldFN){v7K.horizontalCrosshairField=a8c.horizontalCrosshairFieldFN(Q44,h2g);}if(Q44.editCallback){q4w=!"";}else if(f1T){if(Q44.callbackListeners.studyPanelEdit && Q44.callbackListeners.studyPanelEdit.length){q4w=!![];}}else {if(Q44.callbackListeners.studyOverlayEdit && Q44.callbackListeners.studyOverlayEdit.length){q4w=!!({});}}if(q4w){l43.editMode=!!"1";F33=!({});for(var k8u in h2g.inputs){R4R="dis";R4R+="pla";R4R+="y";if(k8u == "id")continue;if(k8u == R4R)continue;F33=!0;break;}if(!F33){for(var D6c in h2g.outputs){F33=!!"1";break;}}if(F33){t8v="u";t8v+="ndefi";t8v+="ne";t8v+="d";if(typeof h2g.study.edit != t8v){if(h2g.study.edit){N5x=(function(J9I,X0o,F2x,T4Q,K3w){h9b.Z7I();return function(){x$_.clearCanvas(J9I.chart.tempCanvas,J9I);X0o.study.edit(X0o,{stx:J9I,inputs:F2x,outputs:T4Q,parameters:K3w});};})(Q44,h2g,y53,A8K,l43);Q44.setPanelEdit(v7K,N5x);h2g.editFunction=N5x;}}else if(!f1T){N5x=(function(c40,N8j,H9_,U4T,m2b){h9b.Z7I();return function(c7s){var l1E;l1E="studyO";h9b.Z7I();l1E+="v";l1E+="erlayEdit";x$_.clearCanvas(c40.chart.tempCanvas,c40);c40.dispatch(l1E,{stx:c40,sd:N8j,inputs:H9_,outputs:U4T,parameters:m2b,forceEdit:c7s});};})(Q44,h2g,y53,A8K,l43);h2g.editFunction=N5x;}else {if(Q44.editCallback){N5x=(function(G3_,c2N,C0u,d9D,P9w){return function(){var A0n;A0n=G3_.editCallback(G3_,c2N);x$_.clearCanvas(G3_.chart.tempCanvas,G3_);x$_.Studies.studyDialog(G3_,G56,A0n,{inputs:C0u,outputs:d9D,parameters:P9w});};})(Q44,h2g,y53,A8K,l43);if(v7K.name != "chart"){Q44.setPanelEdit(v7K,N5x);}}else {N5x=(function(U4z,R4f,e7S,Q66,c5E){h9b.Z7I();return function(){var M7b;M7b="study";M7b+="PanelEdit";x$_.clearCanvas(U4z.chart.tempCanvas,U4z);U4z.dispatch(M7b,{stx:U4z,sd:R4f,inputs:e7S,outputs:Q66,parameters:c5E});};})(Q44,h2g,y53,A8K,l43);if(v7K.name != "chart"){Q44.setPanelEdit(v7K,N5x);h2g.editFunction=N5x;}}}}}Q44.changeOccurred("layout");if(!Y1f){Q44.drawWithRange();}return h2g;};x$_.Studies.removeStudy=function(N4E,r4a){var h_f,b8I,v8x,u6x,x_7,A43,M3w;h_f=N4E.panels[r4a.panel];b8I=h_f && h_f.yAxis.name;if(r4a.overlay || r4a.underlay){N4E.removeOverlay(r4a.name);}v8x=N4E.panels[r4a.panel];if(r4a.attribution){N4E.removeFromHolder(r4a.attribution.marker);}N4E.cleanupRemovedStudy(r4a);if(v8x && !N4E.checkForEmptyPanel(v8x)){if(b8I == r4a.name){N4E.electNewPanelOwner(v8x);}u6x=N4E.getYAxisByName(r4a.panel,r4a.name);if(u6x){x_7=1219919563;A43=861479886;M3w=2;for(var y$q=1;h9b.u7W(y$q.toString(),y$q.toString().length,+"7248") !== x_7;y$q++){u6x.name=u6x.studies[+"6"] && u6x.renderers[4];M3w+=2;}if(h9b.u7W(M3w.toString(),M3w.toString().length,91971) !== A43){u6x.name=u6x.studies[+"1"] || u6x.renderers[0];}}}N4E.drawWithRange();N4E.resizeChart();};x$_.Studies.getPanelFromFieldName=function(D6l,f$2){var z34,A8S,h_R,w4r,Z8b,Q21;z34=x$_.Studies.getFieldInputs(f$2);if(!z34.length){return null;}A8S=D6l.layout.studies;if(!A8S){return null;}h_R={};for(var i9A in A8S){for(var C$r in A8S[i9A].outputMap){w4r=A8S[i9A].inputs.Series;if(w4r && w4r !== "series"){h9b.g33(17);C$r+=h9b.b63("]",w4r," [");}h_R[C$r]=A8S[i9A].panel;}}for(var f5H in D6l.chart.series){h_R[f5H]=D6l.chart.series[f5H].parameters.panel;}for(var n6C=0;n6C < z34.length;n6C++){Z8b=f$2.inputs[z34[n6C]];if(Z8b){Q21=h_R[Z8b];if(Q21){return Q21;}}}return null;};x$_.Studies.createLibraryHash=function(){h9b.m_N();return Object.keys(x$_.Studies.studyLibrary).join(808 <= (5403,"2230" << 0)?"|":(0x1f56,4.12e+3));};x$_.Studies.displayStudies=function(a9w,C50,o3i){var z3$,C0P,C2j,u6A,M2O,L1u,a42,u8f,N_p,H$Z,e$y,q5Q,j4O,V3z,q2I,d_a,h9K;if(o3i){C50.studyLibraryHash=x$_.Studies.createLibraryHash();}z3$=a9w.layout.studies;if(!z3$){return;}C0P={};function R5N(Z$U){var M3u;h9b.Z7I();M3u=Z$U.color || Z$U;return M3u === "auto"?a9w.defaultColor:M3u;}C0P[C50.name]=!![];for(var R8S in z3$){C2j=z3$[R8S];u6A=C2j.study;if(!u6A)continue;if(C2j.disabled || C2j.signalData && !C2j.signalData.reveal)continue;M2O=C2j.underlay || C2j.parameters && C2j.parameters.underlayEnabled;if(o3i && !M2O || !o3i && M2O)continue;L1u=x$_.clone(u6A.renderer);if(L1u && !(L1u instanceof Array)){L1u=[L1u];}a42=a9w.panels[C2j.panel];if(a42){if(a42.chart != C50)continue;if(a42.hidden)continue;if(!C0P[a42.name]){u8f=C2j.permanent || !a9w.manageTouchAndMouse;if(a42.closeX){if(u8f){a42.closeX.style.display="none";}}else if(a42.close){if(u8f){a42.close.style.display="none";}}if(a42.edit){N_p="n";N_p+="one";if(u8f){a42.edit.style.display=N_p;}}C0P[a42.name]=u8f;}}else {if(a9w.currentlyImporting){delete z3$[R8S];}continue;}H$Z=C2j.chart.dataSegment;if(C2j.panel == C2j.parameters.chartName && (!C2j.parameters || !C2j.parameters.panelName)){e$y=x$_.Studies.getPanelFromFieldName(a9w,C2j);if(e$y && C2j.panel != e$y){C2j.panel=e$y;}}if(typeof u6A.seriesFN == "undefined"){if(L1u){if(!C2j.overlay){x$_.Studies.createYAxis(a9w,C2j,H$Z,a42);}for(var A8J=+"0";A8J < L1u.length;A8J++){q5Q=L1u[A8J];for(var v4$ in C2j.outputMap){if(C2j.outputMap[v4$] == q5Q.field){q5Q.field=v4$;}}if(!q5Q.field)continue;q5Q.panel=C2j.panel;j4O=q5Q.binding;if(j4O){for(var q5O in j4O){V3z=x$_.Studies.determineColor(C2j.outputs[j4O[q5O]]);if(V3z && V3z != "auto"){q5Q[q5O]=V3z;}}}q5Q.yAxis=null;q2I=x$_.Renderer.produce(q5Q.type,q5Q);q2I.stx=a9w;q2I.attachSeries(null,q5Q).draw();}}else {x$_.Studies.displaySeriesAsLine(a9w,C2j,H$Z);}if(a42){x$_.Studies.displayError(a9w,C2j);}}else {if(a42){if(u6A.seriesFN){u6A.seriesFN(a9w,C2j,H$Z);}x$_.Studies.displayError(a9w,C2j);}}d_a=Object.values(C2j.outputs);h9K=d_a.slice(0,3).map(R5N);a9w.chart.legendColorMap[C2j.name]={color:h9K,display:C2j.name,components:Object.keys(C2j.outputs).slice(0,3)};}};x$_.Studies.displayError=function(b5d,I8r,a5I){var x2K,l86,J2e;x2K="c";x2K+="e";x2K+="n";x2K+="ter";if(!I8r.error){return;}l86=a5I && a5I.panel?a5I.panel:I8r.panel;J2e=I8r.error === !!1?b5d.translateIf("Not enough data to compute ") + b5d.translateIf(I8r.study.name):b5d.translateIf(I8r.error);if(a5I && (a5I.h !== x2K || a5I.v !== "bottom")){b5d.watermark(l86,a5I);return;}b5d.displayErrorAsWatermark(l86,J2e);};x$_.Studies.calculateMinMaxForDataPoint=function(r5i,J5_,j$M){var U75,l9_,s5T,v7D;U75=Number.MAX_VALUE;h9b.O$r(14);var W6l=h9b.b63(14,2,13);l9_=Number.MAX_VALUE * W6l;for(var q1Y="0" >> 64;q1Y < j$M.length;q1Y++){s5T="undefi";s5T+="ned";v7D=j$M[q1Y][J5_];if(v7D === null || typeof v7D == s5T)continue;if(isNaN(v7D))continue;U75=Math.min(v7D,U75);l9_=Math.max(v7D,l9_);}return {min:U75,max:l9_};};x$_.Studies.getYAxisParameters=function(e8r,s9P){var J74,w7x,U6$,E0Y;J74={};h9b.m_N();w7x=e8r.layout.studies && e8r.layout.studies[s9P.name];if(w7x){U6$=w7x.study;if(U6$.yaxis || U6$.yAxisFN){J74.noDraw=!!({});}else {if(U6$.parameters && U6$.parameters.excludeYAxis){J74.noDraw=!"";}J74.ground=U6$.yAxis && U6$.yAxis.ground;if(s9P){if(U6$.range != "bypass"){E0Y="0 to ";E0Y+="1";E0Y+="00";if(U6$.range == E0Y){h9b.g33(3);J74.range=[+"0",h9b.b63("100",1)];}else if(U6$.range == "-1 to 1"){J74.range=[-1,1];}else {if(U6$.range == "0 to max"){J74.range=[0,Math.max(0,s9P.high)];}else if(U6$.centerline || U6$.centerline === +"0"){J74.range=[Math.min(U6$.centerline,s9P.low),Math.max(U6$.centerline,s9P.high)];}}}if(J74.range){s9P.low=J74.range[0];s9P.high=J74.range[1];}if(w7x.min){s9P.min=w7x.min;}if(w7x.max){s9P.max=w7x.max;}if(w7x.parameters && w7x.parameters.studyOverZonesEnabled){J74.noDraw=!!"1";}}}}return J74;};x$_.Studies.doPostDrawYAxis=function(C9r,k4y){h9b.Z7I();var a61,m8k,N4G,k5s,Z8U;for(var t7C in C9r.layout.studies){a61=C9r.layout.studies[t7C];m8k=C9r.panels[a61.panel];if(!m8k || m8k.hidden)continue;N4G=a61.getYAxis(C9r);if(N4G != k4y)continue;k5s=a61.study;if(k4y.name == a61.name){if(k5s.yaxis){k5s.yaxis(C9r,a61);}if(k5s.yAxisFN){k5s.yAxisFN(C9r,a61);}}x$_.Studies.drawZones(C9r,a61);if(!a61.error){Z8U=k5s.centerline;if(Z8U || Z8U === "0" * 1 || Z8U !== null && k4y.highValue - +"0.000000000001" > 0 && k4y.lowValue + 0.000000000001 < 0){x$_.Studies.drawHorizontal(C9r,a61,null,Z8U || 0,k4y);}}}};x$_.Studies.displaySeriesAsLine=function(s1j,n3b,A1X){var N15;if(!A1X.length){return;}N15=s1j.panels[n3b.panel];if(!N15 || N15.hidden){return;}h9b.Z7I();for(var C8C in n3b.outputMap){x$_.Studies.displayIndividualSeriesAsLine(s1j,n3b,N15,C8C,A1X);}};x$_.Studies.displaySeriesAsHistogram=function(f9P,G5s,r1L){var T6F,I$2,N9Q,n5t,h$a,y$1,g1v,C0c,t9Q,s25,B7E,l_Q,q7G,c48;if(!r1L.length){return;}T6F=f9P.panels[G5s.panel];if(!T6F){return;}if(T6F.hidden){return;}I$2=[];h9b.m_N();for(var S37 in G5s.outputMap){N9Q=G5s.outputs[G5s.outputMap[S37]];if(!N9Q)continue;n5t=0.3;if(typeof N9Q == "object"){n5t=N9Q.opacity;N9Q=N9Q.color;}h$a={field:S37,fill_color_up:N9Q,border_color_up:N9Q,fill_color_down:N9Q,border_color_down:N9Q};if(G5s.underlay){h$a.opacity_up=h$a.opacity_down=n5t || 0.3;}I$2.push(h$a);}y$1=G5s.getYAxis(f9P);g1v=G5s.inputs;C0c=g1v.WidthFactor;if(G5s.study && G5s.study.parameters){t9Q="un";t9Q+="defined";s25=G5s.study.parameters;if(typeof s25.widthFactor !== t9Q){C0c=s25.widthFactor;}}B7E={name:G5s.name,type:g1v.HistogramType?g1v.HistogramType:"overlaid",panel:G5s.panel,yAxis:y$1,widthFactor:C0c || 0.5,bindToYAxis:!!"1",highlight:G5s.highlight};l_Q=46816150;h9b.g33(18);q7G=-h9b.v0q(0,"2103939579");c48=2;for(var Q1K=1;h9b.u7W(Q1K.toString(),Q1K.toString().length,73417) !== l_Q;Q1K++){f9P.drawHistogram(B7E,I$2);c48+=+"2";}if(h9b.u7W(c48.toString(),c48.toString().length,"23761" ^ 0) !== q7G){f9P.drawHistogram(B7E,I$2);}f9P.drawHistogram(B7E,I$2);};x$_.Studies.displayIndividualSeriesAsLine=function(E_D,c4P,M47,B61,B6S){var P4p,s89,v5B,T7j,J9w,L6P,F1I,O_h,q8d,m5w,w6e,A3D,W3x,T88,T1Y;if(!M47.height){M47.height=M47.bottom - M47.top;}P4p=c4P.getContext(E_D);s89=c4P.outputs[c4P.outputMap[B61]];if(!s89){return;}P4p.save();if(typeof s89 === "string"){s89={color:s89,width:1};}P4p.lineWidth=s89.width || 1;v5B=s89.color;if(v5B == "auto"){v5B=E_D.defaultColor;}P4p.strokeStyle=v5B;T7j=s89.pattern;P4p.setLineDash(x$_.borderPatternToArray(P4p.lineWidth,T7j));P4p.lineDashOffset=+"0";J9w=0;L6P=c4P.study;F1I=c4P.getYAxis(E_D);J9w=E_D.decimalPlacesFromPriceTick(F1I.priceTick,F1I.idealTickSizePixels);if(c4P.overlay || c4P.underlay){J9w=null;}if(F1I.decimalPlaces || F1I.decimalPlaces === 0){J9w=F1I.decimalPlaces;}O_h=null;if(c4P.parameters){O_h=c4P.parameters.label;}q8d=L6P.parameters;if(!q8d){q8d={};}m5w=q8d.plotType == "step";if(c4P.series){for(var U_k in c4P.series){w6e=c4P.series[U_k].parameters.type;if(w6e){h9b.O$r(85);m5w=h9b.v0q(w6e,"step");}}}if(q8d.noLabels){O_h=![];}if(!c4P.noSlopes && c4P.noSlopes !== !({})){c4P.noSlopes=q8d.noSlopes;}if(!c4P.extendToEnd && c4P.extendToEnd !== !!""){c4P.extendToEnd=q8d.extendToEnd;}A3D=O_h || E_D.preferences.labels && O_h !== !1;W3x=c4P.gaplines;if(W3x === !"1"){W3x="transparent";}T88=c4P.inputs.Symbol;T1Y=W3x?E_D.getGapColorFunction(T88,B61,s89,W3x):null;E_D.plotDataSegmentAsLine(B61,M47,{yAxis:F1I,skipTransform:E_D.panels[c4P.panel].name != c4P.chart.name,label:A3D,labelDecimalPlaces:J9w,noSlopes:c4P.noSlopes,step:m5w,alignStepToSide:c4P.alignStepToSide,extendToEndOfLastBar:c4P.extendToEndOfLastBar,width:c4P.lineWidth,extendToEndOfDataSet:c4P.extendToEnd,gapDisplayStyle:W3x,highlight:c4P.highlight},T1Y);if(L6P.appendDisplaySeriesAsLine){L6P.appendDisplaySeriesAsLine(E_D,c4P,B6S,B61,M47);}h9b.Z7I();P4p.restore();};x$_.Studies.drawHorizontal=function(Q2a,M87,G_M,d4q,J8E,C6Q){var x6B,S3h,f_V,O0I;x6B="segme";x6B+="n";x6B+="t";S3h=Q2a.panels[M87.panel];f_V=Q2a.getBackgroundCanvas().context;if(!S3h){return;}if(!C6Q){C6Q=J8E.textStyle;}O0I=Q2a.pixelFromPrice(d4q,S3h,J8E);if(O0I > J8E.top && O0I < J8E.bottom){Q2a.plotLine(S3h.left,S3h.right,O0I,O0I,C6Q,x6B,f_V,![],{opacity:C6Q && C6Q.opacity?C6Q.opacity:0.5});}};x$_.Studies.displayHistogramWithSeries=function(A7p,I0o,W4Y){var l6f,B8s;l6f=A7p.panels[I0o.panel];h9b.m_N();B8s=0.5;if(I0o.underlay){B8s=0.3;}x$_.Studies.createHistogram(A7p,I0o,W4Y,![],B8s);x$_.Studies.displaySeriesAsLine(A7p,I0o,W4Y);};x$_.Studies.drawZones=function(f2V,S7c,m5l){var T$A,F64,c3k,y_Q,p$h,S$D,n47,g$8,F91,b$q,b9M,u9p,x1k,N$Y,f20,l$4,U6a,S24,l6c,T0E,s71,U8J,l4M,D4E,J4G,F6b,u6T;T$A="str";T$A+="oke";if(!S7c.parameters || !S7c.parameters.studyOverZonesEnabled){return;}F64=parseFloat(S7c.parameters.studyOverSoldValue);c3k=parseFloat(S7c.parameters.studyOverBoughtValue);y_Q=S7c.parameters.studyOverSoldColor;p$h=S7c.parameters.studyOverBoughtColor;S$D=S7c.zoneOutput;if(!S$D){S$D="Result";}n47=x$_.Studies.determineColor(S7c.outputs[S$D]);if(!n47 || n47 == "auto" || x$_.isTransparent(n47)){n47=f2V.defaultColor;}if(!y_Q){y_Q=n47;}if(!y_Q || y_Q == "auto" || x$_.isTransparent(y_Q)){y_Q=f2V.defaultColor;}if(!p$h){p$h=n47;}if(!p$h || p$h == "auto" || x$_.isTransparent(p$h)){p$h=f2V.defaultColor;}g$8=f2V.panels[S7c.panel];F91=S7c.getYAxis(f2V);b$q=F91.displayBorder;if(f2V.axisBorders === !({})){b$q=!({});}if(f2V.axisBorders === !!"1"){b$q=!"";}if(F91.width === 0){b$q=!({});}b9M=f2V.getYAxisCurrentPosition(F91,g$8);h9b.g33(85);u9p=h9b.b63(b9M,"left");x1k=F91.justifyRight;if(!x1k && x1k !== !({})){if(f2V.chart.yAxis.justifyRight || f2V.chart.yAxis.justifyRight === ![]){x1k=f2V.chart.yAxis.justifyRight;}else {x1k=u9p;}}N$Y=Math.round(F91.left + (u9p?F91.width:0)) + ("0.5" - 0);f20=b$q?3:0;l$4=f2V.getBackgroundCanvas().context;U6a=l$4.fillStyle;l$4.globalAlpha=+"0.2";f2V.startClip(g$8.name,!!({}));l$4.beginPath();S24=Math.round(f2V.pixelFromPrice(c3k,g$8,F91)) - ("0.5" - 0);l$4.strokeStyle=p$h;l$4.moveTo(g$8.left,S24);l$4.lineTo(g$8.right,S24);l$4.stroke();l$4.closePath();l$4.beginPath();h9b.O$r(42);var x84=h9b.b63(7,2,7,0);l6c=Math.round(f2V.pixelFromPrice(F64,g$8,F91)) + "0.5" * x84;l$4.strokeStyle=y_Q;l$4.moveTo(g$8.left,l6c);l$4.lineTo(g$8.right,l6c);l$4.stroke();l$4.closePath();T0E=new x$_.Plotter();T0E.newSeries("border",T$A,f2V.canvasStyle("stx_grid_border"));if(b$q){s71=u9p?N$Y - f20:N$Y - 0.5;U8J=u9p?N$Y + 0.5:N$Y + f20;T0E.moveTo("border",s71,S24);T0E.lineTo("border",U8J,S24);T0E.moveTo("border",s71,l6c);T0E.lineTo("border",U8J,l6c);}l$4.fillStyle=U6a;l4M={skipTransform:f2V.panels[S7c.panel].name != S7c.chart.name,panelName:S7c.panel,band:S$D + ((5720,+"925.08") >= 2813?("X",0xcd7):" ") + S7c.name,yAxis:F91,opacity:0.3};if(!S7c.highlight && f2V.highlightedDraggable){l4M.opacity*=0.3;}x$_.preparePeakValleyFill(f2V,x$_.extend(l4M,{threshold:c3k,direction:F91.flipped?-1:1,color:p$h}));x$_.preparePeakValleyFill(f2V,x$_.extend(l4M,{threshold:F64,direction:F91.flipped?1:-1,color:y_Q}));l$4.globalAlpha=1;if(!S7c.study || !S7c.study.yaxis){if(b$q){D4E=Math.round(F91.bottom) + 0.5;T0E.moveTo("border",N$Y,F91.top);T0E.lineTo("border",N$Y,D4E);T0E.draw(l$4,"border");}if(F91.width !== 0){J4G="lef";J4G+="t";f2V.canvasFont("stx_yaxis",l$4);f2V.canvasColor("stx_yaxis",l$4);l$4.textAlign=x1k?"right":J4G;h9b.O$r(137);var x9c=h9b.v0q(15,17,255,5,6);F6b=f2V.getCanvasFontSize("stx_yaxis") / x9c;if(u9p){u6T=F91.left + +"3";if(x1k){u6T=F91.left + F91.width - f20 - +"3";}}else {h9b.g33(2);var A_c=h9b.b63(14,11);u6T=F91.left + f20 + A_c;if(x1k){u6T=F91.left + F91.width;}}if(S24 > F91.top + F6b){l$4.fillStyle=p$h;l$4.fillText(c3k,u6T,S24);}if(l6c < F91.bottom - F6b){l$4.fillStyle=y_Q;l$4.fillText(F64,u6T,l6c);}l$4.fillStyle=U6a;}}f2V.endClip();l$4.globalAlpha=1;if(F91.name == S7c.name){F91.yAxisPlotter=new x$_.Plotter();}};x$_.Studies.createHistogram=function(w7r,y7D,y4d,N98,j3U){var n0s,H_a,X0Y,c0m,i1j,Y6$,D1O,C$t,R_B,i7Q,z71,r_V,F4m,H4A,X_9,t_A,i0n,z0r,y4Q,C85,l11,u$J;n0s=w7r.panels[y7D.panel];H_a=y7D.getContext(w7r);X0Y=y7D.getYAxis(w7r);w7r.startClip(n0s.name);h9b.O$r(12);var b0V=h9b.v0q(36,15,15,523);c0m=w7r.layout.candleWidth - b0V;if(c0m < 2){c0m=1;}i1j=w7r.pixelFromPrice(+"0",n0s,X0Y);if(X0Y.min > 0){i1j=w7r.pixelFromPrice(X0Y.min,n0s,X0Y);}if(N98){i1j=Math.floor(n0s.top + n0s.height / 2);}Y6$=y7D.name + "_hist";w7r.canvasColor("stx_histogram");D1O=H_a.fillStyle;if(j3U || j3U === +"0"){H_a.globalAlpha=j3U;}if(!y7D.highlight && w7r.highlightedDraggable){H_a.globalAlpha*=0.3;}C$t=null;R_B=null;i7Q=y7D.outputs;for(var u40=0;u40 < y4d.length;u40++){z71="Nega";z71+="tive Bar";r_V=0;F4m=y4d[u40];if(!F4m)continue;if(w7r.cleanupGaps === "stretch"){while(y4d[u40 + 1]){h9b.O$r(0);H4A=y4d[h9b.v0q(u40,1)][Y6$];if(H4A || H4A === 0 || y4d[u40 + 1].futureTick)break;r_V++;u40++;}}if(F4m.candleWidth){c0m=Math.floor(Math.max(1,F4m.candleWidth - 2));}X_9=Math.floor(w7r.pixelFromBar(u40 - r_V,n0s.chart) - c0m / 2);t_A=Math.floor(c0m + r_V * w7r.layout.candleWidth);if(C$t === null){h9b.O$r(0);var n61=h9b.b63(0,1);i0n=w7r.tickFromPixel(X_9,n0s.chart) - n61;if(i0n < 0){C$t=R_B;}else {C$t=w7r.pixelFromPrice(w7r.chart.dataSet[i0n][Y6$],n0s,X0Y) - i1j;}}else {C$t=R_B;}R_B=w7r.pixelFromPrice(F4m[Y6$],n0s,X0Y) - i1j;z0r=x$_.Studies.determineColor(i7Q["Decreasing Bar"]);y4Q=x$_.Studies.determineColor(i7Q["Increasing Bar"]);C85=x$_.Studies.determineColor(i7Q["Positive Bar"]);l11=x$_.Studies.determineColor(i7Q[z71]);u$J=X0Y.flipped;H_a.fillStyle=D1O;if(z0r && (u$J?R_B < C$t:R_B > C$t)){H_a.fillStyle=z0r;}else if(y4Q && (u$J?R_B > C$t:R_B < C$t)){H_a.fillStyle=y4Q;}else if(C85 && (u$J?R_B > 0:R_B < 0)){H_a.fillStyle=C85;}else if(l11 && (u$J?R_B < 0:R_B > 0)){H_a.fillStyle=l11;}H_a.fillRect(X_9,i1j,t_A,Math.floor(R_B));}h9b.Z7I();H_a.globalAlpha=1;w7r.endClip();};x$_.Studies.prettify={Close:7790 === +"961.07"?0x63f:"4650" - 0 != ("613" * 1,7884)?"C":("478" << 0,2836) <= (5786,+"460.57")?(900.20,"O"):0x379,Open:+"260" < (5.17,675.5)?198 > (7280,+"3580")?8.79e+3:5217 == "3460" - 0?(0x244f,538.02):"O":(!({}),0x2c0),High:"H",Low:"L",simple:"ma",exponential:j_6,triangular:"tma",VIDYA:h2_,weighted:"wma","welles wilder":"smma",true:"y",false:(+"7908",238) == (1990,5670)?(399,582.49) == (+"2809",+"7640")?("L",9.21e+2):(6007,993.39) === +"5310"?("g",+"0x1d6d"):("O",0x140b):"n"};x$_.Studies.prettyRE=/^.{0,50}\((.{0,50})\).{0,50}$/;x$_.Studies.prettyDisplay=function(r49){var r92,p4p;r92=x$_.Studies.prettyRE.exec(r49);if(!r92){return r49;}p4p=r92[1];if(p4p){for(var A6W in x$_.Studies.prettify){p4p=p4p.replace(A6W,x$_.Studies.prettify[A6W]);}r49=r49.replace(r92[1],p4p);}return r49;};x$_.Studies.getFieldInputs=function(i$0){h9b.Z7I();var q_m,D16,U58,a6v;q_m=[];D16=i$0.study.inputs;for(var A_Q in D16){U58="serie";U58+="s";a6v="fi";a6v+="e";a6v+="l";a6v+="d";if([a6v,U58].includes(D16[A_Q])){q_m.push(A_Q);}}return q_m;};x$_.Studies.initializeFN=function(w8q,u0q,z2R,I9S,t6R,k9d,P9T){var k25,Q68,b2B,a7$,r11,p6m,n9I,h$e,d8O,k7a,L6U,q4Q,x5n,C7A,O7I,b8u,H3X,k$5,L8d,D7D,E8r;k25="New";k25+=" pan";k25+="e";k25+="l";Q68="Own pa";Q68+="n";Q68+="e";Q68+="l";b2B="s";b2B+="t";b2B+="rin";b2B+="g";if(!z2R){z2R={};}if(!t6R){t6R={};}if(!z2R.id){z2R.id=x$_.Studies.generateID(w8q,u0q,z2R,t6R.replaceID,t6R.display);}if(!z2R.display){z2R.display=z2R.id;}a7$=new x$_.Studies.StudyDescriptor(z2R.id,u0q,z2R.id,z2R,I9S,t6R);if(z2R.Period){a7$.days=Math.max(+"1",parseInt(a7$.inputs.Period,10));}h9b.Z7I();if(P9T){if(!P9T.inputs){P9T.inputs=a7$.study.inputs;}if(!P9T.outputs){P9T.outputs=a7$.study.outputs;}a7$.study=P9T;}else {P9T=a7$.study;}if(P9T.display){z2R.display=P9T.display;}if(typeof t6R.panelName == b2B){k9d=t6R.panelName;}if(k9d == z2R.id || k9d && !w8q.panelExists(k9d)){a7$.underlay=a7$.overlay=!!"";}if(k9d == Q68 || k9d == k25){k9d=null;}r11=a7$.overlay || z2R.Overlay || a7$.overlay !== ![] && P9T.overlay;p6m=a7$.underlay || z2R.Underlay || a7$.underlay !== !({}) && P9T.underlay;if(r11 && t6R.underlayEnabled){p6m=!!"1";}if(p6m){a7$.underlay=!"";}if(!p6m && w8q.chart.panel && k9d == w8q.chart.panel.name){r11=!0;}if(r11){a7$.overlay=!![];}n9I=w8q.preferences.dragging;if(n9I === !!({}) || n9I && n9I.study){a7$.overlay=!!1;}if(k9d){t6R.panelName=k9d;}else if(!r11 && !p6m){k9d=z2R.id;}if(t6R.calculateOnly){if(r11 || p6m){if(w8q.panels[t6R.panelName]){a7$.panel=t6R.panelName;}else {a7$.panel=x$_.Studies.getPanelFromFieldName(w8q,a7$) || t6R.chartName;}}return a7$;}h$e={};d8O=w8q.layout.studies[t6R.replaceID];if(d8O){h$e={outputMap:x$_.clone(d8O.outputMap),panel:d8O.panel};}a7$.panel="";if(k9d){k7a="s";k7a+="h";k7a+="ar";k7a+="ed";L6U="no";L6U+="ne";q4Q="New pan";q4Q+="el";x5n=x$_.Studies.smartMovePanel(w8q,a7$.inputs,k9d,t6R.replaceID,t6R.panelName == q4Q);if(x5n){a7$.panel=x5n.name;}if(t6R.yaxisDisplayValue && !["left","right",L6U,k7a,"default"].includes(t6R.yaxisDisplayValue) && !w8q.getYAxisByName(x5n,t6R.yaxisDisplayValue)){t6R.yaxisDisplayValue="default";}}else if(r11 || p6m){a7$.panel=x$_.Studies.getPanelFromFieldName(w8q,a7$) || t6R.chartName;}if(!a7$.panel){C7A=P9T.panelHeight || null;O7I=t6R.yAxis || P9T.yAxis || ({});O7I.name=a7$.inputs.id;a7$.panel=a7$.inputs.id;w8q.createPanel(a7$.inputs.display,a7$.panel,C7A,t6R.chartName,new x$_.ChartEngine.YAxis(O7I));}if(a7$.parameters && a7$.parameters.panelName){a7$.parameters.panelName=a7$.panel;}b8u=w8q.panels[a7$.panel];H3X=P9T?x$_.clone(P9T.yAxis):null;k$5=t6R.yAxis || H3X;if((k$5 || ({})).ground){k$5["initialMargin" + (k$5.flipped?"Top":"Bottom")]=0;}L8d=x$_.Studies.smartCreateYAxis(w8q,b8u,a7$.inputs.id,t6R.yaxisDisplayValue,k$5);if(L8d){if(L8d.name == t6R.replaceID){L8d.name=a7$.inputs.id;}if(!t6R.replaceID && L8d.name === a7$.name){w8q.calculateYAxisMargins(L8d);}L8d.allowSharing=!t6R.yAxis && !P9T.yAxis;L8d.width=L8d.position == "none"?0:x$_.ChartEngine.YAxis.prototype.width;if(t6R.yaxisDisplayValue == "shared" || t6R.yaxisDisplayValue == "default"){delete t6R.yaxisDisplayValue;}else {if(H3X){x$_.ensureDefaults(L8d,H3X);}if(L8d.name == a7$.name){if(!(H3X || ({})).textStyle && !t6R.yaxisDisplayColor || t6R.yaxisDisplayColor == "auto"){delete L8d.textStyle;}else if(t6R.yaxisDisplayColor){L8d.textStyle=x$_.colorToHex(t6R.yaxisDisplayColor);}if((H3X || ({})).justifyRight === undefined){L8d.justifyRight=null;}if(t6R.flippedEnabled !== undefined){L8d.flipped=t6R.flippedEnabled;}}}if(L8d != b8u.yAxis){L8d.displayGridLines=!"1";}else if(L8d != w8q.chart.yAxis){L8d.displayGridLines=w8q.displayGridLinesInStudies;}}w8q.calculateYAxisPositions();if(d8O){D7D=!1;for(var L2X in w8q.drawingObjects){E8r=w8q.drawingObjects[L2X];if(h$e.outputMap && h$e.outputMap.hasOwnProperty(E8r.field)){E8r.field=E8r.field.replace(t6R.replaceID,a7$.inputs.id);if(a7$.parameters && a7$.parameters.panelName){E8r.panelName=a7$.parameters.panelName;}else {E8r.panelName=a7$.panel;}D7D=!!({});}else if(h$e.panel && h$e.panel == E8r.panelName){E8r.panelName=E8r.panelName.replace(t6R.replaceID,a7$.inputs.id);D7D=!!1;}}if(D7D){w8q.changeOccurred("vector");}}return a7$;};h9b.Z7I();x$_.Studies.smartMovePanel=function(v4F,h8_,Q1w,d__,e0I){var M74,i8F,N46,u6z;h9b.Z7I();i8F=h8_.id;if(d__){M74=v4F.layout.studies[d__];}if(M74){N46=v4F.panels[M74.panel];if(N46){if(N46.yAxis.name == d__){if((e0I || Q1w != d__ && Q1w != i8F) && !v4F.checkForEmptyPanel(N46.name,!![],M74)){v4F.electNewPanelOwner(N46);u6z=M74.getYAxis(v4F);if(u6z.name == d__){v4F.electNewYAxisOwner(u6z);}}else if(Q1w == d__ || !v4F.panels[Q1w]){if(i8F != N46.name){v4F.modifyPanel(N46,{name:i8F,display:h8_.display});}Q1w=i8F;}}}}return v4F.panels[Q1w];};x$_.Studies.smartCreateYAxis=function(i2Q,F0m,Y51,a9U,x8G){var l_4,i6r,G7b,g3O,s3A,e2j,L4E,m6q;l_4="sh";l_4+="ared";i6r="sha";i6r+="r";i6r+="ed";h9b.m_N();G7b="ri";G7b+="gh";G7b+="t";g3O=x8G || ({});s3A=i2Q.getYAxisByName(F0m,Y51);if(!a9U && x8G){a9U=x8G.position;}if(["left",G7b,"none"].indexOf(a9U) > -1 || a9U === undefined && x8G){if(!s3A || s3A.isShared(i2Q)){if(x8G instanceof x$_.ChartEngine.YAxis){Y51=x8G.name;}x$_.extend(g3O,{name:Y51,position:a9U});if(!s3A && !i2Q.currentlyImporting && F0m != F0m.chart.panel && !F0m.yAxis.studies.length && !F0m.yAxis.renderers.length){s3A=F0m.yAxis;x$_.extend(s3A,g3O);}else {e2j=s3A == F0m.yAxis;if(s3A){s3A.name=i2Q.electNewYAxisOwner(s3A);}L4E=s3A || F0m.yAxis;if(L4E.lockScale){x$_.extend(g3O,{zoom:L4E.zoom,scroll:L4E.scroll,lockScale:!![]});}s3A=i2Q.addYAxis(F0m,new x$_.ChartEngine.YAxis(g3O));if(e2j){F0m.yAxis=s3A;}}}else {if(x8G){x$_.extend(s3A,x8G);}s3A.position=a9U;s3A.name=Y51;}return s3A;}if(a9U && a9U !== "default" && a9U !== i6r && a9U !== F0m.yAxis.name){m6q=i2Q.getYAxisByName(F0m,a9U);if(m6q && s3A == F0m.yAxis && !s3A.isShared(i2Q)){F0m.yAxis=m6q;}if(s3A && s3A.isShared(i2Q)){s3A.name=i2Q.electNewYAxisOwner(s3A);}else {if(s3A !== F0m.yAxis){i2Q.deleteYAxisIfUnused(F0m,s3A);}}return m6q;}if(a9U == l_4 || a9U == F0m.yAxis.name || F0m.yAxis.allowSharing && (!s3A || s3A.allowSharing)){if(s3A){if(s3A !== F0m.yAxis && s3A.isShared(i2Q)){s3A.name=i2Q.electNewYAxisOwner(s3A);}else {delete s3A.position;i2Q.deleteYAxisIfUnused(F0m,s3A);}}i2Q.resizeChart();return F0m.yAxis;}x$_.extend(g3O,{name:Y51});if(s3A){s3A.name=i2Q.electNewYAxisOwner(s3A);}if(!s3A || s3A.name){s3A=i2Q.addYAxis(F0m,new x$_.ChartEngine.YAxis(g3O));}else {x$_.extend(s3A,g3O);delete s3A.position;}return s3A;};x$_.Studies.calculateVolume=function(t2G,D28){var J69,V9u,a1_,u_s;if(D28.type == "vol undr"){J69="lay";J69+="out";if(!t2G || !t2G.chart.dataSet){return;}V9u=t2G.layout;a1_=D28.parameters.removeStudy;u_s=V9u.volumeUnderlay;V9u.volumeUnderlay=!a1_;if(u_s != V9u.volumeUnderlay){t2G.changeOccurred(J69);}if(a1_){x$_.Studies.removeStudy(t2G,D28);}}D28.outputMap={};D28.outputMap.Volume="";};x$_.Studies.MA=function(Q7D,g8u,n6L,d$K,E$x,o3B,B8R,p6Z){var g8I,R0S;g8I="m";g8I+="a";R0S=new x$_.Studies.StudyDescriptor(E$x + " " + B8R.name,g8I,B8R.panel);R0S.chart=B8R.chart;h9b.O$r(1);R0S.days=parseInt(g8u,h9b.b63(0,"10"));R0S.startFrom=B8R.startFrom;if(p6Z){R0S.subField=p6Z;}R0S.inputs={};if(Q7D){R0S.inputs.Type=Q7D;}if(n6L){R0S.inputs.Field=n6L;}if(d$K){R0S.inputs.Offset=parseInt(d$K,10);}x$_.Studies.calculateMovingAverage(o3B,R0S);};x$_.Studies.movingAverage={conversions:{ma:V_K,sma:"simple",ema:"exponential",tma:"triangular",vdma:"vidya",wma:"weighted",smma:o0i},translations:{simple:"Simple",exponential:"Exponential",triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:L6j,exponential:"Exponential",tma:l4e,triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:o$M,"welles wilder":"Exponential"}};x$_.Studies.movingAverageHelper=function(m3R,X33){var u7f;if(X33 == "options"){u7f={};for(var c8o in x$_.Studies.movingAverage.translations){u7f[c8o]=m3R.translateIf(x$_.Studies.movingAverage.translations[c8o]);}return u7f;}return x$_.Studies.movingAverage.conversions[X33];};x$_.Studies.createVolumeChart=function(w3s,c5B,h8j){var n8$,p8n,Q_q,b$G,a66,v48,B6U,Y7L,p3f,i0f,R$6,u6f,o7R,d7f,g3w,m65,r7P,H_Q,N1z,b$X,Y9M,i4r,I03;n8$="_d";n8$+="o";n8$+="wn";p8n="_";p8n+="u";p8n+="p";Q_q="_";Q_q+="u";Q_q+="p";b$G="ser";b$G+="ies";a66="Vo";a66+="l";a66+="um";a66+="e";v48="_";v48+="d";v48+="o";v48+="wn";B6U="c";B6U+="ol";B6U+="o";B6U+="r";Y7L="stx_vol";Y7L+="ume";p3f="stx_volume";p3f+="_und";p3f+="erlay";i0f="Do";i0f+="w";i0f+="n Volume";R$6=c5B.panel;u6f=c5B.inputs;o7R=c5B.underlay;d7f=x$_.Studies.determineColor(c5B.outputs["Up Volume"]);g3w=x$_.Studies.determineColor(c5B.outputs[i0f]);m65=o7R?p3f:Y7L;h9b.O$r(0);w3s.setStyle(h9b.b63(m65,"_up"),B6U,d7f);h9b.g33(0);w3s.setStyle(h9b.v0q(m65,v48),"color",g3w);r7P=c5B.volumeField || a66;H_Q=null;N1z=u6f.Series;if(N1z && N1z !== "Primary" && N1z !== b$G){H_Q=r7P;r7P=N1z;}b$X=[{field:r7P,subField:H_Q,fill_color_up:w3s.canvasStyle(m65 + Q_q).color,border_color_up:w3s.canvasStyle(m65 + "_up").borderLeftColor,opacity_up:w3s.canvasStyle(m65 + p8n).opacity,fill_color_down:w3s.canvasStyle(m65 + n8$).color,border_color_down:w3s.canvasStyle(m65 + "_down").borderLeftColor,opacity_down:w3s.canvasStyle(m65 + "_down").opacity,color_function:c5B.colorFunction}];Y9M=b$X[0];i4r=c5B.getYAxis(w3s);I03={name:"Volume",panel:R$6,yAxis:i4r,widthFactor:1,bindToYAxis:!!1,highlight:c5B.highlight};x$_.extend(I03,c5B.study.parameters);x$_.extend(I03,c5B.parameters);if(w3s.colorByCandleDirection && !c5B.colorFunction){Y9M.color_function=function(P0_){var A7x,P6F,W6t,h0J;A7x="Prim";A7x+="a";A7x+="ry";P6F=u6f.Series;if(P6F && P6F !== A7x && P6F !== "series"){P0_=P0_[P6F];}W6t=P0_.Open;h9b.Z7I();h0J=P0_.Close;return {fill_color:W6t > h0J?Y9M.fill_color_down:Y9M.fill_color_up,border_color:W6t > h0J?Y9M.border_color_down:Y9M.border_color_up,opacity:W6t > h0J?Y9M.opacity_down:Y9M.opacity_up};};}w3s.drawHistogram(I03,b$X);};x$_.Studies.calculateStandardDeviation=function(Y_d,u3F){var b9t,q1p,m02,v08,B5P,W_3,B2u,M1l,M5f,m2Z,J$E,N96,b5v,d1n,s1u;b9t="_";b9t+="M";b9t+="A";q1p="fi";q1p+="e";q1p+="l";q1p+="d";m02=u3F.chart.scrubbed;if(m02.length < u3F.days + 1){u3F.error=!"";return;}v08=u3F.inputs.Field;if(!v08 || v08 == q1p){v08="Close";}B5P=u3F.inputs["Moving Average Type"];if(!B5P){B5P=u3F.inputs.Type;}x$_.Studies.MA(B5P,u3F.days,v08,u3F.inputs.Offset,b9t,Y_d,u3F);W_3=0;B2u=0;M1l=0;M5f=Number(u3F.inputs["Standard Deviations"]);if(M5f < 0){M5f=+"2";}m2Z=u3F.name;for(var d3Z in u3F.outputs){h9b.g33(17);m2Z=h9b.v0q(m2Z," ",d3Z);}for((J$E=u3F.startFrom - 1,b5v=0);J$E >= 0 && b5v < u3F.days;(J$E--,b5v++)){N96=x$_.Studies.getQuoteFieldValue(m02[J$E],v08,u3F.subField);if(N96 === null){N96=0;}h9b.O$r(11);W_3+=Math.pow(N96,h9b.v0q(0,"2"));B2u+=N96;}for(J$E=u3F.startFrom;J$E < m02.length;J$E++){d1n=m02[J$E];N96=x$_.Studies.getQuoteFieldValue(d1n,v08,u3F.subField);if(N96 === null){N96=0;}W_3+=Math.pow(N96,+"2");B2u+=N96;if(J$E < u3F.days - 1)continue;if(J$E >= u3F.days){s1u=x$_.Studies.getQuoteFieldValue(m02[J$E - u3F.days],v08,u3F.subField);if(s1u === null){s1u=0;}h9b.g33(11);W_3-=Math.pow(s1u,h9b.v0q(32,"2"));B2u-=s1u;}M1l=d1n["_MA " + u3F.name];if(M1l || M1l === 0){h9b.g33(138);var S2T=h9b.v0q(19,19,1,0);h9b.O$r(55);var K9d=h9b.b63(54,7,8);d1n[m2Z]=Math.sqrt((W_3 + u3F.days * Math.pow(M1l,S2T) - K9d * M1l * B2u) / u3F.days) * M5f;}}};x$_.Studies.calculateMovingAverage=function(Y7w,P3B){var V8i,y1G,G$Y,l9O,o2B,s1M,x9_,N$W,x6Z,V50,j93,p3G,a7k,H$l,z_S,y30,I$a,J6Y,I_t,q3R;V8i="Clo";V8i+="se";y1G="s";y1G+="ma";if(!P3B.chart.scrubbed){return;}G$Y=P3B.inputs.Type;if(G$Y == "ma" || G$Y == y1G || !G$Y){G$Y="simple";}l9O=x$_.Studies.movingAverage.typeMap;if((G$Y in l9O)){return x$_.Studies["calculateMovingAverage" + l9O[G$Y]](Y7w,P3B);}else if(G$Y !== "simple"){return;}o2B=P3B.chart.scrubbed;s1M=+"0";x9_=[];N$W=P3B.name;for(var S3X in P3B.outputs){h9b.O$r(17);N$W=h9b.b63(N$W,("1212" << 32,4187) !== 2652?" ":4730 !== (+"78.7",7689)?(!!({}),!!({})):(!![],0xa3a),S3X);}x6Z=P3B.inputs.Field;if(!x6Z || x6Z == "field"){x6Z=V8i;}V50=parseInt(P3B.inputs.Offset,10);if(isNaN(V50)){V50=0;}h9b.m_N();H$l=P3B.startFrom;z_S=V50;for(j93=P3B.startFrom - 1;j93 >= 0;j93--){p3G=x$_.Studies.getQuoteFieldValue(o2B[j93],x6Z,P3B.subField);if(p3G === null)continue;if(z_S > 0){z_S--;H$l=j93;continue;}if(x9_.length == P3B.days - +"1")break;s1M+=p3G;x9_.unshift(p3G);}if(x9_.length < P3B.days - 1){x9_=[];H$l=0;}y30=[];for(j93=H$l;j93 < o2B.length;j93++){I$a=o2B[j93];p3G=x$_.Studies.getQuoteFieldValue(I$a,x6Z,P3B.subField);J6Y=j93 + V50 >= "0" << 0 && j93 + V50 < o2B.length;I_t=J6Y?o2B[j93 + V50]:null;if(p3G === null){if(I_t){I_t[N$W]=null;}else if(j93 + V50 >= o2B.length){a7k={};a7k[N$W]=null;y30.push(a7k);}continue;}s1M+=p3G;x9_.push(p3G);if(x9_.length > P3B.days){s1M-=x9_.shift();}q3R=x9_.length == P3B.days?s1M / P3B.days:null;if(I_t){I_t[N$W]=q3R;}else if(j93 + V50 >= o2B.length){a7k={};a7k[N$W]=q3R;y30.push(a7k);}}P3B.appendFutureTicks(Y7w,y30);};x$_.Studies.calculateMovingAverageExponential=function(T_3,z_Y){var A$N,R4k,X5F,m7J,f9X,j6i,U_S,H9Y,B1O,K0q,J_G,l3B,g91,f6b,V6C,e7C,l0O,U31,z4$,c4D,i35,Z4k,k1o;A$N="f";A$N+="iel";A$N+="d";R4k="sm";R4k+="ma";X5F="wel";X5F+="les wilde";X5F+="r";m7J=z_Y.inputs.Type;f9X=z_Y.chart.scrubbed;j6i=+"0";U_S=0;H9Y=+"0";h9b.O$r(0);var C41=h9b.b63(0,2);h9b.g33(111);var W86=h9b.b63(14,2,18,5);B1O=C41 / (z_Y.days + W86);if(m7J === X5F || m7J === R4k){h9b.g33(139);var R_4=h9b.b63(19,6,9,3);B1O=R_4 / z_Y.days;}K0q=null;J_G=z_Y.name;for(var W46 in z_Y.outputs){h9b.g33(17);J_G=h9b.v0q(J_G,(123.59,+"708") != "503.83" * 1?" ":712,W46);}l3B=z_Y.inputs.Field;if(!l3B || l3B == A$N){l3B="Close";}g91=parseInt(z_Y.inputs.Offset,+"10");if(isNaN(g91)){g91=0;}e7C=z_Y.startFrom;l0O=g91;for(f6b=z_Y.startFrom - 1;f6b >= 0;f6b--){V6C=f9X[f6b][J_G];if(!V6C && V6C !== 0)continue;if(K0q === null){K0q=V6C;}H9Y=z_Y.days;if(l0O <= "0" - 0)break;l0O--;e7C=f6b;}if(K0q === null){K0q=e7C=0;}U31=[];for(f6b=e7C;f6b < f9X.length;f6b++){z4$=f9X[f6b];V6C=x$_.Studies.getQuoteFieldValue(z4$,l3B,z_Y.subField);c4D=f6b + g91 >= 0 && f6b + g91 < f9X.length;i35=c4D?f9X[f6b + g91]:null;if(V6C === null){Z4k=null;}else {if(H9Y == z_Y.days - ("1" | 0)){j6i+=V6C;U_S=j6i / z_Y.days;Z4k=U_S;}else if(H9Y < z_Y.days - 1){j6i+=V6C;h9b.g33(140);U_S=h9b.v0q(j6i,H9Y,1);Z4k=null;}else if(H9Y === 0){j6i+=V6C;U_S=j6i;Z4k=null;}else if(K0q || K0q === 0){h9b.O$r(80);U_S=h9b.v0q(K0q,K0q,B1O,V6C);Z4k=U_S;}K0q=U_S;H9Y++;}if(i35){i35[J_G]=Z4k;}else if(f6b + g91 >= f9X.length){k1o={};k1o[J_G]=Z4k;U31.push(k1o);}}z_Y.appendFutureTicks(T_3,U31);};x$_.Studies.calculateMovingAverageVIDYA=function(I$I,o$r){var d3_,s0F,N2Q,K4T,N9r,c3n,I_s,m6w,T5C,G5l,E$J,G0S,o2f,Y9D,x5P,d65,I8H,l7s,B1J;d3_="m";d3_+="a";s0F=o$r.inputs.Type;N2Q=o$r.chart.scrubbed;h9b.g33(141);var v2h=h9b.b63(3,15,7,17,0);h9b.O$r(27);var e6J=h9b.b63(15,14,0);K4T=v2h / (o$r.days + e6J);N9r=null;c3n=o$r.name;for(var h4A in o$r.outputs){h9b.g33(17);c3n=h9b.v0q(c3n,2700 > 392?" ":(+"4224",9087) <= (6730,929)?"n":(4500,7095) !== (7910,231)?"o":0x9e6,h4A);}I_s=o$r.inputs.Field;if(!I_s || I_s == "field"){I_s="Close";}o$r.std=new x$_.Studies.StudyDescriptor(o$r.name,"sdev",o$r.panel);o$r.std.chart=o$r.chart;o$r.std.days=5;o$r.std.startFrom=o$r.startFrom;h9b.Z7I();o$r.std.inputs={Field:I_s,"Standard Deviations":1,Type:d3_};o$r.std.outputs={_STD:null};x$_.Studies.calculateStandardDeviation(I$I,o$r.std);x$_.Studies.MA("ma",20,"_STD " + o$r.name,0,"_MASTD",I$I,o$r);m6w=parseInt(o$r.inputs.Offset,10);if(isNaN(m6w)){m6w=0;}G0S=o$r.startFrom;o2f=m6w;for(T5C=o$r.startFrom - 1;T5C >= 0;T5C--){G5l=N2Q[T5C][c3n];if(!G5l && G5l !== 0)continue;if(N9r === null){N9r=G5l;}if(o2f <= 0)break;o2f--;G0S=T5C;}if(N9r === null){N9r=G0S=0;}Y9D=[];for(T5C=G0S;T5C < N2Q.length;T5C++){x5P=N2Q[T5C];G5l=x$_.Studies.getQuoteFieldValue(x5P,I_s,o$r.subField);d65=T5C + m6w >= 0 && T5C + m6w < N2Q.length;I8H=d65?N2Q[T5C + m6w]:null;if(G5l === null){if(I8H){I8H[c3n]=null;}else if(T5C + m6w >= N2Q.length){E$J={};E$J[c3n]=null;Y9D.push(E$J);}continue;}if(!x5P["_MASTD " + o$r.name] && x5P["_MASTD " + o$r.name] !== 0)continue;l7s=x5P["_STD " + o$r.name] / x5P["_MASTD " + o$r.name];h9b.g33(142);B1J=h9b.v0q(N9r,1,K4T,G5l,K4T,l7s,l7s);N9r=B1J;if(T5C < o$r.days){B1J=null;}if(I8H){I8H[c3n]=B1J;}else if(T5C + m6w >= N2Q.length){E$J={};E$J[c3n]=B1J;Y9D.push(E$J);}}o$r.appendFutureTicks(I$I,Y9D);};x$_.Studies.calculateMovingAverageTriangular=function(g_W,u2B){var g3s,f4E,B1F,O5m,j4y,B7r,w4Y,E6O,d0H;g3s=u2B.chart.scrubbed;f4E=u2B.inputs.Field;if(!f4E || f4E == "field"){f4E="Close";}B1F=Math.ceil(u2B.days / 2);x$_.Studies.MA("simple",B1F,f4E,0,"TRI1",g_W,u2B);if(u2B.days % 2 === +"0"){B1F++;}x$_.Studies.MA("simple",B1F,"TRI1 " + u2B.name,0,"TRI2",g_W,u2B);O5m=u2B.name;for(var J73 in u2B.outputs){h9b.g33(17);O5m=h9b.b63(O5m,(4990,444.12) === (4770,2860)?(0x7cd,!!1):7611 >= +"466.45"?" ":(837.6,699) <= 5260?(860.19,"P"):316.01,J73);}h9b.m_N();j4y=parseInt(u2B.inputs.Offset,10);if(isNaN(j4y)){h9b.O$r(1);j4y=h9b.v0q(0,"0");}B7r=j4y;for(var V6c=u2B.startFrom - 1;V6c >= 0;V6c--){w4Y=x$_.Studies.getQuoteFieldValue(g3s[V6c],O5m);if(w4Y === null)continue;if(B7r > 0){B7r--;continue;}break;}E6O=[];for(V6c++;V6c < g3s.length;V6c++){if(V6c + j4y >= 0){if(V6c + j4y < g3s.length){h9b.O$r(0);g3s[h9b.b63(V6c,j4y)][O5m]=g3s[V6c]["TRI2 " + u2B.name];}else {d0H={};d0H[O5m]=g3s[V6c]["TRI2 " + u2B.name];E6O.push(d0H);}}}u2B.appendFutureTicks(g_W,E6O);};x$_.Studies.calculateMovingAverageWeighted=function(C_6,a6m){var j7Y,Q8m,s_F,Q9d,s3k,k_f,e82,c2B,M8V,J2t,x9t,u3f,b7E,A6k,o8r,u3J,s_P,t$P;j7Y=a6m.chart.scrubbed;Q8m=0;s_F=0;Q9d=a6m.inputs.Field;h9b.m_N();if(!Q9d || Q9d == "field"){Q9d="Close";}h9b.g33(21);var s32=h9b.b63(0,13,12);h9b.g33(73);var G$U=h9b.b63(13,12,1,2,1);s3k=a6m.days * (a6m.days + s32) / G$U;k_f=a6m.name;for(var D_H in a6m.outputs){h9b.O$r(17);k_f=h9b.v0q(k_f,6476 == (9970,2.18)?("803.03" * 1,423.36):" ",D_H);}e82=parseInt(a6m.inputs.Offset,10);if(isNaN(e82)){e82=0;}x9t=[];u3f=a6m.startFrom;b7E=e82;for(c2B=a6m.startFrom - 1;c2B >= +"0";c2B--){M8V=x$_.Studies.getQuoteFieldValue(j7Y[c2B],Q9d,a6m.subField);if(M8V === null)continue;if(b7E > 0){b7E--;u3f=c2B;continue;}if(x9t.length == a6m.days - ("1" - 0))break;x9t.unshift(M8V);}if(x9t.length < a6m.days - 1){x9t=[];u3f=0;}for(c2B=0;c2B < x9t.length;c2B++){h9b.g33(110);var q_S=h9b.v0q(3,92,4,48);Q8m+=(c2B + ("1" << q_S)) * x9t[c2B];s_F+=x9t[c2B];}A6k=[];for(c2B=u3f;c2B < j7Y.length;c2B++){o8r=j7Y[c2B];M8V=x$_.Studies.getQuoteFieldValue(o8r,Q9d,a6m.subField);u3J=c2B + e82 >= 0 && c2B + e82 < j7Y.length;s_P=u3J?j7Y[c2B + e82]:null;if(M8V === null){if(s_P){s_P[k_f]=null;}else if(c2B + e82 >= j7Y.length){J2t={};J2t[k_f]=null;A6k.push(J2t);}continue;}x9t.push(M8V);if(x9t.length > a6m.days){Q8m-=s_F;s_F-=x9t.shift();}Q8m+=x9t.length * M8V;s_F+=M8V;t$P=c2B < a6m.days - 1?null:Q8m / s3k;if(s_P){s_P[k_f]=t$P;}else if(c2B + e82 >= j7Y.length){J2t={};J2t[k_f]=t$P;A6k.push(J2t);}}a6m.appendFutureTicks(C_6,A6k);};x$_.Studies.calculateMultMA=function(x5b,u7T){var M2p,R1G,S6w,S0m,k4n;M2p=u7T.chart.scrubbed;R1G=[Number.MAX_VALUE];Object.keys(u7T.inputs).filter(i0X=>{var o4Z;o4Z="P";o4Z+="erio";h9b.m_N();o4Z+="d";h9b.g33(2);var Y_X=h9b.b63(0,1);return i0X.indexOf(o4Z) > Y_X;}).forEach((y5u,C8h)=>{h9b.Z7I();h9b.O$r(0);R1G[h9b.v0q(C8h,1)]=u7T.inputs[y5u];});if(M2p.length < Math.min(...R1G) + 1){u7T.error=!!1;return;}S6w=u7T.inputs.Field;if(!S6w || S6w == "field"){S6w="Close";}S0m=u7T.inputs["Moving Average Type"];if(!S0m){S0m="simple";}k4n=u7T.inputs.Offset || +"0";for(var S73=1;S73 < R1G.length;S73++){x$_.Studies.MA(S0m,R1G[S73],S6w,k4n,"MA " + S73,x5b,u7T);}};x$_.Studies.calculateStudyATR=function(q1w,S6I){var G0P,j8Q,X5k,q90,W4P,T7D,Q5a,t8B,n3v,e3g;G0P=S6I.chart.scrubbed;j8Q=S6I.days;if(G0P.length < j8Q + ("1" << 96)){S6I.error=!![];return;}h9b.m_N();X5k=0;q90=S6I.name;for(var X_i=Math.max(S6I.startFrom,1);X_i < G0P.length;X_i++){W4P="Sum";W4P+=" True Range ";T7D="True Ran";T7D+="ge ";Q5a="Sum True R";Q5a+="a";Q5a+="nge ";t8B=G0P[X_i];h9b.g33(143);n3v=G0P[h9b.v0q(X_i,"1")];e3g=t8B.trueRange;if(n3v[Q5a + q90]){h9b.O$r(0);X5k=n3v[h9b.b63("Sum True Range ",q90)];}X5k+=e3g;if(X_i > j8Q){h9b.O$r(2);X5k-=G0P[h9b.v0q(X_i,j8Q)][h9b.b63("True Range ",q90,h9b.g33(0))];}h9b.O$r(0);t8B[h9b.b63(T7D,q90)]=e3g;h9b.g33(0);t8B[h9b.v0q(W4P,q90)]=X5k;if(X_i == j8Q){h9b.O$r(0);t8B[h9b.b63("ATR ",q90)]=h9b.b63(j8Q,X5k,h9b.O$r(9));}else if(X_i > j8Q){h9b.g33(37);var z1q=h9b.v0q(20,359,9,2);h9b.O$r(0);t8B[h9b.v0q("ATR ",q90)]=(n3v["ATR " + q90] * (j8Q - z1q) + e3g) / j8Q;}}};x$_.Studies.displayPSAR2=function(E6D,P8_,l9B){var A8X,M_E,x01,f6L,O6P,u5h,T_I,w5c,W5T,j8P,K6Q,y6O,G3W,Q5n;A8X="sq";A8X+="uarewave";M_E=E6D.panels[P8_.panel];x01=P8_.getYAxis(E6D);f6L=x01 == E6D.chart.panel.yAxis;E6D.startClip(M_E.name);h9b.m_N();O6P=P8_.getContext(E6D);u5h=P8_.inputs["Plot Type"] == A8X;for(var P4r in P8_.outputs){T_I=P4r + " " + P8_.name;O6P.beginPath();w5c=E6D.layout.candleWidth;W5T=Math.max(3,Math.floor(E6D.chart.tmpWidth / 2));for(var h_8="0" >> 96;h_8 < l9B.length;h_8++){j8P=l9B[h_8];if(!j8P || x$_.Studies.getQuoteFieldValue(j8P,T_I) === null)continue;if(j8P.candleWidth){w5c=j8P.candleWidth;}if(f6L && j8P.transform){j8P=j8P.transform;}K6Q=E6D.pixelFromBar(h_8,M_E.chart);if(u5h){h9b.O$r(9);K6Q-=h9b.b63(2,w5c);}y6O=E6D.pixelFromTransformedValue(j8P[P8_.referenceOutput?P8_.referenceOutput + ((9536,9870) > 473.76?" ":!1) + P8_.name:T_I],M_E,x01);if(h_8 === 0 || !l9B[h_8 - "1" * 1] || x$_.Studies.getQuoteFieldValue(l9B[h_8 - 1],T_I) === null){O6P.moveTo(K6Q,y6O);}if(u5h){O6P.lineTo(K6Q,y6O);h9b.O$r(0);O6P.lineTo(h9b.b63(K6Q,w5c),y6O);if(l9B[h_8 + +"1"]){h9b.g33(144);G3W=l9B[h9b.b63(h_8,"1",0)];if(f6L && G3W.transform){G3W=G3W.transform;}if(x$_.Studies.getQuoteFieldValue(G3W,T_I) === null){h9b.g33(0);O6P.lineTo(h9b.b63(K6Q,w5c),E6D.pixelFromTransformedValue(G3W[P8_.referenceOutput?P8_.referenceOutput + " " + P8_.name:T_I],E6D.panels[P8_.panel],x01));}}}else {h9b.O$r(51);O6P.moveTo(h9b.v0q(K6Q,2,W5T),y6O);h9b.g33(48);O6P.lineTo(h9b.v0q(W5T,2,K6Q),y6O);}}O6P.lineWidth=1;if(P8_.highlight){O6P.lineWidth=3;}Q5n=x$_.Studies.determineColor(P8_.outputs[P4r]);if(Q5n == "auto"){Q5n=E6D.defaultColor;}O6P.strokeStyle=Q5n;if(!P8_.highlight && E6D.highlightedDraggable){O6P.globalAlpha*=+"0.3";}O6P.stroke();O6P.closePath();O6P.lineWidth=1;}E6D.endClip();};x$_.Studies.inputAttributeDefaultGenerator=function(j2b){if(!j2b && j2b !== +"0"){return {};}h9b.m_N();if(j2b.constructor == Number){if(Math.floor(j2b) == j2b){if(j2b > +"0"){return {min:1,step:1};}return {step:"1" >> 64};}if(j2b > "0" - 0){return {min:+"0",step:0.01};}return {step:0.01};}return {};};x$_.Studies.getMarketOffset=function({stx:W7A, localQuoteDate:w_I, shiftToDateBoundary:t2F}){var M3P,O8c,Y8R,r9K,M7x;if(arguments.length > ("1" | 0)){W7A=arguments[0];w_I=arguments[1];M3P=arguments[2];}var {symbol:F6J}=W7A.chart;O8c=x$_.getFn("Market.Symbology.isForexMetal")(F6J);if(M3P === undefined){M3P=x$_.getFn("Market.Symbology.isForexSymbol")(F6J);}if(!W7A.chart.market){Y8R=null;}else {Y8R=M3P?"America/New_York":W7A.chart.market.market_tz;}h9b.O$r(145);var A5x=h9b.b63(60011,60011,60045,15,4);r9K=new Date(w_I.getTime() + w_I.getTimezoneOffset() * A5x);if(!Y8R || Y8R.indexOf("UTC") == -1){r9K=x$_.convertTimeZone(r9K,"UTC",Y8R);}M7x=new Date(r9K.getFullYear(),r9K.getMonth(),r9K.getDate(),r9K.getHours(),r9K.getMinutes(),r9K.getSeconds(),r9K.getMilliseconds()).getTime() - w_I.getTime();h9b.m_N();if(t2F && M3P){h9b.O$r(146);M7x+=h9b.b63(60,60,O8c?6:7,"1000");}return M7x;};x$_.Studies.getStudyList=function(T_B){var a1J,d12;a1J={};d12={};x$_.extend(d12,T_B);for(var F5M in x$_.Studies.studyLibrary){if(!d12[F5M]){a1J[x$_.Studies.studyLibrary[F5M].name]=F5M;}}return a1J;};x$_.Studies.determineColor=function(K_v){h9b.Z7I();if(!K_v){return null;}else if(typeof K_v === "object"){return K_v.color;}return K_v;};x$_.Studies.calculateGenericEnvelope=function(h9E,W9s,V1Q,S3c,M7z,L4G){var T_Y,R7K,z28,V$J,g5x,i5B,j95,E_1,c_y;if(!V1Q){h9b.O$r(2);V1Q=h9b.b63("0",0);}if(!L4G){L4G=+"0";}if(!S3c || S3c == "field"){S3c="Close";}if(!M7z){M7z=S3c;}T_Y=W9s.chart.scrubbed;if(!T_Y){return;}R7K=W9s.inputs.Field;for(var c92=W9s.startFrom;c92 < T_Y.length;c92++){z28="%";z28+="b";z28+=" ";V$J=T_Y[c92];if(!V$J)continue;g5x=x$_.Studies.getQuoteFieldValue(V$J,R7K);i5B=g5x !== null && g5x !== undefined?g5x:x$_.Studies.getQuoteFieldValue(V$J,"Close");j95=x$_.Studies.getQuoteFieldValue(V$J,M7z,W9s.subField);E_1=x$_.Studies.getQuoteFieldValue(V$J,S3c);if(E_1 === null)continue;h9b.g33(147);c_y=h9b.b63(L4G,j95,V1Q);h9b.g33(0);V$J[W9s.type + " Top " + W9s.name]=h9b.b63(E_1,c_y);h9b.g33(2);V$J[W9s.type + " Bottom " + W9s.name]=h9b.v0q(E_1,c_y);V$J[W9s.type + " Median " + W9s.name]=E_1;V$J["Bandwidth " + W9s.name]=E_1?200 * c_y / E_1:0;h9b.O$r(148);V$J[z28 + W9s.name]=h9b.b63(i5B,50,1,E_1,c_y);}};x$_.Studies.displayChannel=function(G9Z,s2_,I2T){var Y0a,G77,N5J,Y5J;if(s2_.inputs["Channel Fill"]){Y0a={panelName:s2_.panel};for(var c1Z in s2_.outputs){G77="Media";G77+="n";N5J=c1Z.split((+"9618",7059) === (6140,1460)?843.25:" ").pop();if(N5J == "Top" || N5J == "High"){h9b.g33(149);var m9g=h9b.b63(9,4790,5,3821);h9b.g33(138);var E2L=h9b.v0q(12,4549,4549,4537);h9b.g33(2);var Q8A=h9b.v0q(8069,19);h9b.g33(150);var y_H=h9b.v0q(7515,7459,19,7515,19);h9b.g33(43);var r$L=h9b.b63(6416,6431,15,6439,1);Y0a.topBand=c1Z + (+"5290" < (m9g,E2L)?(939.34,74.36) === 250.53?Q8A:(y_H,r$L) >= (548.81,5922)?"s":(147.83,"I"):" ") + s2_.name;}else if(N5J == "Bottom" || N5J == "Low"){Y0a.bottomBand=c1Z + " " + s2_.name;}else if(N5J == G77 || N5J == "Channel"){Y0a.color=x$_.Studies.determineColor(s2_.outputs[c1Z]);}}if(s2_.parameters && s2_.parameters.opacity){Y0a.opacity=s2_.parameters.opacity;}else {Y0a.opacity=0.2;}Y5J=G9Z.panels[s2_.panel];Y0a.skipTransform=Y5J.name != s2_.chart.name;Y0a.yAxis=s2_.getYAxis(G9Z);if(!s2_.highlight && G9Z.highlightedDraggable){Y0a.opacity*=0.3;}x$_.prepareChannelFill(G9Z,Y0a);}x$_.Studies.displaySeriesAsLine(G9Z,s2_,I2T);};x$_.Studies.initAnchorHandle=function(m9Q,c_f){var {handle:T$J}=c_f;if(T$J){return;}if(!m9Q.controls.anchorHandles){m9Q.controls.anchorHandles={};}var {anchorHandles:k8m, chartControls:U$U}=m9Q.controls;if(k8m[c_f.uniqueId]){({handle:T$J}=k8m[c_f.uniqueId]);}else {T$J=document.createElement("div");T$J.classList.add("stx_anchor_handle");T$J.setAttribute(c_f.uniqueId,"");k8m[c_f.uniqueId]={handle:T$J,sd:c_f};if(U$U){U$U.parentElement.appendChild(T$J);}}c_f.anchorHandle=T$J;};x$_.Studies.removeAnchorHandle=function(T2Z,i3X){h9b.m_N();var {handle:v9H}=(T2Z.controls.anchorHandles || ({}))[i3X.uniqueId] || ({});if(v9H){delete T2Z.controls.anchorHandles[i3X.uniqueId];v9H.remove();}};x$_.Studies.repositionAnchor=function(i78,R46){var m7H,k9s,W$D,m0T,H2_,D2n,B2z;var {currentAnchorTime:u86, uniqueId:v1w}=R46;var {hoverTick:E4h}=i78.repositioningAnchorSelector || ({});var {dataSet:Y2N, market:s_a}=i78.chart;if(!i78.controls.anchorHandles){i78.controls.anchorHandles={};}var {anchorHandles:k3J}=i78.controls;m7H={};if(E4h || E4h === "0" << 32){if(E4h >= Y2N.length){return;}k9s=!R46.inputs.hasOwnProperty("Anchor Date");W$D=Y2N[E4h].DT;m0T=x$_.Studies.getMarketOffset({stx:i78,localQuoteDate:W$D,shiftToDateBoundary:!!"1"});if(u86 && k9s && new Date(W$D.getTime() + m0T).getDate() !== new Date(u86.getTime() + m0T).getDate()){return;}if(s_a.market_def && s_a.market_def.market_tz){W$D=new W6L.Date(W$D,s_a.market_def.market_tz);}H2_=!k9s && x$_.dateToStr(W$D,"YYYY-MM-dd");D2n=x$_.dateToStr(W$D,"HH:mm:ss");m7H={"Anchor Time":D2n};if(H2_){m7H["Anchor Date"]=H2_;}}else {return;}B2z=x$_.Studies.replaceStudy(i78,R46.inputs.id,R46.type,Object.assign(R46.inputs,m7H),R46.outputs,R46.parameters,R46.panel);if(k3J[v1w]){k3J[v1w].sd=B2z;}i78.draw();};x$_.Studies.cancelRepositionAnchor=function(N1B){var {sd:e3b, tapToAdd:u2p}=N1B.repositioningAnchorSelector || ({});if(!e3b){return;}if(u2p){x$_.Studies.removeStudy(N1B,e3b);}N1B.repositioningAnchorSelector=null;var {anchorHandles:Q6W}=N1B.controls;if(Q6W && Q6W[e3b.uniqueId]){Q6W[e3b.uniqueId].highlighted=!!0;x$_.Studies.displayAnchorHandleAndLine(N1B,e3b,N1B.chart.dataSegment);}N1B.draw();};x$_.Studies.displayAnchorHandleAndLine=function(T5X,d5L,p0i){var T22,v1O,O1y,z_d,G3k,p$l,Y7S,c5j,U23,F7A,P0K,C7c,j44,q2N,a$h,w5Q,T8p,w5E,e_F,Z3H,n6D,s_7;T22="Ma";T22+="rket.Symbology.isForexSymbol";v1O="st";v1O+="x_anchor_hand";v1O+="le";if(d5L.signalData && !d5L.signalData.reveal){return;}if(!p0i || !p0i[+"0"]){return;}O1y=(T5X.repositioningAnchorSelector || ({})).sd === d5L;var {hoverTick:N5c}=O1y && T5X.repositioningAnchorSelector;var {chart:h71, panels:i_o, cy:C94}=T5X;h9b.Z7I();var {market:j24 = {}, symbol:U0S}=h71;z_d=i_o[d5L.panel];var {top:E5t, right:o32, left:o96, height:g5p, subholder:U6s}=z_d;var {bottom:X05}=z_d.yAxis;var {inputs:N2h, anchorHandle:p2S, currentAnchorTime:x8o, lineWidth:q$j = 1}=d5L;var {backgroundColor:S5_, borderLeftColor:D3l}=T5X.canvasStyle(v1O);G3k=!N2h["Anchor Date"];p$l=x$_.getFn(T22)(U0S);Y7S=(N5c || N5c === 0) && (T5X.chart.dataSet[N5c] || ({})).DT;c5j=x$_.Studies.getMarketOffset({stx:T5X,localQuoteDate:p0i[p0i.length - 1].DT,shiftToDateBoundary:!![]});U23=x8o && Y7S && G3k && new Date(Y7S.getTime() + c5j).getDate() !== new Date(x8o.getTime() + c5j).getDate();var {floatDate:u9h, anchorHandles:T7l = {}}=T5X.controls;F7A=T7l[d5L.uniqueId] || ({});var {highlighted:m99}=F7A;var [B_X,e6E]=j24.getNormalOpen().split(6350 === (8060,4064)?!![]:(2770,+"3168") >= (8910,+"7790")?+"3883" != 6710?(128.10,2.63e+3):"Z":":").map(J4K=>{h9b.m_N();return parseInt(J4K);});P0K=x3e=>{var K8d,A23,B6Q,C0Y;h9b.O$r(11);K8d=-h9b.b63(0,"774690129");A23=-+"1234063766";B6Q=2;for(var Y5y=1;h9b.u7W(Y5y.toString(),Y5y.toString().length,60683) !== K8d;Y5y++){C0Y=x3e?T5X.tickFromDate(x3e,1,1,!({})):N5c;return [T5X.pixelFromTick(C0Y,h71),C0Y];}if(h9b.u7W(B6Q.toString(),B6Q.toString().length,97993) !== A23){C0Y=x3e?T5X.tickFromDate(x3e,7,8,!""):N5c;return [T5X.pixelFromTick(C0Y,h71),C0Y];}C0Y=x3e?T5X.tickFromDate(x3e,null,null,!![]):N5c;return [T5X.pixelFromTick(C0Y,h71),C0Y];};C7c={y0:E5t,y1:X05,type:"line",confineToPanel:z_d};var [q68]=P0K();if(q68){q68-=0.5;T5X.plotLine(Object.assign(C7c,{x0:q68,x1:q68,color:U23?D3l:S5_,pattern:[6,"6" - 0],lineWidth:1,opacity:U23?0.5:1}));x$_.efficientDOMUpdate(u9h.style,"visibility","");T5X.updateChartAccessories();}if(p2S){j44="so";j44+="li";j44+="d";q2N=G3k?new Date(p0i[p0i.length - 1].DT):x$_.strToDate(N2h["Anchor Date"]);if(j24.market_def && j24.market_def.market_tz){q2N=new W6L.Date(q2N,j24.market_def.market_tz);}if(!G3k){a$h="Anch";a$h+="or";a$h+=" ";a$h+="Date";var [w1I,N8a,I1C]=(N2h[a$h] || "").split("-");if(!I1C){[,w1I,N8a,I1C]=w1I.match(/([0-9]{4})([0-9]{2})([0-9]{2})/);}h9b.O$r(2);q2N.setFullYear(w1I,h9b.v0q(N8a,1),I1C);}var [A05 = 0,h8n = 0,q8H = 0]=(N2h["Anchor Time"] || "").split(":");if(!h8n && h8n !== 0){[,A05,h8n,q8H]=A05.match(/([0-9]{2})([0-9]{2})([0-9]{2})/);}q2N.setHours(A05,h8n,q8H);w5Q=p$l && (q2N.getHours() > B_X || q2N.getHours() === B_X && q2N.getMinutes() >= e6E);if(w5Q){q2N.setDate(q2N.getDate() - ("1" << 64));}var [W$U,z12]=P0K(q2N);T8p=new Date(q2N);T8p.setHours(...j24.getNormalClose().split(4030 == 3890?(908,365.27):5810 === (280.64,7560)?("6.10e+3" << 32,!!({})):5340 >= 598.6?":":(6.69e+3,!!1)));if(w5Q){T8p.setDate(T8p.getDate() + 1);}var [B$N]=T8p && P0K(T8p) || [];if(G3k && (W$U > o32 || B$N > o32)){w5E=new Date(q2N);if(j24){do {w5E.setDate(w5E.getDate() - 1);}while(!j24.isMarketDate(w5E));}var [e3U,D0t]=P0K(w5E);if(e3U > o96){q2N=w5E;W$U=e3U;z12=D0t;}}W$U-=0.5;T5X.plotLine(Object.assign(C7c,{x0:W$U,x1:W$U,color:S5_,pattern:j44,lineWidth:q$j,opacity:m99 || d5L.highlight?1:0.5}));F7A.currentPixel=W$U;if(m99){e_F="e";e_F+="w-";e_F+="re";e_F+="size";Z3H="p";Z3H+="x";p2S.style.display="";h9b.g33(125);var e$D=h9b.b63(18,12,100,143,10);h9b.O$r(151);var F2r=h9b.v0q(19,44,2,10,197);h9b.g33(131);var Y_T=h9b.b63(160,126,20,6);p2S.style.height=Math.max(Math.min(e$D,g5p / F2r),Y_T) + "px";n6D=p2S.getBoundingClientRect();s_7=Math.max(Math.min(C94 - n6D.height / 2,X05 - 3 - n6D.height),E5t + 3);h9b.O$r(0);p2S.style.top=h9b.v0q(s_7,"px");h9b.O$r(27);var r4t=h9b.v0q(16,36,22);p2S.style.left=(N5c || N5c === 0?q68:W$U) - n6D.width / r4t + Z3H;U6s.style.cursor=e_F;}else {p2S.style.display="none";U6s.style.cursor="auto";}d5L.currentAnchorTime=q2N;d5L.currentAnchorTick=z12;}};x$_.Studies.assignAliasesToStudies=function(u7x){var u_8;u_8=this;h9b.Z7I();Object.entries(u7x).forEach(([a0G,m$X])=>{h9b.m_N();return (u_8.studyLibrary[a0G] || ({})).alias=m$X;});};x$_.Studies.studyScriptLibrary={};x$_.Studies.studyLibrary=x$_.Studies.studyLibrary || ({});x$_.extend(x$_.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!![],calculateFN:x$_.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:x$_.Studies.calculateStandardDeviation,inputs:{Period:"14" | 2,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"True Range":{name:"True Range",calculateFN:x$_.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:f9R,range:D5N,yAxis:{ground:!""},seriesFN:x$_.Studies.createVolumeChart,calculateFN:x$_.Studies.calculateVolume,inputs:{Series:"series"},attributes:{Series:{hidden:function(){h9b.m_N();return !Object.keys(this.chart.series).length;}}},outputs:{"Up Volume":"#8cc176","Down Volume":G_R}},MACross:{name:"Moving Average Cross",overlay:!![],calculateFN:x$_.Studies.calculateMultMA,inputs:{"MA 1 Period":20,"MA 2 Period":50,"MA 3 Period":200,Field:V1W,"Moving Average Type":"ma",Offset:+"0"},outputs:{"MA 1":a3X,"MA 2":"#00afed","MA 3":"#f4932f"}}});};b7=t7t=>{var N9p,L7i,V4d;N9p="u";N9p+="nde";N9p+="fin";N9p+="ed";L7i=typeof _CIQ !== N9p?_CIQ:t7t.CIQ;if(!L7i.ChartEngine.Driver){V4d="symb";V4d+="olLookupBase feature requires f";V4d+="irst activating";V4d+=" quoteFeed feature.";console.error(V4d);}else {L7i.ChartEngine.Driver.Lookup=function(n53){};L7i.ChartEngine.Driver.Lookup.prototype.acceptText=function(C88,h0R,J5T,A$v){if(!this.cb){return;}};}};m8=D$L=>{var D_G;D_G=typeof _CIQ !== "undefined"?_CIQ:D$L.CIQ;D_G.ThemeHelper=D_G.ThemeHelper || (function(G7I){var w0q,Q9E,V26,F_O,c6g,g6k,O04,L3Y,B9L,S8T;w0q="Candle";w0q+="/B";w0q+="ar";Q9E="Candl";Q9E+="e";Q9E+="/Bar";V26="stx_mountai";V26+="n_chart";F_O="st";F_O+="x_candle_";F_O+="down";c6g="Candle/Ba";c6g+="r";g6k="Cand";g6k+="le/B";g6k+="a";g6k+="r";O04="Candl";O04+="e/B";O04+="ar";L3Y="stx_c";L3Y+="andle_";L3Y+="u";L3Y+="p";this.params=G7I;B9L=G7I.stx;S8T="#";S8T+="FF";S8T+="FF";S8T+="FF";if(B9L.chart.container){S8T=getComputedStyle(B9L.chart.container).backgroundColor;if(D_G.isTransparent(S8T)){S8T=B9L.containerColor;}}this.settings.chart.Background.color=D_G.hexToRgba(S8T);this.settings.chart["Grid Lines"].color=D_G.hexToRgba(B9L.canvasStyle("stx_grid").color);this.settings.chart["Grid Dividers"].color=D_G.hexToRgba(B9L.canvasStyle("stx_grid_dark").color);this.settings.chart["Axis Text"].color=D_G.hexToRgba(B9L.canvasStyle("stx_xaxis").color);this.settings.chartTypes["Candle/Bar"].up.color=D_G.hexToRgba(B9L.canvasStyle(L3Y).color);this.settings.chartTypes[O04].down.color=D_G.hexToRgba(B9L.canvasStyle("stx_candle_down").color);this.settings.chartTypes["Candle/Bar"].up.wick=D_G.hexToRgba(B9L.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes[g6k].down.wick=D_G.hexToRgba(B9L.canvasStyle("stx_candle_shadow_down").color);this.settings.chartTypes["Candle/Bar"].even.wick=D_G.hexToRgba(B9L.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes[c6g].up.border=D_G.hexToRgba(B9L.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes["Candle/Bar"].down.border=D_G.hexToRgba(B9L.canvasStyle("stx_candle_down").borderLeftColor);if(D_G.isTransparent(B9L.canvasStyle("stx_candle_up").borderLeftColor)){this.settings.chartTypes["Candle/Bar"].up.border=null;}if(D_G.isTransparent(B9L.canvasStyle(F_O).borderLeftColor)){this.settings.chartTypes["Candle/Bar"].down.border=null;}this.settings.chartTypes.Line.color=D_G.hexToRgba(B9L.canvasStyle("stx_line_chart").color);this.settings.chartTypes.Mountain.color=D_G.hexToRgba(B9L.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=D_G.hexToRgba(B9L.canvasStyle(V26).color);if(!this.settings.chartTypes["Candle/Bar"].even.color){this.settings.chartTypes["Candle/Bar"].even.color=this.settings.chartTypes[Q9E].even.wick;}if(!this.settings.chartTypes["Candle/Bar"].even.border){this.settings.chartTypes["Candle/Bar"].even.border=this.settings.chartTypes[w0q].even.wick;}});D_G.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};D_G.ThemeHelper.prototype.update=function(H7_){var N1o,Z$s,l3N,Y5K,O3i,B0d,Y3S,z4k,G_0,t4h,C2O,m3b;function G0y(E7H,h3K,y6H){var E36;E36=t4h[E7H];for(var b90 in E36){H7_.setStyle(b90,h3K,y6H);}}N1o="stx_mo";N1o+="untain_chart";Z$s="ba";Z$s+="ckg";Z$s+="roundCo";Z$s+="lor";l3N="s";l3N+="tx_mo";l3N+="untain_char";l3N+="t";Y5K="bo";Y5K+="r";Y5K+="derT";Y5K+="opColor";O3i="co";O3i+="l";O3i+="o";O3i+="r";B0d="stx_sha";B0d+="dow_ev";B0d+="en";Y3S="stx_gr";Y3S+="id";Y3S+="_dark";z4k="co";z4k+="l";z4k+="o";z4k+="r";G_0="stx_";G_0+="grid";if(!H7_){H7_=this.params.stx;}t4h={stx_candle_up:{stx_candle_up:!![],stx_bar_up:!!({}),stx_hollow_candle_up:!!({}),stx_line_up:!!"1",stx_baseline_up:!!({})},stx_candle_down:{stx_candle_down:!!({}),stx_bar_down:!"",stx_hollow_candle_down:!!({}),stx_line_down:!0,stx_baseline_down:!!1},stx_candle_even:{stx_candle_even:!"",stx_bar_even:!!1,stx_hollow_candle_even:!0},stx_shadow_up:{stx_candle_shadow_up:!""},stx_shadow_down:{stx_candle_shadow_down:!![]},stx_shadow_even:{stx_candle_shadow_even:!!"1"},stx_line_chart:{stx_bar_chart:!!({}),stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!![]},stx_xaxis:{stx_xaxis_dark:!!({}),stx_xaxis:!"",stx_yaxis:!!({}),stx_yaxis_dark:!!"1",stx_grid_border:!![]},stx_mountain_chart:{stx_mountain_chart:!""},stx_market_session:{stx_market_session:!!({})}};H7_.chart.container.style.backgroundColor=this.settings.chart.Background.color;H7_.defaultColor="";G0y(G_0,z4k,this.settings.chart["Grid Lines"].color);G0y(Y3S,"color",this.settings.chart["Grid Dividers"].color);G0y("stx_xaxis","color",this.settings.chart["Axis Text"].color);C2O=this.settings.chartTypes["Candle/Bar"];if(!C2O.even){m3b="s";m3b+="t";m3b+="x_candle_shadow_ev";m3b+="en";C2O.even={color:null,wick:D_G.hexToRgba(H7_.canvasStyle(m3b).color),border:null};}G0y("stx_candle_up","color",C2O.up.color);G0y("stx_candle_down","color",C2O.down.color);G0y("stx_candle_even","color",C2O.even.color);G0y("stx_shadow_up","color",C2O.up.wick);G0y("stx_shadow_down","color",C2O.down.wick);G0y(B0d,O3i,C2O.even.wick);H7_.setStyle("stx_candle_up","borderLeftColor",C2O.up.border);H7_.setStyle("stx_candle_down","borderLeftColor",C2O.down.border);G0y("stx_line_chart","color",this.settings.chartTypes.Line.color);H7_.setStyle("stx_mountain_chart",Y5K,D_G.hexToRgba(this.settings.chartTypes.Mountain.color,1));H7_.setStyle(l3N,Z$s,D_G.hexToRgba(this.settings.chartTypes.Mountain.color,0.5));H7_.setStyle(N1o,"color",D_G.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));H7_.draw();};o1YMc.Z7I();D_G.ChartEngine.prototype.setThemeSettings=function(d_$){var j2P,i59;j2P=D_G.getFromNS(this,"uiContext.topNode.multiChartContainer");var {breakpoint:s2d}=this.chart;if(j2P){this.styles=j2P.styles[s2d] || ({});j2P.styles[s2d]=this.styles;}else {this.styles={};}this.chart.container.style.backgroundColor="";this.defaultColor="";if(d_$){i59=new D_G.ThemeHelper({stx:this});i59.settings=d_$;i59.update();}this.updateListeners("theme");o1YMc.m_N();this.changeOccurred("theme");if(this.displayInitialized){this.headsUpHR();this.clearPixelCache();this.updateListeners("theme");this.draw();}};};d5=q9A=>{var F$l=o1YMc;var J_c,B8y,Z81,F5a,p8s,W$V,e22,g08,t6m,W19;J_c="Su";J_c+="n";J_c+=">";J_c+="=1";B8y="last";B8y+="Sun";Z81="M";Z81+="a";Z81+="r";F5a="E%";F5a+="s";F5a+="T";p8s="GMT/";p8s+="B";p8s+="S";p8s+="T";W$V="J";W$V+="%";W$V+="s";W$V+="T";e22="A";e22+="s";e22+="ia/Toky";e22+="o";g08="U";g08+="TC";F$l.m_N();t6m=typeof _CIQ !== "undefined"?_CIQ:q9A.CIQ;W19=typeof _timezoneJS !== "undefined"?_timezoneJS:q9A.timezoneJS;t6m.timeZoneMap={"(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC) Greenwich Mean Time, Reykjavik":g08,"(UTC) Lisbon, London":"Europe/London","(UTC+09:00) Osaka, Sapporo, Tokyo":e22};(function(){var U43,B5b,W8x,D6b,T6O,L0d,R0K,R3p,E4T,L2B,R1I,z69,H8j,Y1v,O8P,H5Y,f2j,h0p,w2n,g0O;U43="N";U43+="ovem";U43+="ber";B5b="J";B5b+="ul";B5b+="y";W8x="J";W8x+="u";W8x+="n";W8x+="e";D6b="J";D6b+="anu";D6b+="ar";D6b+="y";T6O="Thursd";T6O+="ay";L0d="0";L0d+=".4.";L0d+="1";L0d+="1";R0K="un";R0K+="d";R0K+="efined";R3p="und";R3p+="e";R3p+="fine";R3p+="d";"use strict";E4T=typeof window !== R3p?window:null;L2B=E4T || (typeof global !== R0K?global:{});W19.VERSION=L0d;R1I=L2B.$ || L2B.jQuery || L2B.Zepto;z69=L2B.fleegix;H8j=W19.Days=["Sunday","Monday","Tuesday","Wednesday",T6O,"Friday","Saturday"];Y1v=W19.Months=[D6b,"February","March","April","May",W8x,B5b,"August","September","October",U43,"December"];O8P={};H5Y={};f2j={};for(var t8E=+"0";t8E < Y1v.length;t8E++){O8P[Y1v[t8E].substr(+"0",3)]=t8E;}for(t8E=0;t8E < H8j.length;t8E++){H5Y[H8j[t8E].substr(0,F$l.b63(0,"3",F$l.g33(46)))]=t8E;}h0p=Array.prototype.indexOf || (function(A$D){var w_8,F0A,G9N,E_5,x_8,g5o,c1F;if(this === null){throw new TypeError();}w_8=Object(this);F0A=w_8.length >>> 0;if(F0A === 0){G9N=2007818211;E_5=1050939024;x_8=2;for(var Y6I=1;F$l.u7W(Y6I.toString(),Y6I.toString().length,70915) !== G9N;Y6I++){return +9;}if(F$l.D$s(x_8.toString(),x_8.toString().length,63131) !== E_5){return -1;}}g5o=0;if(arguments.length > 1){g5o=Number(arguments[1]);if(g5o != g5o){g5o=+"0";}else if(g5o !== 0 && g5o !== Infinity && g5o !== -Infinity){F$l.O$r(110);var p_v=F$l.b63(5,123,19,12);F$l.g33(27);var v6Z=F$l.v0q(8,9,0);g5o=(g5o > "0" << p_v || v6Z) * Math.floor(Math.abs(g5o));}}if(g5o >= F0A){return -1;}c1F=g5o >= 0?g5o:Math.max(F0A - Math.abs(g5o),0);for(;c1F < F0A;c1F++){if((c1F in w_8) && w_8[c1F] === A$D){return c1F;}}return -1;});w2n=function(r6l,A7A){var r08,p1x,t6q;if(typeof r6l !== "number"){F$l.g33(0);throw F$l.b63("not a number: ",r6l);}F$l.g33(99);r08=F$l.v0q(1000,r6l);p1x=r6l.toString();t6q=p1x.length;if(r08 && t6q > A7A){F$l.g33(2);return p1x.substr(F$l.b63(t6q,A7A),t6q);}p1x=[p1x];while(t6q < A7A){p1x.unshift("0");t6q++;}return p1x.join("");};g0O=function(h2e){var n1m,Y$P,r2B,H0w,H9c,S4h,g6W;n1m="un";n1m+="defin";n1m+="ed";Y$P=-1643302211;F$l.Z7I();r2B=-2069135387;H0w=+"2";for(var m94=1;F$l.D$s(m94.toString(),m94.toString().length,"31964" << 32) !== Y$P;m94++){if(~h2e){return;}H0w+=2;}if(F$l.D$s(H0w.toString(),H0w.toString().length,1702) !== r2B){if(!h2e){return;}}if(!h2e.url){throw new Error("URL must be specified");}if(!(("async" in h2e))){h2e.async=!!1;}if((!z69 || typeof z69.xhr === n1m) && (!R1I || typeof R1I.ajax === "undefined")){H9c=1369470376;S4h=-1147572354;g6W=2;for(var W4y=1;F$l.D$s(W4y.toString(),W4y.toString().length,97416) !== H9c;W4y++){throw new Error("");g6W+=2;}if(F$l.D$s(g6W.toString(),g6W.toString().length,98679) !== S4h){throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");}}if(!h2e.async){return z69 && z69.xhr?z69.xhr.doReq({url:h2e.url,async:!1}):R1I.ajax({url:h2e.url,async:!"1",dataType:"text"}).responseText;}return z69 && z69.xhr?z69.xhr.send({url:h2e.url,method:"get",handleSuccess:h2e.success,handleErr:h2e.error}):R1I.ajax({url:h2e.url,dataType:"text",method:"GET",error:h2e.error,success:h2e.success});};W19.ruleCache={};W19.Date=function(){var i7d,I1x,c5a,V7P,o18,Z23,X6k,A6C;i7d="[objec";i7d+="t Array]";if(this === W19){throw "timezoneJS.Date object must be constructed with 'new'";}I1x=Array.prototype.slice.apply(arguments);c5a=null;V7P=null;o18=[];Z23=![];if(Object.prototype.toString.call(I1x["0" * 1]) === i7d){I1x=I1x[0];}if(typeof I1x[I1x.length - 1] === "string"){Z23=Date.parse(I1x[I1x.length - 1].replace(/GMT[+-]\d+/,""));if(isNaN(Z23) || Z23 === null){V7P=I1x.pop();}}X6k=!({});switch(I1x.length){case 0:c5a=new Date();break;case 1:c5a=new Date(I1x[0]);if(typeof I1x[0] == "string" && I1x[0].search(/[+-][0-9]{4}/) == -1 && I1x[0].search(/Z/) == -+"1" && I1x[0].search(/T/) == -1){X6k=!!({});}break;case 2:c5a=new Date(I1x[0],I1x[1]);X6k=!0;break;default:for(var j$x="0" >> 0;j$x < 7;j$x++){o18[j$x]=I1x[j$x] || 0;}c5a=new Date(o18[0],o18[1],o18[2],o18[3],o18[4],o18[5],o18[+"6"]);X6k=!!({});break;}if(isNaN(c5a.getTime())){A6C="I";A6C+="nvalid d";A6C+="ate";throw new Error(A6C);}this._useCache=![];this._tzInfo={};this._day=0;this.year=0;this.month=0;this.date=0;this.hours=0;this.minutes=0;this.seconds=0;F$l.g33(2);this.milliseconds=F$l.b63("0",0);this.timezone=V7P || null;if(X6k){this.setFromDateObjProxy(c5a);}else {this.setFromTimeProxy(c5a.getTime(),V7P);}};t6m.extend(W19.Date.prototype,{getDate:function(){F$l.m_N();return this.date;},getDay:function(){F$l.m_N();return this._day;},getFullYear:function(){F$l.Z7I();return this.year;},getMonth:function(){F$l.m_N();return this.month;},getYear:function(){F$l.O$r(21);F$l.m_N();var A5Q=F$l.v0q(1896,17,13);return this.year - A5Q;},getHours:function(){return this.hours;},getMilliseconds:function(){return this.milliseconds;},getMinutes:function(){F$l.Z7I();return this.minutes;},getSeconds:function(){F$l.m_N();return this.seconds;},getUTCDate:function(){F$l.m_N();return this.getUTCDateProxy().getUTCDate();},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function(){F$l.m_N();return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function(){F$l.Z7I();return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds();},getTime:function(){F$l.g33(27);var u$R=F$l.v0q(7,17,70);F$l.g33(44);var D_k=F$l.v0q(6,5,81,10);return this._timeProxy + this.getTimezoneOffset() * u$R * ("1000" | D_k);},getTimezone:function(){F$l.Z7I();return this.timezone;},getTimezoneOffset:function(){F$l.Z7I();return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function(){F$l.m_N();return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function(){var q34,i1h,x17;if(this._useCache){return this._tzInfo;}if(this.timezone){i1h="Et";i1h+="c/G";i1h+="MT";x17="Etc";x17+="/";x17+="U";x17+="TC";q34=this.timezone === x17 || this.timezone === i1h?{tzOffset:0,tzAbbr:"UTC"}:W19.timezone.getTzInfo(this._timeProxy,this.timezone);}else {q34={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=q34;F$l.m_N();this._useCache=!!1;return q34;},getUTCDateProxy:function(){var L5E;L5E=new Date(this._timeProxy);L5E.setUTCMinutes(L5E.getUTCMinutes() + this.getTimezoneOffset());return L5E;},setDate:function(K2M){this.setAttribute("date",K2M);return this.getTime();},setFullYear:function(D23,R4p,D0V){F$l.m_N();var r62;r62="yea";r62+="r";if(D0V !== undefined){this.setAttribute("date",1);}this.setAttribute(r62,D23);if(R4p !== undefined){this.setAttribute("month",R4p);}if(D0V !== undefined){this.setAttribute("date",D0V);}return this.getTime();},setMonth:function(w7G,F9N){this.setAttribute("month",w7G);if(F9N !== undefined){this.setAttribute("date",F9N);}return this.getTime();},setYear:function(I7D){var t2C;t2C="y";t2C+="e";t2C+="a";t2C+="r";I7D=Number(I7D);if(0 <= I7D && I7D <= 99){I7D+=1900;}this.setUTCAttribute(t2C,I7D);return this.getTime();},setHours:function(f$J,s4X,j_1,g_u){this.setAttribute("hours",f$J);if(s4X !== undefined){this.setAttribute("minutes",s4X);}if(j_1 !== undefined){this.setAttribute("seconds",j_1);}if(g_u !== undefined){this.setAttribute("milliseconds",g_u);}return this.getTime();},setMinutes:function(J3a,M0N,k3W){F$l.m_N();var p4y,z47,N60,S5r;this.setAttribute("minutes",J3a);if(M0N !== undefined){this.setAttribute("seconds",M0N);}if(k3W !== undefined){p4y=1901058414;z47=-593041195;N60=2;for(var S6X=1;F$l.u7W(S6X.toString(),S6X.toString().length,12668) !== p4y;S6X++){this.setAttribute("",k3W);N60+=2;}if(F$l.D$s(N60.toString(),N60.toString().length,45154) !== z47){S5r="mil";S5r+="lis";S5r+="econ";S5r+="ds";this.setAttribute(S5r,k3W);}}return this.getTime();},setSeconds:function(G0K,z4E){this.setAttribute("seconds",G0K);if(z4E !== undefined){this.setAttribute("milliseconds",z4E);}return this.getTime();},setMilliseconds:function(R5B){this.setAttribute("milliseconds",R5B);return this.getTime();},setTime:function(V6x){F$l.m_N();if(isNaN(V6x)){throw new Error("Units must be a number.");}this.setFromTimeProxy(V6x,this.timezone);return this.getTime();},setUTCFullYear:function(a1$,H6V,K4m){var e9l,S4z;e9l="y";e9l+="e";F$l.m_N();e9l+="ar";if(K4m !== undefined){this.setUTCAttribute("date",1);}this.setUTCAttribute(e9l,a1$);if(H6V !== undefined){S4z="m";S4z+="onth";this.setUTCAttribute(S4z,H6V);}if(K4m !== undefined){this.setUTCAttribute("date",K4m);}return this.getTime();},setUTCMonth:function(l4Y,A9I){var B36;B36="m";B36+="ont";B36+="h";this.setUTCAttribute(B36,l4Y);if(A9I !== undefined){this.setUTCAttribute("date",A9I);}return this.getTime();},setUTCDate:function(L8M){this.setUTCAttribute("date",L8M);F$l.m_N();return this.getTime();},setUTCHours:function(y8O,h06,j3t,g41){var u50,a_I,R3m;u50="h";F$l.Z7I();u50+="ours";this.setUTCAttribute(u50,y8O);if(h06 !== undefined){a_I="mi";a_I+="n";a_I+="utes";this.setUTCAttribute(a_I,h06);}if(j3t !== undefined){R3m="se";R3m+="cond";R3m+="s";this.setUTCAttribute(R3m,j3t);}if(g41 !== undefined){this.setUTCAttribute("milliseconds",g41);}return this.getTime();},setUTCMinutes:function(y6_,w11,R4x){this.setUTCAttribute("minutes",y6_);F$l.m_N();if(w11 !== undefined){this.setUTCAttribute("seconds",w11);}if(R4x !== undefined){this.setUTCAttribute("milliseconds",R4x);}return this.getTime();},setUTCSeconds:function(g1F,I4O){var c_u,w6o,r$V,z$I;c_u="s";c_u+="e";c_u+="c";c_u+="onds";this.setUTCAttribute(c_u,g1F);if(I4O !== undefined){w6o=259249219;r$V=-187993068;z$I=2;for(var K95=1;F$l.D$s(K95.toString(),K95.toString().length,86905) !== w6o;K95++){this.setUTCAttribute("",I4O);z$I+=2;}if(F$l.D$s(z$I.toString(),z$I.toString().length,81766) !== r$V){this.setUTCAttribute("",I4O);}this.setUTCAttribute("milliseconds",I4O);}return this.getTime();},setUTCMilliseconds:function(c3E){F$l.m_N();this.setUTCAttribute("milliseconds",c3E);return this.getTime();},setFromDateObjProxy:function(c6e){this.year=c6e.getFullYear();this.month=c6e.getMonth();this.date=c6e.getDate();this.hours=c6e.getHours();this.minutes=c6e.getMinutes();this.seconds=c6e.getSeconds();F$l.m_N();this.milliseconds=c6e.getMilliseconds();this._day=c6e.getDay();this._dateProxy=c6e;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!!0;},setFromTimeProxy:function(Q_D,F9C){var T9y,v05;T9y=new Date(Q_D);v05=F9C?W19.timezone.getTzInfo(Q_D,F9C,!!({})).tzOffset:T9y.getTimezoneOffset();T9y.setTime(Q_D + (T9y.getTimezoneOffset() - v05) * ("60000" | 64));this.setFromDateObjProxy(T9y);},setAttribute:function(e5g,E7x){var t6o,f4S;if(isNaN(E7x)){throw new Error("Units must be a number.");}t6o=this._dateProxy;F$l.m_N();f4S=e5g === "year"?"FullYear":e5g.substr(0,1).toUpperCase() + e5g.substr(1);t6o["set" + f4S](E7x);this.setFromDateObjProxy(t6o);},setUTCAttribute:function(h7u,P4i){var n$C,o6h,w_G,R11;n$C="s";n$C+="e";n$C+="t";n$C+="UTC";o6h="ye";o6h+="a";o6h+="r";F$l.m_N();if(isNaN(P4i)){throw new Error("Units must be a number.");}w_G=h7u === o6h?"FullYear":h7u.substr(0,1).toUpperCase() + h7u.substr(1);R11=this.getUTCDateProxy();R11[n$C + w_G](P4i);R11.setUTCMinutes(R11.getUTCMinutes() - this.getTimezoneOffset());this.setFromTimeProxy(R11.getTime() + this.getTimezoneOffset() * ("60000" | 32),this.timezone);},setTimezone:function(b3x){var O_K;O_K=this.getTimezoneInfo().tzOffset;this.timezone=b3x;this._useCache=!({});this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + O_K);},removeTimezone:function(){this.timezone=null;this._useCache=!!0;},valueOf:function(){F$l.Z7I();return this.getTime();},clone:function(){F$l.Z7I();return this.timezone?new W19.Date(this.getTime(),this.timezone):new W19.Date(this.getTime());},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT");},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var E$_;E$_="yyyy-M";E$_+="M-";E$_+="ddTHH:mm:ss.SSS";return this.toString(E$_,"Etc/UTC") + "Z";},toJSON:function(){return this.toISOString();},toDateString:function(){return this.toString("EEE MMM dd yyyy");},toTimeString:function(){return this.toString("H:mm k");},toString:function(V3d,t64){var C$6,x3q,W7j,X2h;if(!V3d){V3d="yyyy-MM-ddTHH:mm:ss.SSS";}C$6=V3d;x3q=t64?W19.timezone.getTzInfo(this.getTime(),t64):this.getTimezoneInfo();W7j=this;if(t64){W7j=this.clone();W7j.setTimezone(t64);}X2h=W7j.getHours();return C$6.replace(/a+/g,function(){var A4I,D0y,A_r;A4I=1058191784;D0y=-1277093120;A_r=2;for(var k79=1;F$l.D$s(k79.toString(),k79.toString().length,19167) !== A4I;k79++){return 3705 <= ("5406" >> 0,8354)?"":+"0x6e3";}F$l.Z7I();if(F$l.u7W(A_r.toString(),A_r.toString().length,13277) !== D0y){return 6332 < (+"2950",+"8930")?"k":0x151;}}).replace(/y+/g,function(F6y){F$l.m_N();return w2n(W7j.getFullYear(),F6y.length);}).replace(/d+/g,function(E__){return w2n(W7j.getDate(),E__.length);}).replace(/m+/g,function(J59){F$l.Z7I();return w2n(W7j.getMinutes(),J59.length);}).replace(/s+/g,function(H_4){F$l.Z7I();return w2n(W7j.getSeconds(),H_4.length);}).replace(/S+/g,function(n8Y){return w2n(W7j.getMilliseconds(),n8Y.length);}).replace(/h+/g,function(g7u){F$l.m_N();return w2n(X2h % 12 === ("0" | 0)?"12" - 0:X2h % ("12" - 0),g7u.length);}).replace(/M+/g,function(Y_e){var r$W,Y6a;r$W=W7j.getMonth();Y6a=Y_e.length;if(Y6a > 3){return W19.Months[r$W];}else if(Y6a > "2" >> 32){return W19.Months[r$W].substring(0,Y6a);}F$l.O$r(0);return w2n(F$l.b63(r$W,1),Y6a);}).replace(/k+/g,function(){if(X2h >= 12){if(X2h > +"12"){X2h-=+"12";}return "PM";}F$l.m_N();return "AM";}).replace(/H+/g,function(J01){F$l.Z7I();return w2n(X2h,J01.length);}).replace(/E+/g,function(R7b){F$l.m_N();return H8j[W7j.getDay()].substring(0,R7b.length);}).replace(/Z+/gi,function(){return x3q.tzAbbr;});},toUTCString:function(){return this.toGMTString();},civilToJulianDayNumber:function(I6D,f36,H8x){var Z5M,V65,E02;f36++;if(f36 > 12){F$l.g33(152);Z5M=parseInt(F$l.v0q(f36,"12",0),10);F$l.g33(91);f36=F$l.b63(f36,12);I6D+=Z5M;}if(f36 <= 2){I6D-=+"1";f36+=12;}F$l.g33(9);Z5M=Math.floor(F$l.b63(100,I6D));F$l.O$r(42);var O79=F$l.v0q(2,1,7,9);F$l.O$r(153);var B7v=F$l.v0q(18,151,11,8,15);V65=O79 - Z5M + Math.floor(Z5M / B7v);F$l.O$r(145);var K6k=F$l.b63(4727,4727,4824,12,10);F$l.g33(37);var m1d=F$l.b63(7,440,9,7);F$l.O$r(78);F$l.m_N();var g7h=F$l.v0q(11,1379,139,17);E02=Math.floor(("365.25" - 0) * (I6D + K6k)) + Math.floor(30.6001 * (f36 + m1d)) + H8x + V65 - g7h;return E02;},getLocalOffset:function(){F$l.m_N();return this._dateProxy.getTimezoneOffset();}},!!({}));W19.timezone=new (function(){var V1X,r_x,a14,Z7v,i75,b4j,z$K,R3u,d0R,Z_x,m6I,h2f,a2G,p0o,J94,h74,K86,q0K,G1l,i7p,C_2;function J9g(i_2,T8q){var d_g;F$l.O$r(77);var H4t=F$l.v0q(8,18440,36880,7360);F$l.g33(21);var Y2d=F$l.b63(2285,2294,9);F$l.g33(55);var L8i=F$l.v0q(18656,12,2073);F$l.O$r(55);var s1E=F$l.b63(28017,2,14433);F$l.O$r(14);var o4N=F$l.b63(65920,11,57669);d_g=G1l.zoneFileBasePath + (("3027" ^ 0,872.91) >= 137.73?H4t <= Y2d?L8i > 32.17?(s1E,"I"):"0x2461" >> 0:"/":o4N) + i_2;return !T8q || !T8q.async?G1l.parseZones(G1l.transport({url:d_g,async:!!""})):G1l.transport({async:!!1,url:d_g,success:function(w33){return G1l.parseZones(w33) && typeof T8q.callback === "function" && T8q.callback();},error:function(){F$l.Z7I();var a_G;a_G="Erro";a_G+="r retrieving '";F$l.g33(17);throw new Error(F$l.b63("' zoneinfo files",d_g,a_G));}});}V1X="e";V1X+="tc";V1X+="etera";r_x="a";r_x+="ust";r_x+="ral";r_x+="asia";a14="ant";a14+="arctica";Z7v="e";Z7v+="uro";Z7v+="pe";i75="e";i75+="u";i75+="rop";i75+="e";function S7z(F4n){var o$D,A5J;o$D=/(\d{1,2})(?::0*(\d{1,2}))?(?::0*(\d{1,2}))?([wsugz])?$/;A5J=F4n.match(o$D);A5J[1]=parseInt(A5J["1" - 0],10);A5J[2]=A5J["2" - 0]?parseInt(A5J[2],10):+"0";A5J[3]=A5J[3]?parseInt(A5J[3],10):0;return A5J.slice(1,5);}function V2J(K2E){var i6p,X3C,W0$,j_T;i6p=C_2[K2E];if(i6p){return i6p;}X3C=K2E.split((645.15,"434" >> 0) == (649.36,6890)?0x132e:"/")[F$l.b63(0,"0",F$l.g33(1))];W0$=i7p[X3C];if(W0$){return W0$;}j_T=G1l.zones[K2E];if(typeof j_T === "string"){return V2J(j_T);}if(!G1l.loadedZones.backward){G1l.loadZoneFile("backward");return V2J(K2E);}F$l.Z7I();N_O(K2E);}b4j="e";b4j+="u";b4j+="rop";b4j+="e";z$K="e";z$K+="urop";z$K+="e";function B$W(n1g){var l9Q,u$U;l9Q=S7z(n1g);u$U=n1g.charAt(0) === "-"?-1:1;F$l.g33(0);var l1$=F$l.v0q(41,19);F$l.g33(27);var P6N=F$l.v0q(11,15,5);F$l.O$r(2);var l08=F$l.b63(840,780);F$l.g33(2);var s1L=F$l.v0q(22,20);F$l.O$r(67);var d1_=F$l.v0q(18017,19000,4,13);l9Q=u$U * (((l9Q[0] * l1$ + l9Q[P6N]) * l08 + l9Q[s1L]) * d1_);F$l.O$r(154);F$l.Z7I();return F$l.b63(l9Q,1000,60);}R3u="australas";function a$n(x4e,E4v){var M88,u4O;M88=x4e[2];if(M88.indexOf("%s") > -1){if(E4v){u4O=E4v[7] === "-"?"":E4v[7];}else {u4O=(99,788.08) == 6600?+"566.58":"961.78" * 1 < 1617?+"7518" > (686,2550)?"S":("0x1212" ^ 0,0x2066):!0;}return M88.replace("%s",u4O);}else if(M88.indexOf(661 <= 5770?"/":191.78) > -1){return M88.split(6230 == (7126,"3830" ^ 0)?3.34e+3:(2944,"9390" * 1) === 2287?(8703,1338) !== (6980,9522)?(427.60,"n"):9.62e+3:"/",2)[E4v?E4v[6]?1:+"0":0];}return M88;}R3u+="ia";d0R="a";function N_O(W6e){F$l.m_N();F$l.O$r(17);throw new Error(F$l.v0q("' is either incorrect, or not loaded in the timezone registry.",W6e,"Timezone '"));}d0R+="si";d0R+="a";Z_x="anta";Z_x+="rc";Z_x+="tica";m6I="northameri";m6I+="c";m6I+="a";h2f="northam";function m2h(f83,p4s){F$l.g33(2);return -Math.ceil(F$l.b63(p4s,f83));}h2f+="erica";a2G="eu";a2G+="r";a2G+="op";a2G+="e";p0o="eu";function n0r(t$G){var L0$,R13,t_7,K$h;if(!t$G[3]){return;}L0$=parseInt(t$G[3],10);F$l.m_N();R13=11;t_7=31;if(t$G[4]){R13=O8P[t$G[4].substr(+"0",3)];t_7=parseInt(t$G[5],10) || 1;}K$h=t$G[6]?S7z(t$G[+"6"]):[0,0,+"0"];F$l.O$r(1);return [L0$,R13,t_7,K$h[0],K$h[1],K$h[F$l.b63(0,"2")]];}p0o+="rope";J94="e";J94+="ur";J94+="ope";h74="n";h74+="orthamerica";function F6Z(c32,O0o){var l4D,u6Z,d$T,m3a,x5O,G4N,v7G;l4D="st";l4D+="ri";l4D+="n";l4D+="g";u6Z="num";u6Z+="b";u6Z+="e";u6Z+="r";d$T=typeof c32 === u6Z?c32:new Date(+c32).getTime();m3a=O0o;x5O=G1l.zones[m3a];while(typeof x5O === l4D){m3a=x5O;x5O=G1l.zones[m3a];}if(!x5O){if(!G1l.loadedZones.backward){G1l.loadZoneFile("backward");return F6Z(c32,O0o);}else if(m3a && m3a !== O0o){G1l.lazyLoadZoneFiles(m3a);return F6Z(c32,m3a);}N_O(m3a);}F$l.Z7I();if(x5O.length === 0){G4N="'";G4N+=" on ";F$l.g33(57);throw new Error(F$l.b63(O0o,c32,G4N,"No Zone found for '"));}for(var V37=x5O.length - 1;V37 >= 0;V37--){v7G=x5O[V37];if(v7G[3] && d$T > v7G[3])break;}F$l.g33(0);return x5O[F$l.v0q(V37,1)];}K86="northam";K86+="e";K86+="rica";q0K="north";q0K+="amer";q0K+="ica";G1l=this;i7p={Etc:"etcetera",EST:q0K,MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:K86,MST7MDT:"northamerica",PST8PDT:h74,America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:J94,Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:p0o,CET:"europe",MET:a2G,EET:"europe"};C_2={"Pacific/Honolulu":h2f,"Atlantic/Bermuda":m6I,"Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":Z_x,"Indian/Chagos":d0R,"Indian/Maldives":"asia","Indian/Christmas":R3u,"Indian/Cocos":"australasia","America/Danmarkshavn":z$K,"America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":b4j,"Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":i75,"Asia/Anadyr":Z7v,"Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"};this.zoneFileBasePath=null;this.zoneFiles=["africa",a14,"asia",r_x,"backward",V1X,"europe","northamerica","pacificnew","southamerica"];this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"};this.getRegionForTimezone=V2J;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};function m4q(M_F,D9K,W75,C2X){var t1j,m$l,o4X,F0P,M2D,T6D,P5O,D0O,E3s,w9E,o8T,d_q,Y56;t1j=typeof M_F === "number"?new Date(M_F):M_F;m$l=D9K[1];o4X=D9K[0];F0P=m$l.match(/^([0-9]):([0-9][0-9])$/);if(F0P){F$l.O$r(155);var X7F=F$l.v0q(5,5,0,20,0);F$l.g33(0);var H8X=F$l.v0q(1,9);F$l.O$r(2);var d6n=F$l.b63(77,17);F$l.g33(55);var T0j=F$l.v0q(10,20,1);return [-1000000,"max",3083 <= 299.82?"z":"-","Jan",1,[+"0",0,0],parseInt(F0P[X7F],H8X) * d6n + parseInt(F0P["2" ^ 0],T0j),"-"];}M2D=function(Z4T,N$h,y0M){F$l.Z7I();var y4p,A7d;y4p=0;if(N$h === "u" || N$h === ((452,2240) >= 654.02?(396.72,+"170.63") > "6957" - 0?(385.20,0x768):(5920,242.91) > +"298.33"?"b":"g":(![],+"615")) || N$h === (("1800" * 1,3503) != 452.93?"z":("U",!!1))){y4p=0;}else if(N$h === (95.67 === (325.06,4150)?9.00e+1:"4662" >> 32 !== (9403,611.31)?827.89 != (437.28,670.98)?"s":(+"0x104e",4.30e+3):0xc77)){y4p=o4X;}else if(N$h === (150 !== (3180,4772)?"w":(!![],+"9.37e+3")) || !N$h){y4p=m2h(o4X,y0M[+"6"]);}else {A7d="unk";A7d+="nown";A7d+=" type";A7d+=" ";F$l.O$r(0);throw new Error(F$l.b63(A7d,N$h));}F$l.O$r(156);y4p*=F$l.v0q(60,96,"1000");return new Date(Z4T.getTime() + y4p);};T6D=function(K48,I9$){var S1Z,e8I,W7d,r4V,B5q,e8s,F$y,h__;S1Z=K48[+"0"];F$l.g33(3);e8I=K48[F$l.b63("1",1)];W7d=e8I[5];if(!f2j[S1Z]){f2j[S1Z]={};}if(f2j[S1Z][e8I]){r4V=f2j[S1Z][e8I];}else {if(!isNaN(e8I[4])){r4V=new Date(Date.UTC(S1Z,O8P[e8I[3]],e8I[4],W7d[0],W7d[1],W7d[2],0));}else {if(e8I[4].substr(0,+"4") === "last"){F$y="<";F$y+="=";r4V=new Date(Date.UTC(S1Z,O8P[e8I[3]] + 1,1,W7d[0] - 24,W7d[1],W7d[2],0));B5q=H5Y[e8I[+"4"].substr(4,3)];e8s=F$y;}else {r4V=new Date(Date.UTC(S1Z,O8P[e8I[3]],e8I[4].substr(5),W7d[0],W7d[+"1"],W7d["2" - 0],0));B5q=H5Y[e8I[4].substr(0,3)];e8s=e8I[4].substr(3,2);}h__=r4V.getUTCDay();if(e8s === ">="){r4V.setUTCDate(r4V.getUTCDate() + (B5q - h__ + (B5q < h__?"7" >> 32:0)));}else {r4V.setUTCDate(r4V.getUTCDate() + (B5q - h__ - (B5q > h__?7:0)));}}f2j[S1Z][e8I]=r4V;}if(I9$){r4V=M2D(r4V,W7d[3],I9$);}F$l.Z7I();return r4V;};P5O=function(f13,n91){var z0z,s55;z0z=[];if(n91){for(var q1a=0;q1a < n91.length;q1a++){s55="o";s55+="n";s55+="l";s55+="y";if(n91[q1a][0] <= f13 && (n91[q1a][1] >= f13 || n91[q1a][0] === f13 && n91[q1a][+"1"] === s55 || n91[q1a][1] === "max")){z0z.push([f13,n91[q1a]]);}}}return z0z;};D0O=function(m47,v3r,j6_){var T6k,X2e;if(!(m47 instanceof Date)){T6k=m47[0];F$l.O$r(1);X2e=m47[F$l.b63(0,"1")];m47=!j6_ && f2j[T6k] && f2j[T6k][X2e]?f2j[T6k][X2e]:T6D(m47,j6_);}else if(j6_){m47=M2D(m47,W75?8830 != 460.58?(216,985.37) == (275.58,886.18)?0x4fb:434.64 == 8580?8.81e+3:"u":113.23:"w",j6_);}if(!(v3r instanceof Date)){T6k=v3r[0];X2e=v3r[1];v3r=!j6_ && f2j[T6k] && f2j[T6k][X2e]?f2j[T6k][X2e]:T6D(v3r,j6_);}else if(j6_){v3r=M2D(v3r,W75?"u":"w",j6_);}m47=Number(m47);v3r=Number(v3r);F$l.O$r(2);return F$l.b63(m47,v3r);};E3s=t1j.getUTCFullYear();o8T=W19.ruleCache[C2X];if(!o8T){o8T=W19.ruleCache[C2X]={};}w9E=o8T[E3s];if(!w9E){F$l.O$r(2);w9E=P5O(F$l.v0q(E3s,1),G1l.rules[m$l]);w9E=w9E.concat(P5O(E3s,G1l.rules[m$l]));w9E.sort(D0O);o8T[E3s]=w9E;}if(!w9E || !w9E.length){return null;}for(var T00=w9E.length - 1;T00 >= 0;T00--){if(T00 > 0){F$l.O$r(2);d_q=w9E[F$l.b63(T00,1)][+"1"];}else {d_q=null;}Y56=w9E[T00];if(!Y56[2]){Y56[2]=T6D(Y56,d_q);}if(D0O(t1j,Y56,d_q) >= 0){return Y56[1];}}return null;}this.zones={};this.rules={};this.init=function(C_x){var N4Y,s7N;N4Y={async:!!"1"};s7N=this.loadingScheme === this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile || "northamerica";for(var x2S in C_x){N4Y[x2S]=C_x[x2S];}return this.loadZoneFiles(s7N,N4Y);};this.loadZoneFiles=function(o9f,t7f){var i96,H$m;H$m=0;if(typeof o9f === "string"){return this.loadZoneFile(o9f,t7f);}t7f=t7f || ({});i96=t7f.callback;t7f.callback=function(){H$m++;F$l.m_N();H$m === o9f.length && typeof i96 === "function" && i96();};for(var b$b=0;b$b < o9f.length;b$b++){this.loadZoneFile(o9f[b$b],t7f);}};this.loadZoneFile=function(n_j,y2E){var b8J;F$l.Z7I();if(typeof this.zoneFileBasePath === "undefined"){b8J="Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBaseP";b8J+="ath.";throw new Error(b8J);}if(this.loadedZones[n_j]){return;}this.loadedZones[n_j]=!"";return J9g(n_j,y2E);};F$l.Z7I();this.loadZoneJSONData=function(j3d,Q5_){var C3B;C3B=function(t9z){t9z=JSON.parse(t9z);for(var T3y in t9z.zones){G1l.zones[T3y]=t9z.zones[T3y];}F$l.Z7I();for(var r6Z in t9z.rules){G1l.rules[r6Z]=t9z.rules[r6Z];}};return Q5_?C3B(G1l.transport({url:j3d,async:!({})})):G1l.transport({url:j3d,success:C3B});};this.loadZoneDataFromObject=function(A$e){if(!A$e){return;}for(var b2y in A$e.zones){G1l.zones[b2y]=A$e.zones[b2y];}for(var A2E in A$e.rules){G1l.rules[A2E]=A$e.rules[A2E];}};this.getAllZones=function(){var e9I;e9I=[];for(var L$A in this.zones){e9I.push(L$A);}return e9I.sort();};this.parseZones=function(v4C){F$l.Z7I();var S_Q,k7F,Z5w,k0j,r0B,r$Y,E8m,f4t,R5G;if(!v4C){return ![];}S_Q=v4C.split("\n");k7F=[];Z5w="";r0B=null;r$Y=null;for(var J_W=0;J_W < S_Q.length;J_W++){k0j=S_Q[J_W];if(k0j.match(/^\s/)){E8m="Zo";E8m+="n";E8m+="e";E8m+=" ";F$l.g33(17);k0j=F$l.v0q(k0j,r0B,E8m);}k0j=k0j.split(+"666.14" != 4276?"#":"T")[0];if(k0j.length > 3){f4t="Z";f4t+="o";f4t+="ne";k7F=k0j.split(/\s+/);Z5w=k7F.shift();switch(Z5w){case f4t:r0B=k7F.shift();if(!G1l.zones[r0B]){G1l.zones[r0B]=[];}if(k7F.length < 3)break;k7F.splice(3,k7F.length,n0r(k7F));if(k7F[3]){k7F[3]=Date.UTC.apply(null,k7F[3]);}k7F[+"0"]=-B$W(k7F[0]);G1l.zones[r0B].push(k7F);break;case "Rule":r$Y=k7F.shift();if(!G1l.rules[r$Y]){G1l.rules[r$Y]=[];}F$l.O$r(1);k7F[F$l.v0q(0,"0")]=parseInt(k7F[0],+"10");k7F[+"1"]=parseInt(k7F[1],"10" | 0) || k7F[1];F$l.g33(18);k7F[F$l.v0q(0,"5")]=S7z(k7F[5]);k7F[+"6"]=B$W(k7F[6]);G1l.rules[r$Y].push(k7F);break;case "Link":if(G1l.zones[k7F["1" * 1]]){R5G=". Cannot create link of a";R5G+=" preexisted";R5G+=" zone.";F$l.g33(64);var k$0=F$l.v0q(18,1,9);throw new Error("Error with Link " + k7F[k$0] + R5G);}if(isNaN(k7F[0])){G1l.zones[k7F[1]]=k7F[0];}else {G1l.zones[k7F[1]]=parseInt(k7F[+"0"],"10" >> 0);}break;}}}return !!"1";};this.transport=g0O;this.getTzInfo=function(a5J,W3W,q99){var z5T,r3G,Y_C,r7_;this.lazyLoadZoneFiles(W3W);z5T=F6Z(a5J,W3W);F$l.O$r(1);r3G=+z5T[F$l.b63(0,"0")];Y_C=m4q(a5J,z5T,q99,W3W);if(Y_C){r3G=m2h(r3G,Y_C[6]);}r7_=a$n(z5T,Y_C);return {tzOffset:r3G,tzAbbr:r7_};};this.lazyLoadZoneFiles=function(p$A){var L3V,S8q;if(this.loadingScheme === this.loadingSchemes.LAZY_LOAD){L3V=V2J(p$A);if(!L3V){S8q="Not";S8q+=" a valid timezone ID.";throw new Error(S8q);}this.loadZoneFiles(L3V);}};})();}).call(typeof window !== "undefined"?window:this);W19.timezone.loadingScheme=W19.timezone.loadingSchemes.MANUAL_LOAD;W19.timezone.loadZoneDataFromObject({zones:{"Asia/Tokyo":[[-540,"",W$V,null]],"Etc/UTC":[[0,5908 !== ("877.38" * 1,"3249" * 1)?"-":220.57 >= (1150,7510)?"T":0x25c3,"UTC",null]],"Europe/London":[["0" << 64,"EU",p8s,null]],"America/New_York":[[300,"US",F5a,null]],UTC:"Etc/UTC"},rules:{EU:[[1981,"max",246.52 <= 8784?"-":(![],9.44e+3),Z81,B8y,[1,0,0,("257.33" - 0,375.88) > 8220?!!0:384.24 <= (4415,"2815" * 1)?"u":(162.27,3223) == (7206,8303)?(629.54,6.27e+3):!!0],"60" >> 32,128.22 != (532.52,+"62")?"374.25" - 0 == (+"775",3800)?(270.78,5.58e+3):"S":(0x1e4b,"a")],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,(1350,9580) > 5420?884 >= ("4630" - 0,"4083" - 0)?6264 !== (677.85,"1370" | 74)?(0xdf5,599.58):("c",278.98):"-":(!"",1.41e+3)]],US:[[2007,"max",(4970,7960) < +"9920"?"-":4.18e+3,"Mar","Sun>=8",[2,0,+"0",null],60,4596 == (5410,"632.94" - 0)?(!!0,686.86):(9170,+"893.91") == (846.06,+"5110")?(![],"Q"):+"9929" >= "3310" >> 0?"D":(0x239f,0x1c05)],[2007,"max",(3320,9983) > 168.29?"-":0x1a75,"Nov",J_c,[2,0,0,null],0,5180 >= (493.04,9230)?312.05 < 4050?6.02e+3:1.32e+3:"S"]]}});};H_=p0O=>{var s5l=o1YMc;var H1e,j9c;H1e=typeof _CIQ !== "undefined"?_CIQ:p0O.CIQ;H1e.ChartEngine.prototype.touchSingleClick=function(L96,C8A,y9_){var B5E,R7y;B5E=this;R7y=arguments;return function(){(function(){var F0s,c23,x3A,B3f,O4U,U0s,v2G;F0s="touchSingle";F0s+="Clic";F0s+="k";if(!this.cancelTouchSingleClick){c23="touchSi";c23+="ngleC";c23+="lick";if(this.runPrepend(c23,R7y)){return;}if(this.editingAnnotation){return;}this.clicks={};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(C8A < this.left || C8A > this.right || y9_ < this.top || y9_ > this.bottom){return;}x3A=this.crossYActualPos;B3f=this.crossXActualPos;this.currentPanel=this.whichPanel(x3A);O4U=this.currentVectorParameters.vectorType;if(!H1e.Drawing || !O4U || !H1e.Drawing[O4U] || !new H1e.Drawing[O4U]().dragToDraw){if(!this.drawingClick(this.currentPanel,B3f,x3A)){D3z(this,C8A,y9_);}if(!this.currentVectorParameters.vectorType){U0s=this.activeMarker && this.activeMarker.click({cx:B3f,cy:x3A,panel:this.currentPanel});if(!U0s){v2G=!!({});if(this.anyHighlighted && this.leftClickPinTooltip && this.allowPinning && this.highlightedPlot && this.allowPinning(this.highlightedPlot.type)){v2G=!this.leftClickPinTooltip({cx:B3f,cy:x3A});}if(v2G){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:B3f,y:x3A});}}}}}this.runAppend(F0s,R7y);}).apply(B5E,R7y);};};H1e.ChartEngine.prototype.touchDoubleClick=function(G$z,w3a,z6h){var Q_G,n1P,w9O,k36;Q_G="dou";s5l.Z7I();Q_G+="bl";Q_G+="eTap";if(this.runPrepend("touchDoubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(H1e.ChartEngine.drawingLine){if(this.currentVectorParameters.vectorType === "continuous"){n1P=this.crossYActualPos;w9O=this.crossXActualPos;this.currentPanel=this.whichPanel(n1P);this.drawingClick(this.currentPanel,w9O,n1P);H1e.ChartEngine.completeDrawing(this);}return this.undo();}if(this.activeDrawing){return;}D3z(this,w3a,z6h);k36=this.activeMarker && this.activeMarker.doubleClick({cx:w3a,cy:z6h,panel:this.currentPanel});if(!k36){this.dispatch(Q_G,{stx:this,finger:G$z,x:w3a,y:z6h});}this.runAppend("touchDoubleClick",arguments);};H1e.ChartEngine.prototype.startProxy=function(e2L){var Q4l;Q4l="t";Q4l+="o";Q4l+="u";Q4l+="ch";this.touchPointerType=e2L.pointerType;if(this.touchPointerType != Q4l){this.mouseMode=!!({});return;}this.mouseMode=!"1";this.touches[this.touches.length]={pointerId:e2L.pointerId,pageX:e2L.clientX,pageY:e2L.clientY,clientX:e2L.clientX,clientY:e2L.clientY};this.changedTouches=[{pointerId:e2L.pointerId,pageX:e2L.clientX,pageY:e2L.clientY,clientX:e2L.clientX,clientY:e2L.clientY}];if(this.touches.length == 1){this.gesturePointerId=e2L.pointerId;}this.touchstart(e2L);};H1e.ChartEngine.prototype.moveProxy=function(v4O){var f33,A_p,z5D,l0X;f33="t";f33+="ou";f33+="c";f33+="h";if(v4O.pointerType && v4O.pointerType != f33){this.mouseMode=!"";A_p=1529678675;z5D=-937516092;s5l.g33(18);l0X=s5l.b63(0,"2");for(var p0B=1;s5l.D$s(p0B.toString(),p0B.toString().length,11801) !== A_p;p0B++){return;}if(s5l.D$s(l0X.toString(),l0X.toString().length,37984) !== z5D){return;}return;}this.mouseMode=!({});this.touchmove(v4O);};function D3z(L5j,E8J,t5E){var F09;if(!L5j.layout.crosshair){H1e.ChartEngine.crosshairY=0;H1e.ChartEngine.crosshairX=0;L5j.cx=L5j.backOutX(0);s5l.g33(11);L5j.cy=L5j.backOutY(s5l.v0q(64,"0"));L5j.findHighlights(null,!![]);H1e.ChartEngine.crosshairY=t5E;H1e.ChartEngine.crosshairX=E8J;F09=L5j.container.getBoundingClientRect();L5j.top=F09.top;L5j.left=F09.left;L5j.right=L5j.left + L5j.width;L5j.bottom=L5j.top + L5j.height;L5j.cx=L5j.backOutX(E8J);L5j.cy=L5j.backOutY(t5E);if(L5j.currentPanel && L5j.currentPanel.chart.dataSet){L5j.crosshairTick=L5j.tickFromPixel(L5j.cx,L5j.currentPanel.chart);L5j.crosshairValue=L5j.adjustIfNecessary(L5j.currentPanel,L5j.crosshairTick,L5j.valueFromPixel(L5j.cy,L5j.currentPanel));}L5j.headsUpHR();}s5l.m_N();L5j.findHighlights(!0);L5j.draw();}H1e.ChartEngine.prototype.endProxy=function(c4$){s5l.m_N();var T6v;if(this.touchPointerType != "touch"){this.mouseMode=!!"1";return;}this.mouseMode=!!"";T6v=this.touches.length;for(var s6B=0;s6B < this.touches.length;s6B++){if(this.touches[s6B].pointerId == c4$.pointerId){this.touches.splice(s6B,+"1");break;}}if(s6B == T6v){this.touches=[];this.grabbingScreen=!({});this.touching=!!"";return;}this.changedTouches=[{pointerId:c4$.pointerId,pageX:c4$.clientX,pageY:c4$.clientY,clientX:c4$.clientX,clientY:c4$.clientY}];this.touchend(c4$);};H1e.ChartEngine.prototype.msMouseMoveProxy=function(r7Z){if(this.touches.length || !this.mouseMode){return;}this.mousemove(r7Z);};H1e.ChartEngine.prototype.msMouseDownProxy=function(X4P){if(!this.mouseMode){return;}this.mousedown(X4P);};H1e.ChartEngine.prototype.msMouseUpProxy=function(G17){var U8X,l8W,N5m;U8X=-833955400;s5l.O$r(46);l8W=s5l.v0q(64,"388686597");N5m=2;for(var G3q=1;s5l.u7W(G3q.toString(),G3q.toString().length,95890) !== U8X;G3q++){if(+this.mouseMode){return;}s5l.g33(46);N5m+=s5l.b63(0,"2");}if(s5l.D$s(N5m.toString(),N5m.toString().length,4110) !== l8W){if(~this.mouseMode){return;}}if(!this.mouseMode){return;}this.mouseup(G17);};H1e.ChartEngine.prototype.iosMouseMoveProxy=function(q4L){if(this.touching){return;}s5l.m_N();this.mousemove(q4L);};H1e.ChartEngine.prototype.iosMouseDownProxy=function(y2A){if(this.touching){this.mouseMode=![];return;}this.mouseMode=!!({});this.mousedown(y2A);};s5l.m_N();H1e.ChartEngine.prototype.iosMouseUpProxy=function(i$t){if(this.touching){return;}this.mouseup(i$t);};H1e.ChartEngine.prototype.touchmove=function(e9H){var k8j,T0h,l85,F9H,x0a,H4U,R9e,v3w,x2c,t_D,S_0,K7d,v3E,T6c,R79,i3S,T8R,m1B,I7$,I25,J$x,o3P,K57,M8O,s0q,P4e,S8a,n$i,h5f,E_3,R1Z,j6y,l4u,U4e,U3z,R2X,H1f,D6y,t7E,U4Q;k8j="t";k8j+="ouchm";k8j+="ove";T0h="non";T0h+="e";if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(H1e.ChartEngine.ignoreTouch === !![]){return;}l85=[];if(!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != T0h){if(e9H && e9H.preventDefault && e9H.cancelable && this.captureTouchEvents){e9H.preventDefault();}if(e9H){e9H.stopPropagation();}}F9H=new Date().getTime();var {down:[c98]}=this.pointerEvents;if(F9H - c98.time < +"25"){return;}if(!e9H.pointerType){e9H.pointerType=this.touchPointerType;}if(H1e.isSurface){if(this.mouseMode){return;}if(!e9H.pointerId){e9H.pointerId=this.gesturePointerId;}for(var U6q=+"0";U6q < this.touches.length;U6q++){if(this.touches[U6q].pointerId == e9H.pointerId){x0a=Math.abs(this.touches[U6q].pageX - e9H.clientX);H4U=Math.abs(this.touches[U6q].pageY - e9H.clientY);s5l.g33(47);R9e=Math.sqrt(s5l.v0q(H4U,H4U,x0a,x0a));if(!R9e){return;}if(F9H - c98.time < 50){return;}if(this.touches[U6q].pageX == e9H.clientX && this.touches[U6q].pageY == e9H.clientY){return;}this.touches[U6q].pageX=this.touches[U6q].clientX=e9H.clientX;this.touches[U6q].pageY=this.touches[U6q].clientY=e9H.clientY;break;}}if(U6q === 0){this.movedPrimary=!!"1";}else {this.movedSecondary=!![];}if(U6q == this.touches.length){return;}this.changedTouches=[{pointerId:e9H.pointerId,pageX:e9H.clientX,pageY:e9H.clientY,clientX:e9H.clientX,clientY:e9H.clientY}];l85=this.touches.length?this.touches:this.changedTouches;}else {l85=e9H.touches;this.changedTouches=e9H.changedTouches;}if(l85.length == 1 && H1e.withinRadius(this.clicks,{x:l85[0].clientX,y:l85[0].clientY},4)){return;}v3w=this.crosshairXOffset;x2c=this.crosshairYOffset;t_D=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";S_0=!this.layout.crosshair && !t_D && !this.touchNoPan;if(e9H.pointerType == "pen" || S_0 || this.activeDrawing && this.activeDrawing.name == "freeform"){v3w=x2c=0;}if(this.runPrepend("touchmove",arguments)){return;}if(H1e.ChartEngine.resizingPanel){s5l.O$r(3);T6c=l85[s5l.b63("0",1)];K7d=T6c.clientX;v3E=T6c.clientY;s5l.O$r(0);this.mousemoveinner(s5l.v0q(K7d,v3w),s5l.v0q(v3E,x2c));return;}if(this.moveB != -1){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=l85[0].pageX;if(l85.length == 1 && !this.twoFingerStart){i3S=l85[0];K7d=i3S.clientX;v3E=i3S.clientY;this.pinchingScreen=0;s5l.O$r(0);this.mousemoveinner(s5l.v0q(K7d,v3w),s5l.b63(v3E,x2c));T8R=this.whichPanel(v3E);m1B=this.xAxisAsFooter === !!({})?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=v3E <= this.top + m1B && v3E >= m1B - this.xaxisHeight + this.top && this.insideChart;if(!T8R){this.overYAxis=![];}else {this.overYAxis=(K7d >= T8R.right || K7d <= T8R.left) && this.insideChart;}}else if(l85.length == 2){if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayCrosshairs){return;}I7$=l85[0];I25=I7$.clientX;J$x=I7$.clientY;o3P=l85[1];K57=o3P.clientX;M8O=o3P.clientY;s5l.O$r(157);R79=Math.sqrt(s5l.b63(K57,M8O,J$x,J$x,I25,M8O,I25,K57));s5l.g33(16);var P59=s5l.b63(5,3);this.pinchingCenter=(Math.min(I25,K57) - Math.max(I25,K57)) / P59;s0q=Math.round(this.gestureStartDistance - R79);if(S_0){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen < 2){if(H1e.isSurface && (!this.movedPrimary || !this.movedSecondary)){return;}if(I25 < this.pt.x1 && K57 < this.pt.x2 || I25 > this.pt.x1 && K57 > this.pt.x2 || J$x < this.pt.y1 && M8O < this.pt.y2 || J$x > this.pt.y1 && M8O > this.pt.y2){this.pinchingScreen=0;}else {this.pinchingScreen++;if(this.pinchingScreen < 2){return;}}}this.pt={x1:I25,x2:K57,y1:J$x,y2:M8O};if(this.pinchingScreen === 0){P4e="p";P4e+="a";P4e+="n";this.grabMode=P4e;s5l.O$r(0);this.mousemoveinner(s5l.v0q(I25,v3w),s5l.b63(J$x,x2c));this.gestureStartDistance=R79;}else if(this.grabStartValues){S8a=Math.asin((Math.max(M8O,J$x) - Math.min(M8O,J$x)) / R79);if(Math.abs(s0q) < 12 && !S_0){this.moveCount++;if(this.moveCount == 4){s5l.g33(3);this.pinchingScreen=s5l.v0q("0",1);this.moveCount=0;return;}}else {this.moveCount=+"0";}if(S8a < 1 || !this.goneVertical && S8a < 1.37){if(!this.currentPanel){return;}n$i=this.currentPanel.chart;this.goneVertical=![];R79=this.pt.x2 - this.pt.x1;h5f=this.grabStartValues.t2 - this.grabStartValues.t1 || 1;s5l.g33(16);var W7i=s5l.v0q(15,13);E_3=this.grabStartValues.t1 + h5f / W7i;s5l.O$r(9);R1Z=Math.abs(s5l.b63(h5f,R79));if(n$i.allowScrollFuture === !({}) && n$i.allowScrollPast === !!""){R1Z=Math.max(R1Z,n$i.width / n$i.dataSet.length);}j6y=this.layout.candleWidth;this.setCandleWidth(R1Z,n$i);if(n$i.maxTicks < this.minimumZoomTicks){this.setCandleWidth(j6y,n$i);return;}this.micropixels=+"0";l4u=this.pixelFromTick(Math.round(E_3),n$i);U4e=this.pt.x1 - this.left + Math.round(R79 / ("2" ^ 0));s5l.g33(2);U3z=s5l.b63(l4u,U4e);R2X=U3z / this.layout.candleWidth;H1f=Math.round(R2X);n$i.scroll-=H1f;s5l.g33(2);this.microscroll=s5l.b63(H1f,R2X);this.micropixels=R1Z * this.microscroll;this.draw();}else {D6y=this.grabStartYAxis;this.goneVertical=!"";if(D6y){D6y.zoom=this.grabStartZoom + (this.gestureStartDistance - R79);if(this.grabStartZoom < D6y.height){if(D6y.zoom >= D6y.height){s5l.g33(0);var y9O=s5l.b63(0,1);D6y.zoom=D6y.height - y9O;}}else {if(D6y.zoom <= D6y.height){s5l.g33(158);var Z5j=s5l.b63(1,1,2);D6y.zoom=D6y.height + ("1" | Z5j);}}this.draw();}}this.updateChartAccessories();}}else if(l85.length == 3 && H1e.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}t7E=l85[0];U4Q=t7E.clientX;R79=this.grabStartX - U4Q;s5l.O$r(117);var L7U=s5l.v0q(19,8,19,17);this.grabEndPeriodicity=this.grabStartPeriodicity + Math.round(R79 / L7U);if(this.grabEndPeriodicity < ("1" ^ 0)){this.grabEndPeriodicity=1;}}this.runAppend(k8j,arguments);};H1e.ChartEngine.prototype.touchstart=function(B5Y){var E1N,t0B,o2m,l$M,x53,v3V,F1H,P1M,E3a,Q3O,R42,T3L,c34,N3h,G2E,k$L,l44,Y7F,z37,U_H,W2j,D6n,o53,g0k,o6B,N37,y3W,L9v,Y9V;if(H1e.ChartEngine.ignoreTouch){return;}if(B5Y.target && B5Y.target.closest("[draggable]")){return;}if(H1e.isSurface){this.movedPrimary=!"1";this.movedSecondary=!({});}else {if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!"";this.touches=B5Y.touches;this.changedTouches=B5Y.changedTouches;}E1N=this.crosshairXOffset;t0B=this.crosshairYOffset;if(this.touchPointerType == "pen"){E1N=t0B=0;}if(this.runPrepend("touchstart",arguments)){return;}s5l.Z7I();var {layout:X2W}=this;var {vectorType:Y3s}=this.currentVectorParameters;o2m=X2W.crosshair && Y3s !== "" || Y3s;if(this.manageTouchAndMouse && B5Y && B5Y.preventDefault && B5Y.cancelable && this.captureTouchEvents){B5Y.preventDefault();}this.hasDragged=!({});this.doubleFingerMoves=+"0";this.moveCount=0;this.twoFingerStart=!({});this.longHoldTookEffect=!({});if(this.touches.length == 1 || this.touches.length == 2){this.touchMoveTime=Date.now();s5l.g33(3);E3a=this.touches[s5l.b63("0",1)];v3V=E3a.clientX;F1H=E3a.clientY;this.moveA=v3V;this.moveB=-1;if(this.openDialog === ""){this.registerPointerEvent({x:v3V,y:F1H,time:this.touchMoveTime},"down");if(this.changedTouches.length == 1){this.clicks={x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY};}}Q3O=this.container.getBoundingClientRect();this.top=Q3O.top;this.left=Q3O.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(this.touches.length == 1){R42=this.backOutX(v3V);T3L=this.backOutY(F1H);this.currentPanel=this.whichPanel(T3L);if(!this.shouldDisplayCrosshair()){this.crossXActualPos=R42;this.crossYActualPos=T3L;}}if(!this.currentPanel){this.currentPanel=this.chart.panel;}P1M=this.currentPanel;if(v3V >= this.left && v3V <= this.right && F1H >= this.top && F1H <= this.bottom){this.insideChart=!![];c34=this.xAxisAsFooter === !!({})?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=F1H <= this.top + c34 && F1H >= this.top + c34 - this.xaxisHeight;this.overYAxis=v3V >= this.left + P1M.right || v3V <= this.left + P1M.left;N3h=-1;this.cy=this.backOutY(F1H);this.cx=this.backOutX(v3V);this.crosshairTick=this.tickFromPixel(this.cx,P1M.chart);this.crosshairValue=this.adjustIfNecessary(P1M,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var s79=0;s79 < this.drawingObjects.length;s79++){if(this.openDialog)break;G2E=this.drawingObjects[s79];if(G2E.highlighted){if(N3h < 0){N3h=s79;}k$L=G2E.highlighted;this.findHighlights(!![]);if(s79 == N3h && G2E.highlighted && !G2E.permanent){this.activateRepositioning(G2E);return;}this.anyHighlighted=!!({});G2E.highlighted=k$L;}}}else {this.insideChart=!({});}if(this.insideChart && !o2m && X2W.headsUp !== "floating" && !(X2W.headsUp && X2W.headsUp.floating) && !Y3s && !this.touchNoPan){E1N=t0B=0;if(this.controls.anchorHandles){l44=Object.values(this.controls.anchorHandles);Y7F=!!"";for(var W5k=0;W5k < l44.length;W5k++){z37=l44[W5k];var {handle:A2y, sd:E$i}=z37;U_H=this.resolveX(this.cx);W2j=this.resolveY(this.cy);var {left:k_B, top:m0D, right:N8B, bottom:C0o}=A2y.getBoundingClientRect();D6n=this.preferences.highlightsTapRadius;s5l.g33(2);o53=H1e.boxIntersects(s5l.v0q(k_B,D6n),m0D,s5l.v0q(N8B,D6n,s5l.g33(0)),C0o,U_H,W2j,U_H,W2j);if(o53){this.repositioningAnchorSelector={sd:E$i};A2y.classList.add("stx-grab");Y7F=!!({});}z37.highlighted=o53;}if(Y7F){return;}}for(l$M in this.panels){x53=this.panels[l$M];if(x53.highlighted){this.grabHandle(x53);return;}}this.grabbingScreen=!!1;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}P1M.chart.spanLock=!!"";this.yToleranceBroken=!!0;s5l.g33(0);this.grabStartX=s5l.v0q(v3V,E1N);s5l.O$r(0);this.grabStartY=s5l.v0q(F1H,t0B);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=P1M.chart.scroll;this.grabStartScrollY=P1M.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(P1M.chart);}this.grabStartYAxis=this.whichYAxis(P1M,this.backOutX(v3V));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;setTimeout((function(c3y){return function(){c3y.grabbingHand();};})(this),100);}else {this.grabbingScreen=!"1";if(this.insideChart && P1M.subholder === B5Y.target){g0k=this.currentVectorParameters.vectorType;if(H1e.Drawing && g0k && H1e.Drawing[g0k] && new H1e.Drawing[g0k]().dragToDraw){this.userPointerDown=!"";H1e.ChartEngine.crosshairX=v3V;H1e.ChartEngine.crosshairY=F1H;if(P1M && P1M.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(v3V),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(P1M,this.crosshairTick,this.valueFromPixel(this.backOutY(H1e.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(P1M,this.backOutX(v3V),this.backOutY(F1H));this.headsUpHR();return;}}}if(this.touches.length == 1){if(!o2m){if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer((u1Y=>{return ()=>{return D3z(u1Y,v3V,F1H);};})(this));}}else if(!Y3s && P1M.subholder === B5Y.target){s5l.g33(0);this.mousemoveinner(s5l.b63(v3V,E1N),s5l.v0q(F1H,t0B));}}}if(this.touches.length == ("2" | 0)){this.cancelLongHold=!!1;this.swipe.end=!"";if(!this.displayCrosshairs && !this.touchNoPan || !this.insideChart){return;}o6B=this.touches[1];N37=o6B.clientX;y3W=o6B.clientY;for(l$M in this.panels){x53=this.panels[l$M];if(x53.highlighted){this.grabHandle(x53);return;}}P1M=this.currentPanel;s5l.O$r(157);this.gestureStartDistance=Math.sqrt(s5l.b63(N37,y3W,F1H,F1H,v3V,y3W,v3V,N37));this.pt={x1:v3V,x2:N37,y1:F1H,y2:y3W};this.grabbingScreen=!"";if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}P1M.chart.spanLock=!1;s5l.g33(0);this.grabStartX=s5l.v0q(v3V,E1N);s5l.O$r(0);this.grabStartY=s5l.v0q(F1H,t0B);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=P1M.chart.scroll;this.grabStartScrollY=P1M.yAxis.scroll;this.grabStartPanel=P1M;if(this.swipeStart){this.swipeStart(P1M.chart);}this.grabStartCandleWidth=X2W.candleWidth;this.grabStartYAxis=this.whichYAxis(P1M,this.backOutX((v3V + N37) / 2)) || P1M.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1 - this.top,P1M),y2:this.valueFromPixel(this.pt.y2 - this.top,P1M),t1:this.tickFromPixel(this.pt.x1 - this.left,P1M.chart),t2:this.tickFromPixel(this.pt.x2 - this.left,P1M.chart)};this.twoFingerStart=!!({});setTimeout((function(B3_){s5l.m_N();return function(){s5l.m_N();B3_.grabbingHand();};})(this),100);}else if(this.touches.length == 3){if(!this.displayCrosshairs){return;}s5l.g33(3);L9v=this.touches[s5l.v0q("0",1)];Y9V=L9v.clientX;this.grabStartX=Y9V;this.grabStartPeriodicity=X2W.periodicity;}this.runAppend("touchstart",arguments);};H1e.ChartEngine.prototype.touchend=function(B3R){var e2r,D6q,C3S,F7b,X8t,X$0,E_V,m8w,P8m,V2n,L1s,g3o,t8Q,e7k,V6t;if(H1e.ChartEngine.ignoreTouch){return;}this.swipe.end=!"";if(H1e.isSurface){}else {this.touches=B3R.touches;this.changedTouches=B3R.changedTouches;}if(this.runPrepend("touchend",arguments)){return;}var {touches:L8f, layout:r38}=this;var {vectorType:O_F}=this.currentVectorParameters;e2r=r38.crosshair && O_F !== "" || O_F;this.cancelLongHold=!![];if(L8f.length <= 1){if(e2r){if(!L8f.length || !this.twoFingerStart){this.grabbingScreen=!!0;}}}if(L8f.length){this.grabStartX=-1;this.grabStartY=-1;}D6q=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!L8f.length){this.touchingEvent=setTimeout((function(C4b){return function(){s5l.Z7I();C4b.touching=!({});};})(this),500);if(H1e.ChartEngine.resizingPanel){this.releaseHandle();if(this.changedTouches.length !== 1 || this.grabStartY !== this.changedTouches[0].clientY){return;}}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!1;this.grabbingScreen=!!"";this.grabMode="";if(this.highlightedDraggable){C3S=1953170286;F7b=408816010;X8t=+"2";for(var q53=1;s5l.D$s(q53.toString(),q53.toString().length,80345) !== C3S;q53++){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);X8t+=+"2";}if(s5l.u7W(X8t.toString(),X8t.toString().length,28884) !== F7b){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else {if(H1e.ChartEngine.resizingPanel){return;}}s5l.m_N();s5l.g33(159);var n$m=s5l.v0q(14,125,9,1);X$0=L8f.length + n$m;if(this.changedTouches.length === 1){E_V=Date.now();m8w=this.changedTouches[0];P8m=this.backOutY(m8w.pageY) + this.crosshairYOffset;V2n=this.backOutX(m8w.pageX) + this.crosshairXOffset;L1s=this.currentPanel;g3o=L1s && L1s.subholder === B3R.target;if(this.repositioningDrawing){t8Q="v";t8Q+="ector";this.changeOccurred(t8Q);H1e.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!e2r){this.findHighlights(!({}),!0);}return;}if(this.repositioningAnchorSelector){if(!this.repositioningAnchorSelector.hoverTick){this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(V2n - this.crosshairXOffset,this.chart);}e7k=this.repositioningAnchorSelector.sd;H1e.Studies.repositionAnchor(this,e7k);this.repositioningAnchorSelector=null;this.controls.anchorHandles[e7k.uniqueId].highlighted=!!"";H1e.Studies.displayAnchorHandleAndLine(this,e7k,this.chart.dataSegment);Object.values(this.controls.anchorHandles).forEach(({handle:L0a})=>{s5l.Z7I();return L0a.classList.remove("stx-grab");});return;}if(this.openDialog === ""){V6t="u";V6t+="p";this.registerPointerEvent({x:m8w.clientX,y:m8w.clientY,time:E_V},V6t);}if(this.isDoubleClick(!!1) && (g3o || this.overYAxis || this.overXAxis)){this.touchDoubleClick(X$0,this.clicks.x,this.clicks.y);this.resetClickState();}else {if(!H1e.Drawing || !O_F || !H1e.Drawing[O_F] || !new H1e.Drawing[O_F]().dragToDraw){var {up:[r89], down:[V8q]}=this.pointerEvents,T1m=+"35";if(H1e.withinRadius(V8q,r89,T1m) && E_V - V8q.time < 750 && !this.longHoldTookEffect && (!this.hasDragged || e2r)){setTimeout(this.touchSingleClick(X$0,this.clicks.x,this.clicks.y),this.doubleClickTime + +"1");}}this.userPointerDown=!1;if(H1e.Drawing && this.activeDrawing && this.activeDrawing.dragToDraw && g3o){this.drawingClick(L1s,V2n,P8m);return;}}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity != -1 && !isNaN(this.grabEndPeriodicity)){if(H1e.ChartEngine.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}this.grabEndPeriodicity=-1;}}if(this.changedTouches.length){if(!e2r && !this.currentVectorParameters.vectorType && X$0 == 1 || this.twoFingerStart && !D6q && !this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!!"",!!({}));}if(D6q && this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!!({}));}}if(!L8f.length){this.twoFingerStart=!1;}this.runAppend("touchend",arguments);};j9c=!!0;H1e.ChartEngine.prototype.mousemoveinner=H1e.ChartEngine.prototype.mousemoveinner || (function(H8o,s3P){if(!j9c){console.error("touch feature requires activating movement feature.");}s5l.m_N();j9c=!0;});};S$=z5x=>{var i4e=o1YMc;var p2g;p2g=typeof _CIQ !== "undefined"?_CIQ:z5x.CIQ;i4e.m_N();p2g.Visualization=p2g.Visualization || (function(K1V){var s3I;if(!K1V){console.log("CIQ.Visualization() missing attributes argument.");return;}if(typeof K1V.renderFunction !== "function"){s3I="CIQ.Visualization() missing renderFunction property in attrib";s3I+="utes";s3I+=".";console.log(s3I);return;}this.container=null;this.attributes=K1V;this.data=null;this.object=null;});p2g.extend(p2g.Visualization.prototype,{destroy:function(n0o){var U$4;U$4=this.container || ({});p2g.resizeObserver(U$4,null,U$4.resizeHandle);if(U$4.autoGenerated){U$4.remove();delete this.container;}else {U$4.innerHTML="";}if(n0o){return;}this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){return undefined;};},draw:function(i8J){var L5C,f7z,A4C,J$Z,L3P,L_o,u1I;L5C="ob";L5C+="j";L5C+="e";L5C+="ct";if(!this.data || typeof this.data !== L5C){console.log("CIQ.Visualization.draw() missing data.");return;}f7z=this.attributes || ({});A4C=f7z.document || document;J$Z=f7z.container || this.container;if(typeof J$Z === "string"){J$Z=A4C.querySelector(J$Z);}if(!J$Z){J$Z=document.createElement("div");J$Z.style.height=J$Z.style.width="300px";A4C.body.appendChild(J$Z);J$Z.autoGenerated=!![];}if(f7z.stx){L3P=f7z.stx.chart.canvasShim;if(f7z.useCanvasShim && L3P && L3P !== J$Z && L3P !== J$Z.parentNode){if(!J$Z.autoGenerated){J$Z=J$Z.cloneNode();J$Z.id="";J$Z.autoGenerated=!!"1";}L3P.appendChild(J$Z);}}if(this.container && this.container !== J$Z){this.destroy(!"");}if(!J$Z.resizeHandle){L_o=function(z0W){i4e.m_N();return function(){if(z0W.data && z0W.container && A4C.body.contains(z0W.container)){z0W.draw.call(z0W,!!({}));}};};J$Z.resizeHandle=p2g.resizeObserver(J$Z,L_o(this));}this.container=J$Z;this.attributes=f7z;f7z=p2g.ensureDefaults({container:this.container},this.attributes);u1I=f7z.renderFunction(Object.values(this.data).sort(v7I),f7z);if(u1I){if(f7z.id){u1I.id=f7z.id;}if(i8J || f7z.forceReplace){this.container.innerHTML="";this.container.appendChild(u1I);}}function v7I(j9v,S8J){i4e.m_N();return j9v.index < S8J.index?-1:j9v.index > S8J.index?+"1":0;}this.attributes=f7z;this.object=u1I;},setAttributes:function(e7b,G80){var L4z,X__,o3W;i4e.m_N();L4z=["renderFunction","container","stx","useCanvasShim","id","forceReplace"];X__=!({});o3W=e7b;if(typeof e7b == "string"){o3W={};o3W[e7b]=G80;}if(typeof o3W == "object"){for(var s4r in o3W){if(this.attributes[s4r] !== o3W[s4r] && L4z.indexOf(s4r) !== -1){X__=!0;}this.attributes[s4r]=o3W[s4r];}}this.draw(X__);},updateData:function(I9N,A7q){var g7a,c8P,v3f,V_p,Z5D,i_1;g7a="a";g7a+="d";g7a+="d";V_p=Array.isArray(I9N)?I9N.reduce(function(n0v,B4m){n0v[B4m.name]=B4m;return n0v;},{}):p2g.shallowClone(I9N);for(c8P in V_p){Z5D="[obje";Z5D+="ct";Z5D+=" Object]";v3f=V_p[c8P];if(Object.prototype.toString.call(v3f) !== Z5D){V_p[c8P]={value:v3f};}if(!V_p[c8P].name){V_p[c8P].name=c8P;}if(!V_p[c8P].value){i4e.O$r(2);V_p[c8P].value=i4e.b63("0",0);}}if(!A7q){A7q="replace";}switch(A7q.toLowerCase()){case "delete":for(c8P in V_p){delete this.data[c8P];}break;case "replace":this.data={};case "update":case g7a:for(c8P in V_p){if(!this.data[c8P]){this.data[c8P]={name:c8P};}v3f=V_p[c8P].value;if(Object.prototype.toString.call(v3f) == "[object Number]"){i_1="upd";i_1+="ate";if(!this.data[c8P].value || A7q == i_1){this.data[c8P].value=0;}this.data[c8P].value+=v3f;}else {this.data[c8P].value=v3f;}for(var r_M in V_p[c8P]){if(r_M !== "value"){this.data[c8P][r_M]=V_p[c8P][r_M];}}}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.");}this.draw(this.attributes.forceReplace);return this;}});p2g.ChartEngine.prototype.embedVisualization=function(b38){if(!b38){b38={};}b38.stx=this;b38.useCanvasShim=!![];b38.translator=function(t82){i4e.Z7I();return b38.stx.translateIf(t82);};b38.document=this.container.ownerDocument;i4e.m_N();return new p2g.Visualization(b38);};};M8=P6w=>{var X4X=o1YMc;var v8V,Y09,h7Q;v8V="undefi";v8V+="n";X4X.m_N();v8V+="e";v8V+="d";Y09=typeof _CIQ !== v8V?_CIQ:P6w.CIQ;if(!Y09.Studies){h7Q="medianPrice ";h7Q+="feature requires first activating studies feature.";console.error(h7Q);}else {Y09.Studies.calculateTypicalPrice=function(h9_,E81){var j$7,S4I,k6m,Z7C,x$r,L09;j$7="We";j$7+="ighted";j$7+=" Clo";X4X.m_N();j$7+="se";S4I=E81.chart.scrubbed;k6m=E81.days;if(S4I.length < k6m + 1){if(!E81.overlay){E81.error=!![];}return;}Z7C=E81.name;for(var H19 in E81.outputs){X4X.O$r(17);Z7C=X4X.b63(Z7C,("1340" << 0,+"171.07") !== (72.24,4512)?" ":0x2f9,H19);}x$r="hlc/3";if(E81.type == "Med Price"){x$r="hl/2";}else if(E81.type == j$7){x$r="hlcc/4";}L09=0;if(E81.startFrom <= k6m){E81.startFrom=0;}for(var A7D=E81.startFrom;A7D < S4I.length;A7D++){if(A7D && S4I[A7D - 1][Z7C]){X4X.g33(2);var l6u=X4X.v0q(10,9);L09=S4I[A7D - l6u][Z7C] * k6m;}L09+=S4I[A7D][x$r];if(A7D >= k6m){X4X.O$r(2);L09-=S4I[X4X.b63(A7D,k6m)][x$r];X4X.g33(9);S4I[A7D][Z7C]=X4X.b63(k6m,L09);}}};Y09.Studies.studyLibrary=Y09.extend(Y09.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:Y09.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};I1=X1O=>{var z_W=o1YMc;var w1V,R58;z_W.Z7I();w1V=typeof _CIQ !== "undefined"?_CIQ:X1O.CIQ;if(!w1V.Studies){console.error("momentum feature requires first activating studies feature.");}else {R58="f";R58+="i";R58+="eld";w1V.Studies.calculateRateOfChange=function(W5N,b1p){var N1Z,u10,d2T,e2D,R$$,g20,U5Q,b_V,X4U,u8z;N1Z="V";N1Z+="olume";u10="C";u10+="lose";d2T=b1p.chart.scrubbed;if(d2T.length < b1p.days + 1){b1p.error=!![];return;}e2D=b1p.inputs.Field;if(!e2D || e2D == "field"){e2D=u10;}if(b1p.parameters.isVolume){e2D=N1Z;}R$$=b1p.name;for(var f69 in b1p.outputs){z_W.O$r(17);R$$=z_W.v0q(R$$," ",f69);}g20=b1p.inputs["Center Line"];if(!g20){g20=0;}else {g20=parseInt(g20,+"10");}for(var G8u=Math.max(b1p.startFrom,b1p.days);G8u < d2T.length;G8u++){U5Q="Mome";U5Q+="ntum";b_V=w1V.Studies.getQuoteFieldValue(d2T[G8u],e2D,b1p.subField);X4U=w1V.Studies.getQuoteFieldValue(d2T[G8u - b1p.days],e2D,b1p.subField);if(b1p.type == U5Q){z_W.g33(21);d2T[G8u][R$$]=z_W.v0q(b_V,g20,X4U);}else {u8z=X4U;if(u8z){z_W.O$r(160);d2T[G8u][R$$]=z_W.b63(100,b_V,1,u8z,g20);}}}};w1V.Studies.studyLibrary=w1V.extend(w1V.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:w1V.Studies.calculateRateOfChange,inputs:{Period:14,Field:R58}},Momentum:{name:"Momentum Indicator",calculateFN:w1V.Studies.calculateRateOfChange,inputs:{Period:"14" >> 32},centerline:0}});}};W1=Y8i=>{var r$H=o1YMc;var j5E;r$H.Z7I();j5E=typeof _CIQ !== "undefined"?_CIQ:Y8i.CIQ;if(!j5E.Studies){console.error("priceRelative feature requires first activating studies feature.");}else {j5E.Studies.initPriceRelative=function(j_9,F7U,o59,F1$,K55,T7K){var C0f,z7Y;C0f=j5E.Studies.initializeFN(j_9,F7U,o59,F1$,K55,T7K);z7Y=[C0f.inputs["Comparison Symbol"].toUpperCase()];j5E.Studies.fetchAdditionalInstruments(j_9,C0f,z7Y);return C0f;};j5E.Studies.calculatePriceRelative=function(R0E,B6i){var e9F,j8t,D1w,b$J,O2w,Z96,H1z;e9F="Compa";e9F+="rison";e9F+=" Sym";e9F+="bol";j8t=B6i.chart.scrubbed;D1w=B6i.inputs["Comparison Symbol"].toUpperCase();if(!D1w){D1w=B6i.study.inputs[e9F];}b$J={};O2w=R0E.chart.symbol || "";O2w=O2w.replace(/[=+\-*\\%]/g,"");b$J[O2w]=j8t.slice(B6i.startFrom);if(!b$J[O2w].length){return;}if(O2w != D1w){b$J[D1w]=null;}r$H.g33(93);Z96=j5E.computeEquationChart(r$H.v0q("]/[",O2w,D1w,2527 !== 1430?"]":(33,2.02e+2),+"5435" < +"681.64"?("2.73e+3" * 1,0x1e1f):(754.76,3580) > 9520?(0xf7c,4.74e+3):"["),b$J);H1z=0;for(var e9f=B6i.startFrom;e9f < j8t.length && H1z < Z96.length;e9f++){while(H1z < Z96.length && j8t[e9f].DT.getTime() > Z96[H1z].DT.getTime()){H1z++;}if(j8t[e9f].DT.getTime() < Z96[H1z].DT.getTime())continue;j8t[e9f]["Result " + B6i.name]=Z96[H1z].Close;H1z++;}};j5E.Studies.displayVsComparisonSymbol=function(o2e,V0U,T_b){var Y1o,T58,R8_,U7n,O2j;r$H.m_N();Y1o=V0U.inputs["Comparison Symbol"].toUpperCase();if(!o2e.getSeries({symbol:Y1o,chart:V0U.chart}).length){T58="Not Availab";T58+="le";o2e.displayErrorAsWatermark(V0U.panel,o2e.translateIf(V0U.study.name) + ": " + o2e.translateIf(T58));return;}R8_={skipTransform:o2e.panels[V0U.panel].name != V0U.chart.name,panelName:V0U.panel,band:"Result " + V0U.name,threshold:V0U.study.centerline,yAxis:V0U.getYAxis(o2e),gapDisplayStyle:!!"1"};U7n=R8_.yAxis?R8_.yAxis.flipped:o2e.panels[V0U.panel].yAxis.flipped;O2j=0.3;if(!V0U.highlight && o2e.highlightedDraggable){O2j*=0.3;}for(var h9D=T_b.length - 1;h9D >= 0;h9D--){if(T_b[h9D] && T_b[h9D][Y1o]){j5E.Studies.displaySeriesAsLine(o2e,V0U,T_b);if(V0U.study.centerline || V0U.study.centerline === 0){if(V0U.outputs.Gain){j5E.preparePeakValleyFill(o2e,j5E.extend(R8_,{direction:U7n?-+"1":1,color:j5E.Studies.determineColor(V0U.outputs.Gain),opacity:O2j}));}if(V0U.outputs.Loss){j5E.preparePeakValleyFill(o2e,j5E.extend(R8_,{direction:U7n?1:-1,color:j5E.Studies.determineColor(V0U.outputs.Loss),opacity:O2j}));}}return;}}};j5E.Studies.fetchAdditionalInstruments=function(K2b,L_y,j9S,E56){var Q5P,s$u,J30,n8l,j7L,X5Y;if(!K2b.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");return;}Q5P=K2b.panels[L_y.panel].chart;function I7v(){K2b.createDataSet();K2b.draw();}L_y.symbols=j9S;for(s$u=0;s$u < j9S.length;s$u++){J30=n8l=j9S[s$u];if(typeof n8l == "object"){J30=n8l.symbol;}else {n8l={symbol:J30};}j7L={symbol:J30,symbolObject:n8l,bucket:"study",studyName:L_y.name,chartName:Q5P.name,action:"add-study"};j5E.extend(j7L,E56);X5Y=j7L.loadData;if(K2b.currentlyImporting){j7L.loadData=!({});}if(!L_y.series){L_y.series={};}L_y.series[J30]=K2b.addSeries(null,j7L,I7v);L_y.series[J30].parameters.loadData=X5Y;}};j5E.Studies.studyLibrary=j5E.extend(j5E.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:j5E.Studies.initPriceRelative,seriesFN:j5E.Studies.displayVsComparisonSymbol,calculateFN:j5E.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!!({})}});}};b5=e7t=>{var G8Q=o1YMc;var e4f,I2a,h6P,T1q;e4f="u";e4f+="ndefin";e4f+="e";e4f+="d";G8Q.m_N();I2a=typeof _CIQ !== "undefined"?_CIQ:e7t.CIQ;h6P=typeof _timezoneJS !== e4f?_timezoneJS:e7t.timezoneJS;if(!I2a.Studies){console.error("vwap feature requires first activating studies feature.");}else {T1q="y";T1q+="yyy-mm-dd";I2a.Studies.calculateVWAP=function(x$i,D03){var A7V,i2X,J7K,t7I,h50,Q7X,h$6,c$3,D_n,k0T,B4G,K$a,f2W,h0U,T3F,f7H,T1I,a22,a_H,A7j,o68,X2U,I3W;if((D03.parameters.state || ({})).interactiveAdd){return;}G8Q.m_N();var {inputs:n3r, name:V1M, chart:N7z}=D03;var {market:r4c}=N7z;A7V=D03.type === "AVWAP";i2X=N7z.scrubbed;if(!i2X.length){return;}if(!A7V && I2a.ChartEngine.isDailyInterval(x$i.layout.interval)){J7K="VW";J7K+="AP is Int";J7K+="r";J7K+="aday Only";D03.error=J7K;return;}t7I="hlc/3";if(A7V){t7I=n3r.Field;if(!t7I || t7I == "field"){t7I=n3r.Field="hlc/3";x$i.changeOccurred("layout");}}h50=null;G8Q.O$r(46);Q7X=G8Q.v0q(0,"0");h$6=0;c$3=0;D_n=!({});if(D03.startFrom > "1" * 1){Q7X=i2X[D03.startFrom - 1]["_V " + V1M] || 0;h$6=i2X[D03.startFrom - ("1" | 0)]["_VxP " + V1M] || 0;c$3=i2X[D03.startFrom - 1]["_VxP2 " + V1M] || "0" << 0;}if(A7V){k0T="A";k0T+="nchor Date";var {market_tz:B$Q}=r4c.market_def || ({});var [,x8K,N_$,D7x]=(n3r[k0T] || "").match(/^(\d{4})-?(\d{2})-?(\d{2})$/) || [];var [,Z$T = 0,m1W = 0,d4D = 0]=(n3r["Anchor Time"] || "").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/) || [];if(![x8K,N_$,D7x].every(K$H=>{return K$H || K$H === +"0";})){D03.error="Invalid Anchor Date";return;}G8Q.g33(2);B4G=new h6P.Date(x8K,G8Q.v0q(N_$,1),D7x,Z$T,m1W,d4D,B$Q || "");if(!D03.startFrom && B4G >= i2X[0].DT){D03.startFrom=x$i.tickFromDate(B4G,x$i.chart,null,!![]);}if(n3r["Anchor Selector"]){I2a.Studies.initAnchorHandle(x$i,D03);}else {I2a.Studies.removeAnchorHandle(x$i,D03);}}for(var a1O=D03.startFrom;a1O < i2X.length;a1O++){K$a="_V";K$a+="xP ";f2W="_";f2W+="V";f2W+=" ";if(!A7V){if(h50 === null){h50=I2a.Studies.getMarketOffset({stx:x$i,localQuoteDate:i2X[a1O].DT,shiftToDateBoundary:!""});}if(i2X[a1O - 1] && i2X[a1O - 1].DT){h0U=new Date(new Date(+i2X[a1O].DT).setMilliseconds(i2X[a1O].DT.getMilliseconds() + h50));T3F=new Date(new Date(+i2X[a1O - "1" * 1].DT).setMilliseconds(i2X[a1O - 1].DT.getMilliseconds() + h50));if(T3F.getDate() !== h0U.getDate() && x$i.chart.market.isMarketDate(h0U)){h50=null;Q7X=h$6=c$3=0;}}}f7H=i2X[a1O][t7I];T1I=i2X[a1O].Volume;if(A7V && !T1I){T1I=1;}Q7X+=T1I;G8Q.g33(3);h$6+=G8Q.b63(T1I,f7H);G8Q.O$r(161);c$3+=G8Q.v0q(T1I,f7H,f7H);if(!A7V && !Q7X)continue;G8Q.O$r(0);i2X[a1O][G8Q.v0q(f2W,V1M)]=Q7X;G8Q.g33(0);i2X[a1O][G8Q.b63(K$a,V1M)]=h$6;G8Q.O$r(0);i2X[a1O][G8Q.v0q("_VxP2 ",V1M)]=c$3;G8Q.O$r(0);a22=i2X[a1O][G8Q.v0q("_SDVWAP ",V1M)]=Math.sqrt(Math.max(0,c$3 / Q7X - Math.pow(h$6 / Q7X,2)));G8Q.O$r(0);a_H=i2X[a1O][G8Q.v0q("VWAP ",V1M)]=G8Q.b63(Q7X,h$6,G8Q.O$r(9));for(var X2p="1" | 1;X2p <= 3;X2p++){G8Q.O$r(57);i2X[a1O][G8Q.v0q(X2p,V1M,"+ ","SDVWAP")]=G8Q.b63(a_H,a22,X2p,G8Q.O$r(50));G8Q.g33(57);i2X[a1O][G8Q.b63(X2p,V1M,"- ","SDVWAP")]=G8Q.v0q(a_H,X2p,a22,G8Q.O$r(26));}D_n=!0;}for(var L4i in D03.outputMap){A7j="V";A7j+="W";A7j+="A";A7j+="P";if(L4i.indexOf(A7j) !== 0){delete D03.outputMap[L4i];}}for(var u$O=1;u$O <= 3;u$O++){if(n3r["Display " + u$O + " Standard Deviation (" + u$O + "\u03C3)"]){o68="SDVW";o68+="AP";X2U=" Standard Dev";X2U+="iat";X2U+="ion (";G8Q.O$r(57);D03.outputMap[G8Q.v0q(u$O,V1M,"+ ","SDVWAP")]=G8Q.v0q(X2U,"\u03C3)",u$O,u$O);G8Q.O$r(57);D03.outputMap[G8Q.b63(u$O,V1M,"- ",o68)]=G8Q.b63(" Standard Deviation (","\u03C3)",u$O,u$O);}}if(!A7V && !D_n){I3W="VWAP Requires Vo";I3W+="lume";D03.error=I3W;}};I2a.Studies.initAnchoredVWAP=function(W6A,G3T,f$Z,D77,f1b,g8X){var L_e,x5G,w_0,d0z,D$O;L_e="Anchor T";L_e+="ime";x5G="An";x5G+="cho";x5G+="r D";x5G+="ate";if(!f1b.state){f1b.state={};}var {interactiveAdd:E8q, interactiveAddCB:V_B, state:c7U}=f1b;w_0=!(f$Z[x5G] || f$Z[L_e]);if(w_0 && (c7U.interactiveAdd || W6A.repositioningAnchorSelector)){return "abort";}var {dataSegment:x9r}=W6A.chart;if(x9r && w_0 && !E8q){for(var F1k=0;F1k < x9r.length;F1k++){if(x9r[F1k]){d0z="YYYY";d0z+="-MM-dd";var {DT:r5M}=x9r[F1k];f$Z["Anchor Date"]=I2a.dateToStr(r5M,d0z);f$Z["Anchor Time"]=I2a.dateToStr(r5M,"HH:mm:ss");break;}}}if(w_0 && E8q){c7U.interactiveAdd=!!1;}else {delete c7U.interactiveAdd;delete f1b.interactiveAdd;if(V_B){setTimeout(V_B);}}D$O=I2a.Studies.initializeFN(W6A,G3T,f$Z,D77,f1b,g8X);if(c7U.interactiveAdd){W6A.repositioningAnchorSelector={sd:D$O,tapToAdd:!!"1"};W6A.dispatch("notification","addAVWAP");}else {W6A.dispatch("notification","removeAVWAP");}return D$O;};I2a.Studies.displayVWAP=function(D4_,p__,f4D){var M4T,m5d,g0v,d$D,q$z,c0h,t7p,a7V,R_7,B9z,J5d,v_O,j2A,F0n,r7G;G8Q.Z7I();if(!f4D || !f4D[+"0"]){I2a.Studies.removeAnchoredVWAP(D4_,p__);return;}I2a.Studies.displaySeriesAsLine(D4_,p__,f4D);M4T=p__.inputs["Display 1 Standard Deviation (1\u03C3)"];m5d=p__.inputs["Display 2 Standard Deviation (2\u03C3)"];g0v=p__.inputs["Display 3 Standard Deviation (3\u03C3)"];if((M4T || m5d || g0v) && p__.inputs.Shading){d$D=D4_.panels[p__.panel];q$z={opacity:p__.parameters.opacity?p__.parameters.opacity:0.2,skipTransform:d$D.name != p__.chart.name,yAxis:p__.getYAxis(D4_)};if(!p__.highlight && D4_.highlightedDraggable){G8Q.g33(2);q$z.opacity*=G8Q.v0q("0.3",0);}c0h=-+"463798962";t7p=-502239805;a7V=2;for(var B9x=1;G8Q.u7W(B9x.toString(),B9x.toString().length,22177) !== c0h;B9x++){R_7="VWAP " - p__.name;B9z="VWAP " * p__.name;a7V+=2;}if(G8Q.D$s(a7V.toString(),a7V.toString().length,"91594" - 0) !== t7p){R_7="VWAP " + p__.name;B9z="VWAP " + p__.name;}if(M4T){J5d="S";J5d+="DVWA";J5d+="P1- ";v_O="SDVW";v_O+="AP1- ";j2A="SDVW";j2A+="AP1+ ";I2a.prepareChannelFill(D4_,I2a.extend({panelName:p__.panel,topBand:j2A + p__.name,bottomBand:R_7,color:I2a.Studies.determineColor(p__.outputs[p__.outputMap["SDVWAP1+ " + p__.name]])},q$z));I2a.prepareChannelFill(D4_,I2a.extend({panelName:p__.panel,topBand:v_O + p__.name,bottomBand:B9z,color:I2a.Studies.determineColor(p__.outputs[p__.outputMap[J5d + p__.name]])},q$z));R_7="SDVWAP1+ " + p__.name;B9z="SDVWAP1- " + p__.name;}if(m5d){F0n="SDVWAP2";F0n+="-";F0n+=" ";r7G="SDV";r7G+="WAP2- ";I2a.prepareChannelFill(D4_,I2a.extend({panelName:p__.panel,topBand:"SDVWAP2+ " + p__.name,bottomBand:R_7,color:I2a.Studies.determineColor(p__.outputs[p__.outputMap["SDVWAP2+ " + p__.name]])},q$z));I2a.prepareChannelFill(D4_,I2a.extend({panelName:p__.panel,topBand:"SDVWAP2- " + p__.name,bottomBand:B9z,color:I2a.Studies.determineColor(p__.outputs[p__.outputMap[r7G + p__.name]])},q$z));R_7="SDVWAP2+ " + p__.name;B9z=F0n + p__.name;}if(g0v){I2a.prepareChannelFill(D4_,I2a.extend({panelName:p__.panel,topBand:"SDVWAP3+ " + p__.name,bottomBand:R_7,color:I2a.Studies.determineColor(p__.outputs[p__.outputMap["SDVWAP3+ " + p__.name]])},q$z));I2a.prepareChannelFill(D4_,I2a.extend({panelName:p__.panel,topBand:"SDVWAP3- " + p__.name,bottomBand:B9z,color:I2a.Studies.determineColor(p__.outputs[p__.outputMap["SDVWAP3- " + p__.name]])},q$z));}}if(p__.anchorHandle || (p__.parameters.state || ({})).interactiveAdd){I2a.Studies.displayAnchorHandleAndLine(D4_,p__,f4D);}};I2a.Studies.removeAnchoredVWAP=function(t4J,M68){G8Q.Z7I();t4J.dispatch("notification","removeAVWAP");I2a.Studies.removeAnchorHandle(t4J,M68);};I2a.Studies.studyLibrary=I2a.extend(I2a.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!"",calculateFN:I2a.Studies.calculateVWAP,seriesFN:I2a.Studies.displayVWAP,initializeFN:I2a.Studies.initAnchoredVWAP,removeFN:I2a.Studies.removeAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":!({}),"Display 3 Standard Deviation (3\u03C3)":!1,Shading:!({}),"Anchor Selector":!![]},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:"0.2" * 1,interactiveAdd:!![]}},attributes:{"Anchor Date":{placeholder:T1q},"Anchor Time":{placeholder:"hh:mm:ss",step:"1" * 1}}},VWAP:{name:"VWAP",overlay:!![],calculateFN:I2a.Studies.calculateVWAP,seriesFN:I2a.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!({}),"Display 3 Standard Deviation (3\u03C3)":!!0,Shading:!!""},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:"0.2" * 1}}}});}};B4=u$N=>{var x7_=o1YMc;x7_.Z7I();var E9Y,Y2F;E9Y=typeof _CIQ !== "undefined"?_CIQ:u$N.CIQ;if(!E9Y.Studies){Y2F="zig";Y2F+="zag feature requir";Y2F+="es first activating studies feature.";console.error(Y2F);}else {E9Y.Studies.calculateZigZag=function(B4_,Z9w){var P3s,a2z,N_i,z_4,a4I,A88,X8c,I_y,M7j,s87,m7E,y$6,U9k,I44,b6r,S6u,F$D,K16,q4N,C8q,J8K,V1h,j87,d0G;P3s="C";P3s+="l";P3s+="os";P3s+="e";a2z="Hi";a2z+="g";a2z+="h";N_i="L";N_i+="o";N_i+="w";z_4="Res";z_4+="ult ";a4I="Dista";a4I+="nce(";a4I+="%)";A88=Z9w.chart.scrubbed;if(!A88 || !A88.length){return;}X8c=Z9w.highLowChart;I_y=null;M7j=null;s87=Z9w.inputs[a4I];m7E=0;x7_.Z7I();y$6=0;U9k=0;I44=null;b6r=null;S6u=0;for(var q5L=Math.min(A88.length - 1,Z9w.startFrom);q5L >= 0;q5L--){F$D="_s";F$D+="tate";F$D+=" ";S6u=q5L;if(A88[q5L][F$D + Z9w.name]){K16=A88[q5L]["_state " + Z9w.name];I_y=K16[+"0"];M7j=K16[1];m7E=K16[2];y$6=K16[3];U9k=K16[4];I44=K16[+"5"];b6r=K16[6];break;}}for(var E60=S6u;E60 < A88.length;E60++){q4N="C";q4N+="los";q4N+="e";C8q="L";C8q+="o";C8q+="w";J8K="Cl";J8K+="o";J8K+="se";V1h=A88[E60][X8c?"High":J8K];j87=A88[E60][X8c?C8q:q4N];if(M7j === null || M7j < V1h){M7j=V1h;if(m7E < 0){I_y=j87;}x7_.O$r(162);I44=x7_.v0q(1,M7j,s87,100);if(m7E > -1){if(b6r !== null && M7j > b6r){A88[y$6]["Result " + Z9w.name]=A88[y$6][X8c?"Low":"Close"];t7o(U9k,y$6);m7E=-1;I_y=j87;U9k=y$6;y$6=E60;continue;}}else {y$6=E60;}}if(I_y === null || I_y > j87){I_y=j87;if(m7E > 0){M7j=V1h;}x7_.g33(163);b6r=x7_.b63(1,I_y,s87,100);if(m7E < 1){if(I44 !== null && I_y < I44){A88[y$6]["Result " + Z9w.name]=A88[y$6][X8c?"High":"Close"];t7o(U9k,y$6);x7_.g33(18);m7E=x7_.b63(0,"1");M7j=V1h;U9k=y$6;y$6=E60;continue;}}else {y$6=E60;}}}A88[y$6][z_4 + Z9w.name]=A88[y$6][X8c?m7E == +"1"?N_i:a2z:P3s];A88[y$6]["_state " + Z9w.name]=[I_y,M7j,m7E,y$6,U9k,I44,b6r];function t7o(Z$I,h9I){for(var f7X=Z$I + 1;f7X < h9I;f7X++){A88[f7X]["ShadowResult " + Z9w.name]=(A88[h9I]["Result " + Z9w.name] - A88[Z$I]["Result " + Z9w.name]) * (f7X - Z$I) / (h9I - Z$I) + A88[Z$I]["Result " + Z9w.name];delete A88[f7X]["Result " + Z9w.name];}}t7o(U9k,y$6);x7_.O$r(2);var V61=x7_.b63(9,8);d0G=A88.length - V61;while(d0G > y$6){if(A88[d0G].Close || A88[d0G].Close === 0){A88[d0G]["Result " + Z9w.name]=A88[d0G][X8c?m7E == 1?"High":"Low":"Close"];break;}d0G--;}t7o(y$6,d0G);};E9Y.Studies.displayZigZag=function(W5o,D0X,e43){var G2b,N1m,W7y,Q5C,L3l,Z$j,Z4a;G2b=W5o.chart.highLowBars;x7_.m_N();if(D0X.highLowChart != G2b){D0X.highLowChart=G2b;D0X.startFrom=0;D0X.study.calculateFN(W5o,D0X);}N1m=W5o.chart;for(var n6k=+"0";n6k < e43.length;n6k++){W7y=e43[n6k];if(W7y){if(W7y["_shadowCopy " + D0X.name]){delete W7y["Result " + D0X.name];delete W7y["_shadowCopy " + D0X.name];}if(!W7y["Result " + D0X.name]){if(W7y.transform){delete W7y.transform["Result " + D0X.name];}}}}Q5C=e43[0];x7_.O$r(164);var k7Z=x7_.v0q(19,13,229,19);L3l=e43[e43.length - k7Z];if(Q5C && Q5C["ShadowResult " + D0X.name]){Z$j="_sha";Z$j+="dow";Z$j+="Co";Z$j+="py ";Q5C["Result " + D0X.name]=Q5C["ShadowResult " + D0X.name];if(Q5C.transform){Q5C.transform["Result " + D0X.name]=N1m.transformFunc(W5o,N1m,Q5C["ShadowResult " + D0X.name]);}Q5C[Z$j + D0X.name]=1;}if(L3l && L3l["ShadowResult " + D0X.name]){Z4a="Sh";Z4a+="adowResul";Z4a+="t ";L3l["Result " + D0X.name]=L3l["ShadowResult " + D0X.name];if(L3l.transform){L3l.transform["Result " + D0X.name]=N1m.transformFunc(W5o,N1m,L3l[Z4a + D0X.name]);}L3l["_shadowCopy " + D0X.name]=1;}E9Y.Studies.displaySeriesAsLine(W5o,D0X,e43);};E9Y.Studies.studyLibrary=E9Y.extend(E9Y.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!!({}),seriesFN:E9Y.Studies.displayZigZag,calculateFN:E9Y.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!!""}},attributes:{"Distance(%)":{min:+"0.1",step:"0.1" * 1}}}});}};B7={CIQ:r$,SplinePlotter:S6,timezoneJS:r6,$$:P6,$$$:Y8};export {q as createEngine};export {P as customCharts};export {B as drawing};export {R as easeMachine};export {D as equations};export {X as events};export {m$ as i18n};export {U6 as interaction};export {v9 as markers};export {j3 as market};export {U8 as movement};export {s6 as nameValueStore};export {G1 as quoteFeed};export {l3 as series};export {Z2 as share};export {P0 as span};export {S0 as storage};export {X1 as studies};export {b7 as symbolLookupBase};export {m8 as theme};export {d5 as timezone};export {H_ as touch};export {S$ as visualization};export {M8 as medianPrice};export {I1 as momentum};export {W1 as priceRelative};export {b5 as vwap};export {B4 as zigzag};export {r$ as CIQ, S6 as SplinePlotter, r6 as timezoneJS, P6 as $$, Y8 as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){B7.CIQ.activateImports(q,P,B,R,D,X,m$,U6,v9,j3,U8,s6,G1,l3,Z2,P0,S0,X1,b7,m8,d5,H_,S$,M8,I1,W1,b5,B4,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
